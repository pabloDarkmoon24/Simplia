(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var hm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA;function K0(){if(CA)return Hl;CA=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var xA;function J0(){return xA||(xA=1,hm.exports=K0()),hm.exports}var u=J0(),dm={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function Y0(){if(RA)return Ve;RA=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,U={};function V(M,te,fe){this.props=M,this.context=te,this.refs=U,this.updater=fe||N}V.prototype.isReactComponent={},V.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},V.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function H(){}H.prototype=V.prototype;function Z(M,te,fe){this.props=M,this.context=te,this.refs=U,this.updater=fe||N}var q=Z.prototype=new H;q.constructor=Z,L(q,V.prototype),q.isPureReactComponent=!0;var W=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function x(M,te,fe,de,be,ie){return fe=ie.ref,{$$typeof:s,type:M,key:te,ref:fe!==void 0?fe:null,props:ie}}function T(M,te){return x(M.type,te,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function D(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(fe){return te[fe]})}var j=/\/+/g;function P(M,te){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):te.toString(36)}function I(){}function Ee(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ge(M,te,fe,de,be){var ie=typeof M;(ie==="undefined"||ie==="boolean")&&(M=null);var me=!1;if(M===null)me=!0;else switch(ie){case"bigint":case"string":case"number":me=!0;break;case"object":switch(M.$$typeof){case s:case e:me=!0;break;case A:return me=M._init,ge(me(M._payload),te,fe,de,be)}}if(me)return be=be(M),me=de===""?"."+P(M,0):de,W(be)?(fe="",me!=null&&(fe=me.replace(j,"$&/")+"/"),ge(be,te,fe,"",function(ft){return ft})):be!=null&&(R(be)&&(be=T(be,fe+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(j,"$&/")+"/")+me)),te.push(be)),1;me=0;var Me=de===""?".":de+":";if(W(M))for(var Ce=0;Ce<M.length;Ce++)de=M[Ce],ie=Me+P(de,Ce),me+=ge(de,te,fe,ie,be);else if(Ce=S(M),typeof Ce=="function")for(M=Ce.call(M),Ce=0;!(de=M.next()).done;)de=de.value,ie=Me+P(de,Ce++),me+=ge(de,te,fe,ie,be);else if(ie==="object"){if(typeof M.then=="function")return ge(Ee(M),te,fe,de,be);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return me}function F(M,te,fe){if(M==null)return M;var de=[],be=0;return ge(M,de,"","",function(ie){return te.call(fe,ie,be++)}),de}function oe(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(fe){(M._status===0||M._status===-1)&&(M._status=1,M._result=fe)},function(fe){(M._status===0||M._status===-1)&&(M._status=2,M._result=fe)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var ce=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ye(){}return Ve.Children={map:F,forEach:function(M,te,fe){F(M,function(){te.apply(this,arguments)},fe)},count:function(M){var te=0;return F(M,function(){te++}),te},toArray:function(M){return F(M,function(te){return te})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ve.Component=V,Ve.Fragment=n,Ve.Profiler=o,Ve.PureComponent=Z,Ve.StrictMode=a,Ve.Suspense=g,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ee.H.useMemoCache(M)}},Ve.cache=function(M){return function(){return M.apply(null,arguments)}},Ve.cloneElement=function(M,te,fe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var de=L({},M.props),be=M.key,ie=void 0;if(te!=null)for(me in te.ref!==void 0&&(ie=void 0),te.key!==void 0&&(be=""+te.key),te)!he.call(te,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&te.ref===void 0||(de[me]=te[me]);var me=arguments.length-2;if(me===1)de.children=fe;else if(1<me){for(var Me=Array(me),Ce=0;Ce<me;Ce++)Me[Ce]=arguments[Ce+2];de.children=Me}return x(M.type,be,void 0,void 0,ie,de)},Ve.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ve.createElement=function(M,te,fe){var de,be={},ie=null;if(te!=null)for(de in te.key!==void 0&&(ie=""+te.key),te)he.call(te,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(be[de]=te[de]);var me=arguments.length-2;if(me===1)be.children=fe;else if(1<me){for(var Me=Array(me),Ce=0;Ce<me;Ce++)Me[Ce]=arguments[Ce+2];be.children=Me}if(M&&M.defaultProps)for(de in me=M.defaultProps,me)be[de]===void 0&&(be[de]=me[de]);return x(M,ie,void 0,void 0,null,be)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(M){return{$$typeof:p,render:M}},Ve.isValidElement=R,Ve.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:oe}},Ve.memo=function(M,te){return{$$typeof:y,type:M,compare:te===void 0?null:te}},Ve.startTransition=function(M){var te=ee.T,fe={};ee.T=fe;try{var de=M(),be=ee.S;be!==null&&be(fe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ye,ce)}catch(ie){ce(ie)}finally{ee.T=te}},Ve.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ve.use=function(M){return ee.H.use(M)},Ve.useActionState=function(M,te,fe){return ee.H.useActionState(M,te,fe)},Ve.useCallback=function(M,te){return ee.H.useCallback(M,te)},Ve.useContext=function(M){return ee.H.useContext(M)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(M,te){return ee.H.useDeferredValue(M,te)},Ve.useEffect=function(M,te,fe){var de=ee.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(M,te)},Ve.useId=function(){return ee.H.useId()},Ve.useImperativeHandle=function(M,te,fe){return ee.H.useImperativeHandle(M,te,fe)},Ve.useInsertionEffect=function(M,te){return ee.H.useInsertionEffect(M,te)},Ve.useLayoutEffect=function(M,te){return ee.H.useLayoutEffect(M,te)},Ve.useMemo=function(M,te){return ee.H.useMemo(M,te)},Ve.useOptimistic=function(M,te){return ee.H.useOptimistic(M,te)},Ve.useReducer=function(M,te,fe){return ee.H.useReducer(M,te,fe)},Ve.useRef=function(M){return ee.H.useRef(M)},Ve.useState=function(M){return ee.H.useState(M)},Ve.useSyncExternalStore=function(M,te,fe){return ee.H.useSyncExternalStore(M,te,fe)},Ve.useTransition=function(){return ee.H.useTransition()},Ve.version="19.1.0",Ve}var NA;function up(){return NA||(NA=1,dm.exports=Y0()),dm.exports}var O=up(),fm={exports:{}},Gl={},mm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA;function X0(){return IA||(IA=1,function(s){function e(F,oe){var ce=F.length;F.push(oe);e:for(;0<ce;){var ye=ce-1>>>1,M=F[ye];if(0<o(M,oe))F[ye]=oe,F[ce]=M,ce=ye;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var oe=F[0],ce=F.pop();if(ce!==oe){F[0]=ce;e:for(var ye=0,M=F.length,te=M>>>1;ye<te;){var fe=2*(ye+1)-1,de=F[fe],be=fe+1,ie=F[be];if(0>o(de,ce))be<M&&0>o(ie,de)?(F[ye]=ie,F[be]=ce,ye=be):(F[ye]=de,F[fe]=ce,ye=fe);else if(be<M&&0>o(ie,ce))F[ye]=ie,F[be]=ce,ye=be;else break e}}return oe}function o(F,oe){var ce=F.sortIndex-oe.sortIndex;return ce!==0?ce:F.id-oe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],A=1,b=null,S=3,N=!1,L=!1,U=!1,V=!1,H=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function W(F){for(var oe=n(y);oe!==null;){if(oe.callback===null)a(y);else if(oe.startTime<=F)a(y),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(y)}}function ee(F){if(U=!1,W(F),!L)if(n(g)!==null)L=!0,he||(he=!0,P());else{var oe=n(y);oe!==null&&ge(ee,oe.startTime-F)}}var he=!1,x=-1,T=5,R=-1;function D(){return V?!0:!(s.unstable_now()-R<T)}function j(){if(V=!1,he){var F=s.unstable_now();R=F;var oe=!0;try{e:{L=!1,U&&(U=!1,Z(x),x=-1),N=!0;var ce=S;try{t:{for(W(F),b=n(g);b!==null&&!(b.expirationTime>F&&D());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,S=b.priorityLevel;var M=ye(b.expirationTime<=F);if(F=s.unstable_now(),typeof M=="function"){b.callback=M,W(F),oe=!0;break t}b===n(g)&&a(g),W(F)}else a(g);b=n(g)}if(b!==null)oe=!0;else{var te=n(y);te!==null&&ge(ee,te.startTime-F),oe=!1}}break e}finally{b=null,S=ce,N=!1}oe=void 0}}finally{oe?P():he=!1}}}var P;if(typeof q=="function")P=function(){q(j)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ee=I.port2;I.port1.onmessage=j,P=function(){Ee.postMessage(null)}}else P=function(){H(j,0)};function ge(F,oe){x=H(function(){F(s.unstable_now())},oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(F){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var ce=S;S=oe;try{return F()}finally{S=ce}},s.unstable_requestPaint=function(){V=!0},s.unstable_runWithPriority=function(F,oe){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ce=S;S=F;try{return oe()}finally{S=ce}},s.unstable_scheduleCallback=function(F,oe,ce){var ye=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ye+ce:ye):ce=ye,F){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ce+M,F={id:A++,callback:oe,priorityLevel:F,startTime:ce,expirationTime:M,sortIndex:-1},ce>ye?(F.sortIndex=ce,e(y,F),n(g)===null&&F===n(y)&&(U?(Z(x),x=-1):U=!0,ge(ee,ce-ye))):(F.sortIndex=M,e(g,F),L||N||(L=!0,he||(he=!0,P()))),F},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(F){var oe=S;return function(){var ce=S;S=oe;try{return F.apply(this,arguments)}finally{S=ce}}}}(pm)),pm}var jA;function Z0(){return jA||(jA=1,mm.exports=X0()),mm.exports}var gm={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA;function W0(){if(DA)return hn;DA=1;var s=up();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hn.createPortal=function(g,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,A)},hn.flushSync=function(g){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=y,a.p=A,a.d.f()}},hn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},hn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},hn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:N}):A==="script"&&a.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},hn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);a.d.L(g,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hn.preloadModule=function(g,y){if(typeof g=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},hn.requestFormReset=function(g){a.d.r(g)},hn.unstable_batchedUpdates=function(g,y){return g(y)},hn.useFormState=function(g,y,A){return d.H.useFormState(g,y,A)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.1.0",hn}var OA;function $0(){if(OA)return gm.exports;OA=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gm.exports=W0(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA;function ew(){if(PA)return Gl;PA=1;var s=Z0(),e=up(),n=$0();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,l=i;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){r=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return p(f),t;if(m===l)return p(f),i;m=m.sibling}throw Error(a(188))}if(r.return!==l.return)r=f,l=m;else{for(var E=!1,w=f.child;w;){if(w===r){E=!0,r=f,l=m;break}if(w===l){E=!0,l=f,r=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===r){E=!0,r=m,l=f;break}if(w===l){E=!0,l=m,r=f;break}w=w.sibling}if(!E)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case V:return"Profiler";case U:return"StrictMode";case ee:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case q:return(t.displayName||"Context")+".Provider";case Z:return(t._context.displayName||"Context")+".Consumer";case W:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Ee(t.type)||"Memo";case T:i=t._payload,t=t._init;try{return Ee(t(i))}catch{}}return null}var ge=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ye=[],M=-1;function te(t){return{current:t}}function fe(t){0>M||(t.current=ye[M],ye[M]=null,M--)}function de(t,i){M++,ye[M]=t.current,t.current=i}var be=te(null),ie=te(null),me=te(null),Me=te(null);function Ce(t,i){switch(de(me,i),de(ie,t),de(be,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?eA(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=eA(i),t=tA(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}fe(be),de(be,t)}function ft(){fe(be),fe(ie),fe(me)}function Je(t){t.memoizedState!==null&&de(Me,t);var i=be.current,r=tA(i,t.type);i!==r&&(de(ie,t),de(be,r))}function gn(t){ie.current===t&&(fe(be),fe(ie)),Me.current===t&&(fe(Me),Ul._currentValue=ce)}var ln=Object.prototype.hasOwnProperty,mt=s.unstable_scheduleCallback,Ht=s.unstable_cancelCallback,Tn=s.unstable_shouldYield,Nn=s.unstable_requestPaint,bt=s.unstable_now,ts=s.unstable_getCurrentPriorityLevel,le=s.unstable_ImmediatePriority,_e=s.unstable_UserBlockingPriority,Te=s.unstable_NormalPriority,Ge=s.unstable_LowPriority,ut=s.unstable_IdlePriority,In=s.log,Wt=s.unstable_setDisableYieldValue,Gt=null,Lt=null;function yn(t){if(typeof In=="function"&&Wt(t),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Gt,t)}catch{}}var Qt=Math.clz32?Math.clz32:Pc,md=Math.log,Oc=Math.LN2;function Pc(t){return t>>>=0,t===0?32:31-(md(t)/Oc|0)|0}var As=256,bi=4194304;function ns(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Bn(t,i,r){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?f=ns(l):(E&=w,E!==0?f=ns(E):r||(r=w&~t,r!==0&&(f=ns(r))))):(w=l&~m,w!==0?f=ns(w):E!==0?f=ns(E):r||(r=l&~t,r!==0&&(f=ns(r)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,r=i&-i,m>=r||m===32&&(r&4194048)!==0)?i:f}function Ti(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Tr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var t=As;return As<<=1,(As&4194048)===0&&(As=256),t}function Si(){var t=bi;return bi<<=1,(bi&62914560)===0&&(bi=4194304),t}function Sr(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Tt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kc(t,i,r,l,f,m){var E=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var w=t.entanglements,k=t.expirationTimes,K=t.hiddenUpdates;for(r=E&~r;0<r;){var $=31-Qt(r),ae=1<<$;w[$]=0,k[$]=-1;var J=K[$];if(J!==null)for(K[$]=null,$=0;$<J.length;$++){var Y=J[$];Y!==null&&(Y.lane&=-536870913)}r&=~ae}l!==0&&wi(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(E&~i))}function wi(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ci(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var l=31-Qt(r),f=1<<l;f&i|t[l]&i&&(t[l]|=i),r&=~f}}function Fo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qs(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:_A(t.type))}function pd(t,i){var r=oe.p;try{return oe.p=t,i()}finally{oe.p=r}}var _s=Math.random().toString(36).slice(2),St="__reactFiber$"+_s,$t="__reactProps$"+_s,Ks="__reactContainer$"+_s,Ra="__reactEvents$"+_s,Na="__reactListeners$"+_s,gd="__reactHandles$"+_s,ss="__reactResources$"+_s,xi="__reactMarker$"+_s;function wr(t){delete t[St],delete t[$t],delete t[Ra],delete t[Na],delete t[gd]}function Es(t){var i=t[St];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Ks]||r[St]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=aA(t);t!==null;){if(r=t[St])return r;t=aA(t)}return i}t=r,r=t.parentNode}return null}function bs(t){if(t=t[St]||t[Ks]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ri(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Ni(t){var i=t[ss];return i||(i=t[ss]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[xi]=!0}var Mc=new Set,Ia={};function Ts(t,i){Ss(t,i),Ss(t+"Capture",i)}function Ss(t,i){for(Ia[t]=i,t=0;t<i.length;t++)Mc.add(i[t])}var ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ws={},Cr={};function yd(t){return ln.call(Cr,t)?!0:ln.call(ws,t)?!1:ja.test(t)?Cr[t]=!0:(ws[t]=!0,!1)}function Da(t,i,r){if(yd(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Oa(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function zn(t,i,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+l)}}var Pa,xr;function Js(t){if(Pa===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Pa=i&&i[1]||"",xr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pa+t+xr}var Rr=!1;function Nr(t,i){if(!t||Rr)return"";Rr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Y){var J=Y}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(Y){J=Y}t.call(ae.prototype)}}else{try{throw Error()}catch(Y){J=Y}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Y){if(Y&&J&&typeof Y.stack=="string")return[Y.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var k=E.split(`
`),K=w.split(`
`);for(f=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(l===k.length||f===K.length)for(l=k.length-1,f=K.length-1;1<=l&&0<=f&&k[l]!==K[f];)f--;for(;1<=l&&0<=f;l--,f--)if(k[l]!==K[f]){if(l!==1||f!==1)do if(l--,f--,0>f||k[l]!==K[f]){var $=`
`+k[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{Rr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Js(r):""}function vd(t){switch(t.tag){case 26:case 27:case 5:return Js(t.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 15:return Nr(t.type,!1);case 11:return Nr(t.type.render,!1);case 1:return Nr(t.type,!0);case 31:return Js("Activity");default:return""}}function is(t){try{var i="";do i+=vd(t),t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ka(t){var i=Ii(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,m=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ji(t){t._valueTracker||(t._valueTracker=ka(t))}function tt(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return t&&(l=Ii(t)?t.checked?"true":"false":t.value),t=l,t!==r?(i.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ma=/[\n"\\]/g;function Kt(t){return t.replace(Ma,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ho(t,i,r,l,f,m,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+yt(i)):t.value!==""+yt(i)&&(t.value=""+yt(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Qo(t,E,yt(i)):r!=null?Qo(t,E,yt(r)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+yt(w):t.removeAttribute("name")}function Go(t,i,r,l,f,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;r=r!=null?""+yt(r):"",i=i!=null?""+yt(i):r,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Qo(t,i,r){i==="number"&&Ys(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Di(t,i,r,l){if(t=t.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=i.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&l&&(t[r].defaultSelected=!0)}else{for(r=""+yt(r),i=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Vc(t,i,r){if(i!=null&&(i=""+yt(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+yt(r):""}function Lc(t,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(a(92));if(ge(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=yt(i),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Fn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var Xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(t,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,r):typeof r!="number"||r===0||Xs.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Jo(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&r[f]!==l&&Ko(t,f,l)}else for(var m in i)i.hasOwnProperty(m)&&Ko(t,m,i[m])}function Ir(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(t){return Bc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Yo=null;function Xo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,vn=null;function zc(t){var i=bs(t);if(i&&(t=i.stateNode)){var r=t[$t]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ho(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Kt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==t&&l.form===t.form){var f=l[$t]||null;if(!f)throw Error(a(90));Ho(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===t.form&&tt(l)}break e;case"textarea":Vc(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Di(t,!!r.multiple,i,!1)}}}var Va=!1;function La(t,i,r){if(Va)return t(i,r);Va=!0;try{var l=t(i);return l}finally{if(Va=!1,(Oi!==null||vn!==null)&&(Iu(),Oi&&(i=Oi,t=vn,vn=Oi=null,zc(i),t)))for(i=0;i<t.length;i++)zc(t[i])}}function Pi(t,i){var r=t.stateNode;if(r===null)return null;var l=r[$t]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(An)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{Zs=!1}var qn=null,rt=null,jr=null;function Fc(){if(jr)return jr;var t,i=rt,r=i.length,l,f="value"in qn?qn.value:qn.textContent,m=f.length;for(t=0;t<r&&i[t]===f[t];t++);var E=r-t;for(l=1;l<=E&&i[r-l]===f[m-l];l++);return jr=f.slice(t,1<l?1-l:void 0)}function Ua(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ba(){return!0}function Zo(){return!1}function Ut(t){function i(r,l,f,m,E){this._reactName=r,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(r=t[w],this[w]=r?r(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ba:Zo,this.isPropagationStopped=Zo,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),i}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Ut(cn),Fa=A({},cn,{view:0,detail:0}),qa=Ut(Fa),Dr,Ha,Cs,Ga=A({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cs&&(Cs&&t.type==="mousemove"?(Dr=t.screenX-Cs.screenX,Ha=t.screenY-Cs.screenY):Ha=Dr=0,Cs=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),Qa=Ut(Ga),Ad=A({},Ga,{dataTransfer:0}),qc=Ut(Ad),Ka=A({},Fa,{relatedTarget:0}),Or=Ut(Ka),Hc=A({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=Ut(Hc),$o=A({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gc=Ut($o),Pr=A({},cn,{data:0}),el=Ut(Pr),Qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ws={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Kc[t])?!!i[t]:!1}function kr(){return Jc}var Yc=A({},Fa,{key:function(t){if(t.key){var i=Qc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ws[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?Ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mr=Ut(Yc),_n=A({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Ut(_n),Xc=A({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),Mi=Ut(Xc),h=A({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=Ut(h),_=A({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C=Ut(_),Q=A({},cn,{newState:0,oldState:0}),X=Ut(Q),ue=[9,13,27,32],Pe=An&&"CompositionEvent"in window,ht=null;An&&"documentMode"in document&&(ht=document.documentMode);var We=An&&"TextEvent"in window&&!ht,Ct=An&&(!Pe||ht&&8<ht&&11>=ht),jn=" ",xs=!1;function rs(t,i){switch(t){case"keyup":return ue.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function os(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ls=!1;function nl(t,i){switch(t){case"compositionend":return os(i);case"keypress":return i.which!==32?null:(xs=!0,jn);case"textInput":return t=i.data,t===jn&&xs?null:t;default:return null}}function _S(t,i){if(ls)return t==="compositionend"||!Pe&&rs(t,i)?(t=Fc(),jr=rt=qn=null,ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ct&&i.locale!=="ko"?null:i.data;default:return null}}var ES={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ES[t.type]:i==="textarea"}function pg(t,i,r,l){Oi?vn?vn.push(l):vn=[l]:Oi=l,i=Mu(i,"onChange"),0<i.length&&(r=new za("onChange","change",null,r,l),t.push({event:r,listeners:i}))}var sl=null,il=null;function bS(t){Yv(t,0)}function Zc(t){var i=Ri(t);if(tt(i))return t}function gg(t,i){if(t==="change")return i}var yg=!1;if(An){var _d;if(An){var Ed="oninput"in document;if(!Ed){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Ed=typeof vg.oninput=="function"}_d=Ed}else _d=!1;yg=_d&&(!document.documentMode||9<document.documentMode)}function Ag(){sl&&(sl.detachEvent("onpropertychange",_g),il=sl=null)}function _g(t){if(t.propertyName==="value"&&Zc(il)){var i=[];pg(i,il,t,Xo(t)),La(bS,i)}}function TS(t,i,r){t==="focusin"?(Ag(),sl=i,il=r,sl.attachEvent("onpropertychange",_g)):t==="focusout"&&Ag()}function SS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zc(il)}function wS(t,i){if(t==="click")return Zc(i)}function CS(t,i){if(t==="input"||t==="change")return Zc(i)}function xS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Dn=typeof Object.is=="function"?Object.is:xS;function al(t,i){if(Dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var f=r[l];if(!ln.call(i,f)||!Dn(t[f],i[f]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var r=Eg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=i&&l>=i)return{node:r,offset:i-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Eg(r)}}function Tg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Tg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ys(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Ys(t.document)}return i}function bd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var RS=An&&"documentMode"in document&&11>=document.documentMode,Vr=null,Td=null,rl=null,Sd=!1;function wg(t,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sd||Vr==null||Vr!==Ys(l)||(l=Vr,"selectionStart"in l&&bd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&al(rl,l)||(rl=l,l=Mu(Td,"onSelect"),0<l.length&&(i=new za("onSelect","select",null,i,r),t.push({event:i,listeners:l}),i.target=Vr)))}function Ja(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Lr={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},wd={},Cg={};An&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Ya(t){if(wd[t])return wd[t];if(!Lr[t])return t;var i=Lr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Cg)return wd[t]=i[r];return t}var xg=Ya("animationend"),Rg=Ya("animationiteration"),Ng=Ya("animationstart"),NS=Ya("transitionrun"),IS=Ya("transitionstart"),jS=Ya("transitioncancel"),Ig=Ya("transitionend"),jg=new Map,Cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cd.push("scrollEnd");function cs(t,i){jg.set(t,i),Ts(i,[t])}var Dg=new WeakMap;function Hn(t,i){if(typeof t=="object"&&t!==null){var r=Dg.get(t);return r!==void 0?r:(i={value:t,source:i,stack:is(i)},Dg.set(t,i),i)}return{value:t,source:i,stack:is(i)}}var Gn=[],Ur=0,xd=0;function Wc(){for(var t=Ur,i=xd=Ur=0;i<t;){var r=Gn[i];Gn[i++]=null;var l=Gn[i];Gn[i++]=null;var f=Gn[i];Gn[i++]=null;var m=Gn[i];if(Gn[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&Og(r,f,m)}}function $c(t,i,r,l){Gn[Ur++]=t,Gn[Ur++]=i,Gn[Ur++]=r,Gn[Ur++]=l,xd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rd(t,i,r,l){return $c(t,i,r,l),eu(t)}function Br(t,i){return $c(t,null,null,i),eu(t)}function Og(t,i,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var f=!1,m=t.return;m!==null;)m.childLanes|=r,l=m.alternate,l!==null&&(l.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-Qt(r),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=r|536870912),m):null}function eu(t){if(50<jl)throw jl=0,kf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var zr={};function DS(t,i,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,i,r,l){return new DS(t,i,r,l)}function Nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $s(t,i){var r=t.alternate;return r===null?(r=On(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Pg(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tu(t,i,r,l,f,m){var E=0;if(l=t,typeof t=="function")Nd(t)&&(E=1);else if(typeof t=="string")E=P0(t,r,be.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=On(31,r,i,f),t.elementType=R,t.lanes=m,t;case L:return Xa(r.children,f,m,i);case U:E=8,f|=24;break;case V:return t=On(12,r,i,f|2),t.elementType=V,t.lanes=m,t;case ee:return t=On(13,r,i,f),t.elementType=ee,t.lanes=m,t;case he:return t=On(19,r,i,f),t.elementType=he,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case q:E=10;break e;case Z:E=9;break e;case W:E=11;break e;case x:E=14;break e;case T:E=16,l=null;break e}E=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=On(E,r,i,f),i.elementType=t,i.type=l,i.lanes=m,i}function Xa(t,i,r,l){return t=On(7,t,l,i),t.lanes=r,t}function Id(t,i,r){return t=On(6,t,null,i),t.lanes=r,t}function jd(t,i,r){return i=On(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Fr=[],qr=0,nu=null,su=0,Qn=[],Kn=0,Za=null,ei=1,ti="";function Wa(t,i){Fr[qr++]=su,Fr[qr++]=nu,nu=t,su=i}function kg(t,i,r){Qn[Kn++]=ei,Qn[Kn++]=ti,Qn[Kn++]=Za,Za=t;var l=ei;t=ti;var f=32-Qt(l)-1;l&=~(1<<f),r+=1;var m=32-Qt(i)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,ei=1<<32-Qt(i)+f|r<<f|l,ti=m+t}else ei=1<<m|r<<f|l,ti=t}function Dd(t){t.return!==null&&(Wa(t,1),kg(t,1,0))}function Od(t){for(;t===nu;)nu=Fr[--qr],Fr[qr]=null,su=Fr[--qr],Fr[qr]=null;for(;t===Za;)Za=Qn[--Kn],Qn[Kn]=null,ti=Qn[--Kn],Qn[Kn]=null,ei=Qn[--Kn],Qn[Kn]=null}var En=null,_t=null,Xe=!1,$a=null,Rs=!1,Pd=Error(a(519));function er(t){var i=Error(a(418,""));throw cl(Hn(i,t)),Pd}function Mg(t){var i=t.stateNode,r=t.type,l=t.memoizedProps;switch(i[St]=t,i[$t]=l,r){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(r=0;r<Ol.length;r++)ze(Ol[r],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),Go(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ji(i);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),Lc(i,l.value,l.defaultValue,l.children),ji(i)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||$v(i.textContent,r)?(l.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),l.onScroll!=null&&ze("scroll",i),l.onScrollEnd!=null&&ze("scrollend",i),l.onClick!=null&&(i.onclick=Vu),i=!0):i=!1,i||er(t)}function Vg(t){for(En=t.return;En;)switch(En.tag){case 5:case 13:Rs=!1;return;case 27:case 3:Rs=!0;return;default:En=En.return}}function ol(t){if(t!==En)return!1;if(!Xe)return Vg(t),Xe=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Zf(t.type,t.memoizedProps)),r=!r),r&&_t&&er(t),Vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(i===0){_t=hs(t.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;t=t.nextSibling}_t=null}}else i===27?(i=_t,Wi(t.type)?(t=tm,tm=null,_t=t):_t=i):_t=En?hs(t.stateNode.nextSibling):null;return!0}function ll(){_t=En=null,Xe=!1}function Lg(){var t=$a;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),$a=null),t}function cl(t){$a===null?$a=[t]:$a.push(t)}var kd=te(null),tr=null,ni=null;function Vi(t,i,r){de(kd,i._currentValue),i._currentValue=r}function si(t){t._currentValue=kd.current,fe(kd)}function Md(t,i,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===r)break;t=t.return}}function Vd(t,i,r,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var k=0;k<i.length;k++)if(w.context===i[k]){m.lanes|=r,w=m.alternate,w!==null&&(w.lanes|=r),Md(m.return,r,t),l||(E=null);break e}m=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=r,m=E.alternate,m!==null&&(m.lanes|=r),Md(E,r,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ul(t,i,r,l){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var w=f.type;Dn(f.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(f===Me.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}f=f.return}t!==null&&Vd(i,t,r,l),i.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function nr(t){tr=t,ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function un(t){return Ug(tr,t)}function au(t,i){return tr===null&&nr(t),Ug(t,i)}function Ug(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},ni===null){if(t===null)throw Error(a(308));ni=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ni=ni.next=i;return r}var OS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},PS=s.unstable_scheduleCallback,kS=s.unstable_NormalPriority,Bt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new OS,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&PS(kS,function(){t.controller.abort()})}var dl=null,Ud=0,Hr=0,Gr=null;function MS(t,i){if(dl===null){var r=dl=[];Ud=0,Hr=Ff(),Gr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Ud++,i.then(Bg,Bg),i}function Bg(){if(--Ud===0&&dl!==null){Gr!==null&&(Gr.status="fulfilled");var t=dl;dl=null,Hr=0,Gr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function VS(t,i){var r=[],l={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),l}var zg=F.S;F.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&MS(t,i),zg!==null&&zg(t,i)};var sr=te(null);function Bd(){var t=sr.current;return t!==null?t:ot.pooledCache}function ru(t,i){i===null?de(sr,sr.current):de(sr,i.pool)}function Fg(){var t=Bd();return t===null?null:{parent:Bt._currentValue,pool:t}}var fl=Error(a(460)),qg=Error(a(474)),ou=Error(a(542)),zd={then:function(){}};function Hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lu(){}function Gg(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(lu,lu),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then(lu,lu);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw ml=i,fl}}var ml=null;function Qg(){if(ml===null)throw Error(a(459));var t=ml;return ml=null,t}function Kg(t){if(t===fl||t===ou)throw Error(a(483))}var Li=!1;function Fd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(t,i,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=eu(t),Og(t,null,r),i}return $c(t,l,i,r),eu(t)}function pl(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,Ci(t,r)}}function Hd(t,i){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,r=r.next}while(r!==null);m===null?f=m=i:m=m.next=i}else f=m=i;r={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Gd=!1;function gl(){if(Gd){var t=Gr;if(t!==null)throw t}}function yl(t,i,r,l){Gd=!1;var f=t.updateQueue;Li=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var k=w,K=k.next;k.next=null,E===null?m=K:E.next=K,E=k;var $=t.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==E&&(w===null?$.firstBaseUpdate=K:w.next=K,$.lastBaseUpdate=k))}if(m!==null){var ae=f.baseState;E=0,$=K=k=null,w=m;do{var J=w.lane&-536870913,Y=J!==w.lane;if(Y?(Qe&J)===J:(l&J)===J){J!==0&&J===Hr&&(Gd=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var je=t,xe=w;J=i;var it=r;switch(xe.tag){case 1:if(je=xe.payload,typeof je=="function"){ae=je.call(it,ae,J);break e}ae=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=xe.payload,J=typeof je=="function"?je.call(it,ae,J):je,J==null)break e;ae=A({},ae,J);break e;case 2:Li=!0}}J=w.callback,J!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[J]:Y.push(J))}else Y={lane:J,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(K=$=Y,k=ae):$=$.next=Y,E|=J;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);$===null&&(k=ae),f.baseState=k,f.firstBaseUpdate=K,f.lastBaseUpdate=$,m===null&&(f.shared.lanes=0),Ji|=E,t.lanes=E,t.memoizedState=ae}}function Jg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Yg(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Jg(r[t],i)}var Qr=te(null),cu=te(0);function Xg(t,i){t=ui,de(cu,t),de(Qr,i),ui=t|i.baseLanes}function Qd(){de(cu,ui),de(Qr,Qr.current)}function Kd(){ui=cu.current,fe(Qr),fe(cu)}var zi=0,Le=null,nt=null,Dt=null,uu=!1,Kr=!1,ir=!1,hu=0,vl=0,Jr=null,LS=0;function xt(){throw Error(a(321))}function Jd(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!Dn(t[r],i[r]))return!1;return!0}function Yd(t,i,r,l,f,m){return zi=m,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?Oy:Py,ir=!1,m=r(l,f),ir=!1,Kr&&(m=Wg(i,r,l,f)),Zg(t),m}function Zg(t){F.H=yu;var i=nt!==null&&nt.next!==null;if(zi=0,Dt=nt=Le=null,uu=!1,vl=0,Jr=null,i)throw Error(a(300));t===null||Jt||(t=t.dependencies,t!==null&&iu(t)&&(Jt=!0))}function Wg(t,i,r,l){Le=t;var f=0;do{if(Kr&&(Jr=null),vl=0,Kr=!1,25<=f)throw Error(a(301));if(f+=1,Dt=nt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=GS,m=i(r,l)}while(Kr);return m}function US(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?Al(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Le.flags|=1024),i}function Xd(){var t=hu!==0;return hu=0,t}function Zd(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Wd(t){if(uu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uu=!1}zi=0,Dt=nt=Le=null,Kr=!1,vl=hu=0,Jr=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Le.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Ot(){if(nt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=Dt===null?Le.memoizedState:Dt.next;if(i!==null)Dt=i,nt=t;else{if(t===null)throw Le.alternate===null?Error(a(467)):Error(a(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Dt===null?Le.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var i=vl;return vl+=1,Jr===null&&(Jr=[]),t=Gg(Jr,t,i),i=Le,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Oy:Py),t}function du(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===q)return un(t)}throw Error(a(438,String(t)))}function ef(t){var i=null,r=Le.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=$d(),Le.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),l=0;l<t;l++)r[l]=D;return i.index++,r}function ii(t,i){return typeof i=="function"?i(t):i}function fu(t){var i=Ot();return tf(i,nt,t)}function tf(t,i,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}i.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var w=E=null,k=null,K=i,$=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(Qe&ae)===ae:(zi&ae)===ae){var J=K.revertLane;if(J===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===Hr&&($=!0);else if((zi&J)===J){K=K.next,J===Hr&&($=!0);continue}else ae={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(w=k=ae,E=m):k=k.next=ae,Le.lanes|=J,Ji|=J;ae=K.action,ir&&r(m,ae),m=K.hasEagerState?K.eagerState:r(m,ae)}else J={lane:ae,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(w=k=J,E=m):k=k.next=J,Le.lanes|=ae,Ji|=ae;K=K.next}while(K!==null&&K!==i);if(k===null?E=m:k.next=w,!Dn(m,t.memoizedState)&&(Jt=!0,$&&(r=Gr,r!==null)))throw r;t.memoizedState=m,t.baseState=E,t.baseQueue=k,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nf(t){var i=Ot(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,f=r.pending,m=i.memoizedState;if(f!==null){r.pending=null;var E=f=f.next;do m=t(m,E.action),E=E.next;while(E!==f);Dn(m,i.memoizedState)||(Jt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,l]}function $g(t,i,r){var l=Le,f=Ot(),m=Xe;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=i();var E=!Dn((nt||f).memoizedState,r);E&&(f.memoizedState=r,Jt=!0),f=f.queue;var w=ny.bind(null,l,f,t);if(_l(2048,8,w,[t]),f.getSnapshot!==i||E||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,Yr(9,mu(),ty.bind(null,l,f,r,i),null),ot===null)throw Error(a(349));m||(zi&124)!==0||ey(l,i,r)}return r}function ey(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Le.updateQueue,i===null?(i=$d(),Le.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function ty(t,i,r,l){i.value=r,i.getSnapshot=l,sy(i)&&iy(t)}function ny(t,i,r){return r(function(){sy(i)&&iy(t)})}function sy(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!Dn(t,r)}catch{return!0}}function iy(t){var i=Br(t,2);i!==null&&Ln(i,t,2)}function sf(t){var i=Sn();if(typeof t=="function"){var r=t;if(t=r(),ir){yn(!0);try{r()}finally{yn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:t},i}function ay(t,i,r,l){return t.baseState=r,tf(t,nt,typeof l=="function"?l:ii)}function BS(t,i,r,l,f){if(gu(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};F.T!==null?r(!0):m.isTransition=!1,l(m),r=i.pending,r===null?(m.next=i.pending=m,ry(i,m)):(m.next=r.next,i.pending=r.next=m)}}function ry(t,i){var r=i.action,l=i.payload,f=t.state;if(i.isTransition){var m=F.T,E={};F.T=E;try{var w=r(f,l),k=F.S;k!==null&&k(E,w),oy(t,i,w)}catch(K){af(t,i,K)}finally{F.T=m}}else try{m=r(f,l),oy(t,i,m)}catch(K){af(t,i,K)}}function oy(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){ly(t,i,l)},function(l){return af(t,i,l)}):ly(t,i,r)}function ly(t,i,r){i.status="fulfilled",i.value=r,cy(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,ry(t,r)))}function af(t,i,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,cy(i),i=i.next;while(i!==l)}t.action=null}function cy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function uy(t,i){return i}function hy(t,i){if(Xe){var r=ot.formState;if(r!==null){e:{var l=Le;if(Xe){if(_t){t:{for(var f=_t,m=Rs;f.nodeType!==8;){if(!m){f=null;break t}if(f=hs(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){_t=hs(f.nextSibling),l=f.data==="F!";break e}}er(l)}l=!1}l&&(i=r[0])}}return r=Sn(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uy,lastRenderedState:i},r.queue=l,r=Iy.bind(null,Le,l),l.dispatch=r,l=sf(!1),m=uf.bind(null,Le,!1,l.queue),l=Sn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,r=BS.bind(null,Le,f,m,r),f.dispatch=r,l.memoizedState=t,[i,r,!1]}function dy(t){var i=Ot();return fy(i,nt,t)}function fy(t,i,r){if(i=tf(t,i,uy)[0],t=fu(ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Al(i)}catch(E){throw E===fl?ou:E}else l=i;i=Ot();var f=i.queue,m=f.dispatch;return r!==i.memoizedState&&(Le.flags|=2048,Yr(9,mu(),zS.bind(null,f,r),null)),[l,m,t]}function zS(t,i){t.action=i}function my(t){var i=Ot(),r=nt;if(r!==null)return fy(i,r,t);Ot(),i=i.memoizedState,r=Ot();var l=r.queue.dispatch;return r.memoizedState=t,[i,l,!1]}function Yr(t,i,r,l){return t={tag:t,create:r,deps:l,inst:i,next:null},i=Le.updateQueue,i===null&&(i=$d(),Le.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,i.lastEffect=t),t}function mu(){return{destroy:void 0,resource:void 0}}function py(){return Ot().memoizedState}function pu(t,i,r,l){var f=Sn();l=l===void 0?null:l,Le.flags|=t,f.memoizedState=Yr(1|i,mu(),r,l)}function _l(t,i,r,l){var f=Ot();l=l===void 0?null:l;var m=f.memoizedState.inst;nt!==null&&l!==null&&Jd(l,nt.memoizedState.deps)?f.memoizedState=Yr(i,m,r,l):(Le.flags|=t,f.memoizedState=Yr(1|i,m,r,l))}function gy(t,i){pu(8390656,8,t,i)}function yy(t,i){_l(2048,8,t,i)}function vy(t,i){return _l(4,2,t,i)}function Ay(t,i){return _l(4,4,t,i)}function _y(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ey(t,i,r){r=r!=null?r.concat([t]):null,_l(4,4,_y.bind(null,i,t),r)}function rf(){}function by(t,i){var r=Ot();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&Jd(i,l[1])?l[0]:(r.memoizedState=[t,i],t)}function Ty(t,i){var r=Ot();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&Jd(i,l[1]))return l[0];if(l=t(),ir){yn(!0);try{t()}finally{yn(!1)}}return r.memoizedState=[l,i],l}function of(t,i,r){return r===void 0||(zi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=r,t=Cv(),Le.lanes|=t,Ji|=t,r)}function Sy(t,i,r,l){return Dn(r,i)?r:Qr.current!==null?(t=of(t,r,l),Dn(t,i)||(Jt=!0),t):(zi&42)===0?(Jt=!0,t.memoizedState=r):(t=Cv(),Le.lanes|=t,Ji|=t,i)}function wy(t,i,r,l,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var E=F.T,w={};F.T=w,uf(t,!1,i,r);try{var k=f(),K=F.S;if(K!==null&&K(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=VS(k,l);El(t,i,$,Vn(t))}else El(t,i,l,Vn(t))}catch(ae){El(t,i,{then:function(){},status:"rejected",reason:ae},Vn())}finally{oe.p=m,F.T=E}}function FS(){}function lf(t,i,r,l){if(t.tag!==5)throw Error(a(476));var f=Cy(t).queue;wy(t,f,i,ce,r===null?FS:function(){return xy(t),r(l)})}function Cy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:ce},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=Cy(t).next.queue;El(t,i,{},Vn())}function cf(){return un(Ul)}function Ry(){return Ot().memoizedState}function Ny(){return Ot().memoizedState}function qS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Vn();t=Ui(r);var l=Bi(i,t,r);l!==null&&(Ln(l,i,r),pl(l,i,r)),i={cache:Ld()},t.payload=i;return}i=i.return}}function HS(t,i,r){var l=Vn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},gu(t)?jy(i,r):(r=Rd(t,i,r,l),r!==null&&(Ln(r,t,l),Dy(r,i,l)))}function Iy(t,i,r){var l=Vn();El(t,i,r,l)}function El(t,i,r,l){var f={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(gu(t))jy(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,w=m(E,r);if(f.hasEagerState=!0,f.eagerState=w,Dn(w,E))return $c(t,i,f,0),ot===null&&Wc(),!1}catch{}finally{}if(r=Rd(t,i,f,l),r!==null)return Ln(r,t,l),Dy(r,i,l),!0}return!1}function uf(t,i,r,l){if(l={lane:2,revertLane:Ff(),action:l,hasEagerState:!1,eagerState:null,next:null},gu(t)){if(i)throw Error(a(479))}else i=Rd(t,r,l,2),i!==null&&Ln(i,t,2)}function gu(t){var i=t.alternate;return t===Le||i!==null&&i===Le}function jy(t,i){Kr=uu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Dy(t,i,r){if((r&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,Ci(t,r)}}var yu={readContext:un,use:du,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},Oy={readContext:un,use:du,useCallback:function(t,i){return Sn().memoizedState=[t,i===void 0?null:i],t},useContext:un,useEffect:gy,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,pu(4194308,4,_y.bind(null,i,t),r)},useLayoutEffect:function(t,i){return pu(4194308,4,t,i)},useInsertionEffect:function(t,i){pu(4,2,t,i)},useMemo:function(t,i){var r=Sn();i=i===void 0?null:i;var l=t();if(ir){yn(!0);try{t()}finally{yn(!1)}}return r.memoizedState=[l,i],l},useReducer:function(t,i,r){var l=Sn();if(r!==void 0){var f=r(i);if(ir){yn(!0);try{r(i)}finally{yn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=HS.bind(null,Le,t),[l.memoizedState,t]},useRef:function(t){var i=Sn();return t={current:t},i.memoizedState=t},useState:function(t){t=sf(t);var i=t.queue,r=Iy.bind(null,Le,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:rf,useDeferredValue:function(t,i){var r=Sn();return of(r,t,i)},useTransition:function(){var t=sf(!1);return t=wy.bind(null,Le,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var l=Le,f=Sn();if(Xe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),ot===null)throw Error(a(349));(Qe&124)!==0||ey(l,i,r)}f.memoizedState=r;var m={value:r,getSnapshot:i};return f.queue=m,gy(ny.bind(null,l,m,t),[t]),l.flags|=2048,Yr(9,mu(),ty.bind(null,l,m,r,i),null),r},useId:function(){var t=Sn(),i=ot.identifierPrefix;if(Xe){var r=ti,l=ei;r=(l&~(1<<32-Qt(l)-1)).toString(32)+r,i=""+i+"R"+r,r=hu++,0<r&&(i+="H"+r.toString(32)),i+=""}else r=LS++,i=""+i+"r"+r.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:cf,useFormState:hy,useActionState:hy,useOptimistic:function(t){var i=Sn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=uf.bind(null,Le,!0,r),r.dispatch=i,[t,i]},useMemoCache:ef,useCacheRefresh:function(){return Sn().memoizedState=qS.bind(null,Le)}},Py={readContext:un,use:du,useCallback:by,useContext:un,useEffect:yy,useImperativeHandle:Ey,useInsertionEffect:vy,useLayoutEffect:Ay,useMemo:Ty,useReducer:fu,useRef:py,useState:function(){return fu(ii)},useDebugValue:rf,useDeferredValue:function(t,i){var r=Ot();return Sy(r,nt.memoizedState,t,i)},useTransition:function(){var t=fu(ii)[0],i=Ot().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:$g,useId:Ry,useHostTransitionStatus:cf,useFormState:dy,useActionState:dy,useOptimistic:function(t,i){var r=Ot();return ay(r,nt,t,i)},useMemoCache:ef,useCacheRefresh:Ny},GS={readContext:un,use:du,useCallback:by,useContext:un,useEffect:yy,useImperativeHandle:Ey,useInsertionEffect:vy,useLayoutEffect:Ay,useMemo:Ty,useReducer:nf,useRef:py,useState:function(){return nf(ii)},useDebugValue:rf,useDeferredValue:function(t,i){var r=Ot();return nt===null?of(r,t,i):Sy(r,nt.memoizedState,t,i)},useTransition:function(){var t=nf(ii)[0],i=Ot().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:$g,useId:Ry,useHostTransitionStatus:cf,useFormState:my,useActionState:my,useOptimistic:function(t,i){var r=Ot();return nt!==null?ay(r,nt,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ef,useCacheRefresh:Ny},Xr=null,bl=0;function vu(t){var i=bl;return bl+=1,Xr===null&&(Xr=[]),Gg(Xr,t,i)}function Tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Au(t,i){throw i.$$typeof===b?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ky(t){var i=t._init;return i(t._payload)}function My(t){function i(z,B){if(t){var G=z.deletions;G===null?(z.deletions=[B],z.flags|=16):G.push(B)}}function r(z,B){if(!t)return null;for(;B!==null;)i(z,B),B=B.sibling;return null}function l(z){for(var B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function f(z,B){return z=$s(z,B),z.index=0,z.sibling=null,z}function m(z,B,G){return z.index=G,t?(G=z.alternate,G!==null?(G=G.index,G<B?(z.flags|=67108866,B):G):(z.flags|=67108866,B)):(z.flags|=1048576,B)}function E(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function w(z,B,G,ne){return B===null||B.tag!==6?(B=Id(G,z.mode,ne),B.return=z,B):(B=f(B,G),B.return=z,B)}function k(z,B,G,ne){var Ae=G.type;return Ae===L?$(z,B,G.props.children,ne,G.key):B!==null&&(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===T&&ky(Ae)===B.type)?(B=f(B,G.props),Tl(B,G),B.return=z,B):(B=tu(G.type,G.key,G.props,null,z.mode,ne),Tl(B,G),B.return=z,B)}function K(z,B,G,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=jd(G,z.mode,ne),B.return=z,B):(B=f(B,G.children||[]),B.return=z,B)}function $(z,B,G,ne,Ae){return B===null||B.tag!==7?(B=Xa(G,z.mode,ne,Ae),B.return=z,B):(B=f(B,G),B.return=z,B)}function ae(z,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Id(""+B,z.mode,G),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return G=tu(B.type,B.key,B.props,null,z.mode,G),Tl(G,B),G.return=z,G;case N:return B=jd(B,z.mode,G),B.return=z,B;case T:var ne=B._init;return B=ne(B._payload),ae(z,B,G)}if(ge(B)||P(B))return B=Xa(B,z.mode,G,null),B.return=z,B;if(typeof B.then=="function")return ae(z,vu(B),G);if(B.$$typeof===q)return ae(z,au(z,B),G);Au(z,B)}return null}function J(z,B,G,ne){var Ae=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ae!==null?null:w(z,B,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===Ae?k(z,B,G,ne):null;case N:return G.key===Ae?K(z,B,G,ne):null;case T:return Ae=G._init,G=Ae(G._payload),J(z,B,G,ne)}if(ge(G)||P(G))return Ae!==null?null:$(z,B,G,ne,null);if(typeof G.then=="function")return J(z,B,vu(G),ne);if(G.$$typeof===q)return J(z,B,au(z,G),ne);Au(z,G)}return null}function Y(z,B,G,ne,Ae){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(G)||null,w(B,z,""+ne,Ae);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return z=z.get(ne.key===null?G:ne.key)||null,k(B,z,ne,Ae);case N:return z=z.get(ne.key===null?G:ne.key)||null,K(B,z,ne,Ae);case T:var Ue=ne._init;return ne=Ue(ne._payload),Y(z,B,G,ne,Ae)}if(ge(ne)||P(ne))return z=z.get(G)||null,$(B,z,ne,Ae,null);if(typeof ne.then=="function")return Y(z,B,G,vu(ne),Ae);if(ne.$$typeof===q)return Y(z,B,G,au(B,ne),Ae);Au(B,ne)}return null}function je(z,B,G,ne){for(var Ae=null,Ue=null,Se=B,Re=B=0,Xt=null;Se!==null&&Re<G.length;Re++){Se.index>Re?(Xt=Se,Se=null):Xt=Se.sibling;var Ye=J(z,Se,G[Re],ne);if(Ye===null){Se===null&&(Se=Xt);break}t&&Se&&Ye.alternate===null&&i(z,Se),B=m(Ye,B,Re),Ue===null?Ae=Ye:Ue.sibling=Ye,Ue=Ye,Se=Xt}if(Re===G.length)return r(z,Se),Xe&&Wa(z,Re),Ae;if(Se===null){for(;Re<G.length;Re++)Se=ae(z,G[Re],ne),Se!==null&&(B=m(Se,B,Re),Ue===null?Ae=Se:Ue.sibling=Se,Ue=Se);return Xe&&Wa(z,Re),Ae}for(Se=l(Se);Re<G.length;Re++)Xt=Y(Se,z,Re,G[Re],ne),Xt!==null&&(t&&Xt.alternate!==null&&Se.delete(Xt.key===null?Re:Xt.key),B=m(Xt,B,Re),Ue===null?Ae=Xt:Ue.sibling=Xt,Ue=Xt);return t&&Se.forEach(function(sa){return i(z,sa)}),Xe&&Wa(z,Re),Ae}function xe(z,B,G,ne){if(G==null)throw Error(a(151));for(var Ae=null,Ue=null,Se=B,Re=B=0,Xt=null,Ye=G.next();Se!==null&&!Ye.done;Re++,Ye=G.next()){Se.index>Re?(Xt=Se,Se=null):Xt=Se.sibling;var sa=J(z,Se,Ye.value,ne);if(sa===null){Se===null&&(Se=Xt);break}t&&Se&&sa.alternate===null&&i(z,Se),B=m(sa,B,Re),Ue===null?Ae=sa:Ue.sibling=sa,Ue=sa,Se=Xt}if(Ye.done)return r(z,Se),Xe&&Wa(z,Re),Ae;if(Se===null){for(;!Ye.done;Re++,Ye=G.next())Ye=ae(z,Ye.value,ne),Ye!==null&&(B=m(Ye,B,Re),Ue===null?Ae=Ye:Ue.sibling=Ye,Ue=Ye);return Xe&&Wa(z,Re),Ae}for(Se=l(Se);!Ye.done;Re++,Ye=G.next())Ye=Y(Se,z,Re,Ye.value,ne),Ye!==null&&(t&&Ye.alternate!==null&&Se.delete(Ye.key===null?Re:Ye.key),B=m(Ye,B,Re),Ue===null?Ae=Ye:Ue.sibling=Ye,Ue=Ye);return t&&Se.forEach(function(Q0){return i(z,Q0)}),Xe&&Wa(z,Re),Ae}function it(z,B,G,ne){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:e:{for(var Ae=G.key;B!==null;){if(B.key===Ae){if(Ae=G.type,Ae===L){if(B.tag===7){r(z,B.sibling),ne=f(B,G.props.children),ne.return=z,z=ne;break e}}else if(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===T&&ky(Ae)===B.type){r(z,B.sibling),ne=f(B,G.props),Tl(ne,G),ne.return=z,z=ne;break e}r(z,B);break}else i(z,B);B=B.sibling}G.type===L?(ne=Xa(G.props.children,z.mode,ne,G.key),ne.return=z,z=ne):(ne=tu(G.type,G.key,G.props,null,z.mode,ne),Tl(ne,G),ne.return=z,z=ne)}return E(z);case N:e:{for(Ae=G.key;B!==null;){if(B.key===Ae)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){r(z,B.sibling),ne=f(B,G.children||[]),ne.return=z,z=ne;break e}else{r(z,B);break}else i(z,B);B=B.sibling}ne=jd(G,z.mode,ne),ne.return=z,z=ne}return E(z);case T:return Ae=G._init,G=Ae(G._payload),it(z,B,G,ne)}if(ge(G))return je(z,B,G,ne);if(P(G)){if(Ae=P(G),typeof Ae!="function")throw Error(a(150));return G=Ae.call(G),xe(z,B,G,ne)}if(typeof G.then=="function")return it(z,B,vu(G),ne);if(G.$$typeof===q)return it(z,B,au(z,G),ne);Au(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(r(z,B.sibling),ne=f(B,G),ne.return=z,z=ne):(r(z,B),ne=Id(G,z.mode,ne),ne.return=z,z=ne),E(z)):r(z,B)}return function(z,B,G,ne){try{bl=0;var Ae=it(z,B,G,ne);return Xr=null,Ae}catch(Se){if(Se===fl||Se===ou)throw Se;var Ue=On(29,Se,null,z.mode);return Ue.lanes=ne,Ue.return=z,Ue}finally{}}}var Zr=My(!0),Vy=My(!1),Jn=te(null),Ns=null;function Fi(t){var i=t.alternate;de(zt,zt.current&1),de(Jn,t),Ns===null&&(i===null||Qr.current!==null||i.memoizedState!==null)&&(Ns=t)}function Ly(t){if(t.tag===22){if(de(zt,zt.current),de(Jn,t),Ns===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Ns=t)}}else qi()}function qi(){de(zt,zt.current),de(Jn,Jn.current)}function ai(t){fe(Jn),Ns===t&&(Ns=null),fe(zt)}var zt=te(0);function _u(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||em(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function hf(t,i,r,l){i=t.memoizedState,r=r(l,i),r=r==null?i:A({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var df={enqueueSetState:function(t,i,r){t=t._reactInternals;var l=Vn(),f=Ui(l);f.payload=i,r!=null&&(f.callback=r),i=Bi(t,f,l),i!==null&&(Ln(i,t,l),pl(i,t,l))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var l=Vn(),f=Ui(l);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Bi(t,f,l),i!==null&&(Ln(i,t,l),pl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Vn(),l=Ui(r);l.tag=2,i!=null&&(l.callback=i),i=Bi(t,l,r),i!==null&&(Ln(i,t,r),pl(i,t,r))}};function Uy(t,i,r,l,f,m,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,E):i.prototype&&i.prototype.isPureReactComponent?!al(r,l)||!al(f,m):!0}function By(t,i,r,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==t&&df.enqueueReplaceState(i,i.state,null)}function ar(t,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(t=t.defaultProps){r===i&&(r=A({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}var Eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zy(t){Eu(t)}function Fy(t){console.error(t)}function qy(t){Eu(t)}function bu(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(t,i,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ff(t,i,r){return r=Ui(r),r.tag=3,r.payload={element:null},r.callback=function(){bu(t,i)},r}function Gy(t){return t=Ui(t),t.tag=3,t}function Qy(t,i,r,l){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){Hy(i,r,l)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Hy(i,r,l),typeof f!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function QS(t,i,r,l,f){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&ul(i,r,f,!0),r=Jn.current,r!==null){switch(r.tag){case 13:return Ns===null?Vf():r.alternate===null&&Et===0&&(Et=3),r.flags&=-257,r.flags|=65536,r.lanes=f,l===zd?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),Uf(t,l,f)),!1;case 22:return r.flags|=65536,l===zd?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),Uf(t,l,f)),!1}throw Error(a(435,r.tag))}return Uf(t,l,f),Vf(),!1}if(Xe)return i=Jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Pd&&(t=Error(a(422),{cause:l}),cl(Hn(t,r)))):(l!==Pd&&(i=Error(a(423),{cause:l}),cl(Hn(i,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Hn(l,r),f=ff(t.stateNode,l,f),Hd(t,f),Et!==4&&(Et=2)),!1;var m=Error(a(520),{cause:l});if(m=Hn(m,r),Il===null?Il=[m]:Il.push(m),Et!==4&&(Et=2),i===null)return!0;l=Hn(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=ff(r.stateNode,l,t),Hd(r,t),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Yi===null||!Yi.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=Gy(f),Qy(f,t,r,l),Hd(r,f),!1}r=r.return}while(r!==null);return!1}var Ky=Error(a(461)),Jt=!1;function en(t,i,r,l){i.child=t===null?Vy(i,null,r,l):Zr(i,t.child,r,l)}function Jy(t,i,r,l,f){r=r.render;var m=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return nr(i),l=Yd(t,i,r,E,m,f),w=Xd(),t!==null&&!Jt?(Zd(t,i,f),ri(t,i,f)):(Xe&&w&&Dd(i),i.flags|=1,en(t,i,l,f),i.child)}function Yy(t,i,r,l,f){if(t===null){var m=r.type;return typeof m=="function"&&!Nd(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,Xy(t,i,m,l,f)):(t=tu(r.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Ef(t,f)){var E=m.memoizedProps;if(r=r.compare,r=r!==null?r:al,r(E,l)&&t.ref===i.ref)return ri(t,i,f)}return i.flags|=1,t=$s(m,l),t.ref=i.ref,t.return=i,i.child=t}function Xy(t,i,r,l,f){if(t!==null){var m=t.memoizedProps;if(al(m,l)&&t.ref===i.ref)if(Jt=!1,i.pendingProps=l=m,Ef(t,f))(t.flags&131072)!==0&&(Jt=!0);else return i.lanes=t.lanes,ri(t,i,f)}return mf(t,i,r,l,f)}function Zy(t,i,r){var l=i.pendingProps,f=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|r:r,t!==null){for(f=i.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return Wy(t,i,l,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ru(i,m!==null?m.cachePool:null),m!==null?Xg(i,m):Qd(),Ly(i);else return i.lanes=i.childLanes=536870912,Wy(t,i,m!==null?m.baseLanes|r:r,r)}else m!==null?(ru(i,m.cachePool),Xg(i,m),qi(),i.memoizedState=null):(t!==null&&ru(i,null),Qd(),qi());return en(t,i,f,r),i.child}function Wy(t,i,r,l){var f=Bd();return f=f===null?null:{parent:Bt._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},t!==null&&ru(i,null),Qd(),Ly(i),t!==null&&ul(t,i,l,!0),null}function Tu(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function mf(t,i,r,l,f){return nr(i),r=Yd(t,i,r,l,void 0,f),l=Xd(),t!==null&&!Jt?(Zd(t,i,f),ri(t,i,f)):(Xe&&l&&Dd(i),i.flags|=1,en(t,i,r,f),i.child)}function $y(t,i,r,l,f,m){return nr(i),i.updateQueue=null,r=Wg(i,l,r,f),Zg(t),l=Xd(),t!==null&&!Jt?(Zd(t,i,m),ri(t,i,m)):(Xe&&l&&Dd(i),i.flags|=1,en(t,i,r,m),i.child)}function ev(t,i,r,l,f){if(nr(i),i.stateNode===null){var m=zr,E=r.contextType;typeof E=="object"&&E!==null&&(m=un(E)),m=new r(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=df,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Fd(i),E=r.contextType,m.context=typeof E=="object"&&E!==null?un(E):zr,m.state=i.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(hf(i,r,E,l),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&df.enqueueReplaceState(m,m.state,null),yl(i,l,m,f),gl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var w=i.memoizedProps,k=ar(r,w);m.props=k;var K=m.context,$=r.contextType;E=zr,typeof $=="object"&&$!==null&&(E=un($));var ae=r.getDerivedStateFromProps;$=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||K!==E)&&By(i,m,l,E),Li=!1;var J=i.memoizedState;m.state=J,yl(i,l,m,f),gl(),K=i.memoizedState,w||J!==K||Li?(typeof ae=="function"&&(hf(i,r,ae,l),K=i.memoizedState),(k=Li||Uy(i,r,k,l,J,K,E))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=K),m.props=l,m.state=K,m.context=E,l=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,qd(t,i),E=i.memoizedProps,$=ar(r,E),m.props=$,ae=i.pendingProps,J=m.context,K=r.contextType,k=zr,typeof K=="object"&&K!==null&&(k=un(K)),w=r.getDerivedStateFromProps,(K=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ae||J!==k)&&By(i,m,l,k),Li=!1,J=i.memoizedState,m.state=J,yl(i,l,m,f),gl();var Y=i.memoizedState;E!==ae||J!==Y||Li||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof w=="function"&&(hf(i,r,w,l),Y=i.memoizedState),($=Li||Uy(i,r,$,l,J,Y,k)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&J===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&J===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),m.props=l,m.state=Y,m.context=k,l=$):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&J===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&J===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,Tu(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=Zr(i,t.child,null,f),i.child=Zr(i,null,r,f)):en(t,i,r,f),i.memoizedState=m.state,t=i.child):t=ri(t,i,f),t}function tv(t,i,r,l){return ll(),i.flags|=256,en(t,i,r,l),i.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(t){return{baseLanes:t,cachePool:Fg()}}function yf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Yn),t}function nv(t,i,r){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Xe){if(f?Fi(i):qi(),Xe){var w=_t,k;if(k=w){e:{for(k=w,w=Rs;k.nodeType!==8;){if(!w){w=null;break e}if(k=hs(k.nextSibling),k===null){w=null;break e}}w=k}w!==null?(i.memoizedState={dehydrated:w,treeContext:Za!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},k=On(18,null,null,0),k.stateNode=w,k.return=i,i.child=k,En=i,_t=null,k=!0):k=!1}k||er(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return em(w)?i.lanes=32:i.lanes=536870912,null;ai(i)}return w=l.children,l=l.fallback,f?(qi(),f=i.mode,w=Su({mode:"hidden",children:w},f),l=Xa(l,f,r,null),w.return=i,l.return=i,w.sibling=l,i.child=w,f=i.child,f.memoizedState=gf(r),f.childLanes=yf(t,E,r),i.memoizedState=pf,l):(Fi(i),vf(i,w))}if(k=t.memoizedState,k!==null&&(w=k.dehydrated,w!==null)){if(m)i.flags&256?(Fi(i),i.flags&=-257,i=Af(t,i,r)):i.memoizedState!==null?(qi(),i.child=t.child,i.flags|=128,i=null):(qi(),f=l.fallback,w=i.mode,l=Su({mode:"visible",children:l.children},w),f=Xa(f,w,r,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Zr(i,t.child,null,r),l=i.child,l.memoizedState=gf(r),l.childLanes=yf(t,E,r),i.memoizedState=pf,i=f);else if(Fi(i),em(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var K=E.dgst;E=K,l=Error(a(419)),l.stack="",l.digest=E,cl({value:l,source:null,stack:null}),i=Af(t,i,r)}else if(Jt||ul(t,i,r,!1),E=(r&t.childLanes)!==0,Jt||E){if(E=ot,E!==null&&(l=r&-r,l=(l&42)!==0?1:Fo(l),l=(l&(E.suspendedLanes|r))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,Br(t,l),Ln(E,t,l),Ky;w.data==="$?"||Vf(),i=Af(t,i,r)}else w.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=k.treeContext,_t=hs(w.nextSibling),En=i,Xe=!0,$a=null,Rs=!1,t!==null&&(Qn[Kn++]=ei,Qn[Kn++]=ti,Qn[Kn++]=Za,ei=t.id,ti=t.overflow,Za=i),i=vf(i,l.children),i.flags|=4096);return i}return f?(qi(),f=l.fallback,w=i.mode,k=t.child,K=k.sibling,l=$s(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,K!==null?f=$s(K,f):(f=Xa(f,w,r,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,w=t.child.memoizedState,w===null?w=gf(r):(k=w.cachePool,k!==null?(K=Bt._currentValue,k=k.parent!==K?{parent:K,pool:K}:k):k=Fg(),w={baseLanes:w.baseLanes|r,cachePool:k}),f.memoizedState=w,f.childLanes=yf(t,E,r),i.memoizedState=pf,l):(Fi(i),r=t.child,t=r.sibling,r=$s(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=r,i.memoizedState=null,r)}function vf(t,i){return i=Su({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Su(t,i){return t=On(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Af(t,i,r){return Zr(i,t.child,null,r),t=vf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function sv(t,i,r){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Md(t.return,i,r)}function _f(t,i,r,l,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=r,m.tailMode=f)}function iv(t,i,r){var l=i.pendingProps,f=l.revealOrder,m=l.tail;if(en(t,i,l.children,r),l=zt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sv(t,r,i);else if(t.tag===19)sv(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(de(zt,l),f){case"forwards":for(r=i.child,f=null;r!==null;)t=r.alternate,t!==null&&_u(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),_f(i,!1,f,r,m);break;case"backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&_u(t)===null){i.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}_f(i,!0,r,null,m);break;case"together":_f(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ri(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Ji|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(ul(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=$s(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=$s(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Ef(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function KS(t,i,r){switch(i.tag){case 3:Ce(i,i.stateNode.containerInfo),Vi(i,Bt,t.memoizedState.cache),ll();break;case 27:case 5:Je(i);break;case 4:Ce(i,i.stateNode.containerInfo);break;case 10:Vi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(i),i.flags|=128,null):(r&i.child.childLanes)!==0?nv(t,i,r):(Fi(i),t=ri(t,i,r),t!==null?t.sibling:null);Fi(i);break;case 19:var f=(t.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(ul(t,i,r,!1),l=(r&i.childLanes)!==0),f){if(l)return iv(t,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),de(zt,zt.current),l)break;return null;case 22:case 23:return i.lanes=0,Zy(t,i,r);case 24:Vi(i,Bt,t.memoizedState.cache)}return ri(t,i,r)}function av(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Jt=!0;else{if(!Ef(t,r)&&(i.flags&128)===0)return Jt=!1,KS(t,i,r);Jt=(t.flags&131072)!==0}else Jt=!1,Xe&&(i.flags&1048576)!==0&&kg(i,su,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Nd(l)?(t=ar(l,t),i.tag=1,i=ev(null,i,l,t,r)):(i.tag=0,i=mf(null,i,l,t,r));else{if(l!=null){if(f=l.$$typeof,f===W){i.tag=11,i=Jy(null,i,l,t,r);break e}else if(f===x){i.tag=14,i=Yy(null,i,l,t,r);break e}}throw i=Ee(l)||l,Error(a(306,i,""))}}return i;case 0:return mf(t,i,i.type,i.pendingProps,r);case 1:return l=i.type,f=ar(l,i.pendingProps),ev(t,i,l,f,r);case 3:e:{if(Ce(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var m=i.memoizedState;f=m.element,qd(t,i),yl(i,l,null,r);var E=i.memoizedState;if(l=E.cache,Vi(i,Bt,l),l!==m.cache&&Vd(i,[Bt],r,!0),gl(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=tv(t,i,l,r);break e}else if(l!==f){f=Hn(Error(a(424)),i),cl(f),i=tv(t,i,l,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=hs(t.firstChild),En=i,Xe=!0,$a=null,Rs=!0,r=Vy(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ll(),l===f){i=ri(t,i,r);break e}en(t,i,l,r)}i=i.child}return i;case 26:return Tu(t,i),t===null?(r=cA(i.type,null,i.pendingProps,null))?i.memoizedState=r:Xe||(r=i.type,t=i.pendingProps,l=Lu(me.current).createElement(r),l[St]=i,l[$t]=t,nn(l,r,t),wt(l),i.stateNode=l):i.memoizedState=cA(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Je(i),t===null&&Xe&&(l=i.stateNode=rA(i.type,i.pendingProps,me.current),En=i,Rs=!0,f=_t,Wi(i.type)?(tm=f,_t=hs(l.firstChild)):_t=f),en(t,i,i.pendingProps.children,r),Tu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Xe&&((f=l=_t)&&(l=E0(l,i.type,i.pendingProps,Rs),l!==null?(i.stateNode=l,En=i,_t=hs(l.firstChild),Rs=!1,f=!0):f=!1),f||er(i)),Je(i),f=i.type,m=i.pendingProps,E=t!==null?t.memoizedProps:null,l=m.children,Zf(f,m)?l=null:E!==null&&Zf(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Yd(t,i,US,null,null,r),Ul._currentValue=f),Tu(t,i),en(t,i,l,r),i.child;case 6:return t===null&&Xe&&((t=r=_t)&&(r=b0(r,i.pendingProps,Rs),r!==null?(i.stateNode=r,En=i,_t=null,t=!0):t=!1),t||er(i)),null;case 13:return nv(t,i,r);case 4:return Ce(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Zr(i,null,l,r):en(t,i,l,r),i.child;case 11:return Jy(t,i,i.type,i.pendingProps,r);case 7:return en(t,i,i.pendingProps,r),i.child;case 8:return en(t,i,i.pendingProps.children,r),i.child;case 12:return en(t,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,Vi(i,i.type,l.value),en(t,i,l.children,r),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,nr(i),f=un(f),l=l(f),i.flags|=1,en(t,i,l,r),i.child;case 14:return Yy(t,i,i.type,i.pendingProps,r);case 15:return Xy(t,i,i.type,i.pendingProps,r);case 19:return iv(t,i,r);case 31:return l=i.pendingProps,r=i.mode,l={mode:l.mode,children:l.children},t===null?(r=Su(l,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=$s(t.child,l),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return Zy(t,i,r);case 24:return nr(i),l=un(Bt),t===null?(f=Bd(),f===null&&(f=ot,m=Ld(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),i.memoizedState={parent:l,cache:f},Fd(i),Vi(i,Bt,f)):((t.lanes&r)!==0&&(qd(t,i),yl(i,null,null,r),gl()),f=t.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Vi(i,Bt,l)):(l=m.cache,Vi(i,Bt,l),l!==f.cache&&Vd(i,[Bt],r,!0))),en(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function oi(t){t.flags|=4}function rv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mA(i)){if(i=Jn.current,i!==null&&((Qe&4194048)===Qe?Ns!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||i!==Ns))throw ml=zd,qg;t.flags|=8192}}function wu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Si():536870912,t.lanes|=i,to|=i)}function Sl(t,i){if(!Xe)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function vt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(i)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=r,i}function JS(t,i,r){var l=i.pendingProps;switch(Od(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return r=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),si(Bt),ft(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ol(i)?oi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lg())),vt(i),null;case 26:return r=i.memoizedState,t===null?(oi(i),r!==null?(vt(i),rv(i,r)):(vt(i),i.flags&=-16777217)):r?r!==t.memoizedState?(oi(i),vt(i),rv(i,r)):(vt(i),i.flags&=-16777217):(t.memoizedProps!==l&&oi(i),vt(i),i.flags&=-16777217),null;case 27:gn(i),r=me.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&oi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return vt(i),null}t=be.current,ol(i)?Mg(i):(t=rA(f,l,r),i.stateNode=t,oi(i))}return vt(i),null;case 5:if(gn(i),r=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&oi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return vt(i),null}if(t=be.current,ol(i))Mg(i);else{switch(f=Lu(me.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(r,{is:l.is}):f.createElement(r)}}t[St]=i,t[$t]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(nn(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&oi(i)}}return vt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&oi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=me.current,ol(i)){if(t=i.stateNode,r=i.memoizedProps,l=null,f=En,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=i,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||$v(t.nodeValue,r)),t||er(i)}else t=Lu(t).createTextNode(l),t[St]=i,i.stateNode=t}return vt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ol(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[St]=i}else ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),f=!1}else f=Lg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ai(i),i):(ai(i),null)}if(ai(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return r!==t&&r&&(i.child.flags|=8192),wu(i,i.updateQueue),vt(i),null;case 4:return ft(),t===null&&Qf(i.stateNode.containerInfo),vt(i),null;case 10:return si(i.type),vt(i),null;case 19:if(fe(zt),f=i.memoizedState,f===null)return vt(i),null;if(l=(i.flags&128)!==0,m=f.rendering,m===null)if(l)Sl(f,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=_u(t),m!==null){for(i.flags|=128,Sl(f,!1),t=m.updateQueue,i.updateQueue=t,wu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Pg(r,t),r=r.sibling;return de(zt,zt.current&1|2),i.child}t=t.sibling}f.tail!==null&&bt()>Ru&&(i.flags|=128,l=!0,Sl(f,!1),i.lanes=4194304)}else{if(!l)if(t=_u(m),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,wu(i,t),Sl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Xe)return vt(i),null}else 2*bt()-f.renderingStartTime>Ru&&r!==536870912&&(i.flags|=128,l=!0,Sl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(t=f.last,t!==null?t.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=bt(),i.sibling=null,t=zt.current,de(zt,l?t&1|2:t&1),i):(vt(i),null);case 22:case 23:return ai(i),Kd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),r=i.updateQueue,r!==null&&wu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),t!==null&&fe(sr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),si(Bt),vt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function YS(t,i){switch(Od(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return si(Bt),ft(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return gn(i),null;case 13:if(ai(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ll()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return fe(zt),null;case 4:return ft(),null;case 10:return si(i.type),null;case 22:case 23:return ai(i),Kd(),t!==null&&fe(sr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return si(Bt),null;case 25:return null;default:return null}}function ov(t,i){switch(Od(i),i.tag){case 3:si(Bt),ft();break;case 26:case 27:case 5:gn(i);break;case 4:ft();break;case 13:ai(i);break;case 19:fe(zt);break;case 10:si(i.type);break;case 22:case 23:ai(i),Kd(),t!==null&&fe(sr);break;case 24:si(Bt)}}function wl(t,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var f=l.next;r=f;do{if((r.tag&t)===t){l=void 0;var m=r.create,E=r.inst;l=m(),E.destroy=l}r=r.next}while(r!==f)}}catch(w){at(i,i.return,w)}}function Hi(t,i,r){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=i;var k=r,K=w;try{K()}catch($){at(f,k,$)}}}l=l.next}while(l!==m)}}catch($){at(i,i.return,$)}}function lv(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{Yg(i,r)}catch(l){at(t,t.return,l)}}}function cv(t,i,r){r.props=ar(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){at(t,i,l)}}function Cl(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(f){at(t,i,f)}}function Is(t,i){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(f){at(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){at(t,i,f)}else r.current=null}function uv(t){var i=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(f){at(t,t.return,f)}}function bf(t,i,r){try{var l=t.stateNode;g0(l,t.type,r,i),l[$t]=i}catch(f){at(t,t.return,f)}}function hv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wi(t.type)||t.tag===4}function Tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sf(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Vu));else if(l!==4&&(l===27&&Wi(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(Sf(t,i,r),t=t.sibling;t!==null;)Sf(t,i,r),t=t.sibling}function Cu(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(l!==4&&(l===27&&Wi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Cu(t,i,r),t=t.sibling;t!==null;)Cu(t,i,r),t=t.sibling}function dv(t){var i=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);nn(i,l,r),i[St]=t,i[$t]=r}catch(m){at(t,t.return,m)}}var li=!1,Rt=!1,wf=!1,fv=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function XS(t,i){if(t=t.containerInfo,Yf=Hu,t=Sg(t),bd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var E=0,w=-1,k=-1,K=0,$=0,ae=t,J=null;t:for(;;){for(var Y;ae!==r||f!==0&&ae.nodeType!==3||(w=E+f),ae!==m||l!==0&&ae.nodeType!==3||(k=E+l),ae.nodeType===3&&(E+=ae.nodeValue.length),(Y=ae.firstChild)!==null;)J=ae,ae=Y;for(;;){if(ae===t)break t;if(J===r&&++K===f&&(w=E),J===m&&++$===l&&(k=E),(Y=ae.nextSibling)!==null)break;ae=J,J=ae.parentNode}ae=Y}r=w===-1||k===-1?null:{start:w,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xf={focusedElem:t,selectionRange:r},Hu=!1,Yt=i;Yt!==null;)if(i=Yt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Yt=t;else for(;Yt!==null;){switch(i=Yt,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=i,f=m.memoizedProps,m=m.memoizedState,l=r.stateNode;try{var je=ar(r.type,f,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(je,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){at(r,r.return,xe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)$f(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$f(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Yt=t;break}Yt=i.return}}function mv(t,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Gi(t,r),l&4&&wl(5,r);break;case 1:if(Gi(t,r),l&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(E){at(r,r.return,E)}else{var f=ar(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){at(r,r.return,E)}}l&64&&lv(r),l&512&&Cl(r,r.return);break;case 3:if(Gi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Yg(t,i)}catch(E){at(r,r.return,E)}}break;case 27:i===null&&l&4&&dv(r);case 26:case 5:Gi(t,r),i===null&&l&4&&uv(r),l&512&&Cl(r,r.return);break;case 12:Gi(t,r);break;case 13:Gi(t,r),l&4&&yv(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=a0.bind(null,r),T0(t,r))));break;case 22:if(l=r.memoizedState!==null||li,!l){i=i!==null&&i.memoizedState!==null||Rt,f=li;var m=Rt;li=l,(Rt=i)&&!m?Qi(t,r,(r.subtreeFlags&8772)!==0):Gi(t,r),li=f,Rt=m}break;case 30:break;default:Gi(t,r)}}function pv(t){var i=t.alternate;i!==null&&(t.alternate=null,pv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&wr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,wn=!1;function ci(t,i,r){for(r=r.child;r!==null;)gv(t,i,r),r=r.sibling}function gv(t,i,r){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Gt,r)}catch{}switch(r.tag){case 26:Rt||Is(r,i),ci(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Rt||Is(r,i);var l=pt,f=wn;Wi(r.type)&&(pt=r.stateNode,wn=!1),ci(t,i,r),kl(r.stateNode),pt=l,wn=f;break;case 5:Rt||Is(r,i);case 6:if(l=pt,f=wn,pt=null,ci(t,i,r),pt=l,wn=f,pt!==null)if(wn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(r.stateNode)}catch(m){at(r,i,m)}else try{pt.removeChild(r.stateNode)}catch(m){at(r,i,m)}break;case 18:pt!==null&&(wn?(t=pt,iA(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ql(t)):iA(pt,r.stateNode));break;case 4:l=pt,f=wn,pt=r.stateNode.containerInfo,wn=!0,ci(t,i,r),pt=l,wn=f;break;case 0:case 11:case 14:case 15:Rt||Hi(2,r,i),Rt||Hi(4,r,i),ci(t,i,r);break;case 1:Rt||(Is(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&cv(r,i,l)),ci(t,i,r);break;case 21:ci(t,i,r);break;case 22:Rt=(l=Rt)||r.memoizedState!==null,ci(t,i,r),Rt=l;break;default:ci(t,i,r)}}function yv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ql(t)}catch(r){at(i,i.return,r)}}function ZS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new fv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new fv),i;default:throw Error(a(435,t.tag))}}function Cf(t,i){var r=ZS(t);i.forEach(function(l){var f=r0.bind(null,t,l);r.has(l)||(r.add(l),l.then(f,f))})}function Pn(t,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var f=r[l],m=t,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(Wi(w.type)){pt=w.stateNode,wn=!1;break e}break;case 5:pt=w.stateNode,wn=!1;break e;case 3:case 4:pt=w.stateNode.containerInfo,wn=!0;break e}w=w.return}if(pt===null)throw Error(a(160));gv(m,E,f),pt=null,wn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)vv(i,t),i=i.sibling}var us=null;function vv(t,i){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(i,t),kn(t),l&4&&(Hi(3,t,t.return),wl(3,t),Hi(5,t,t.return));break;case 1:Pn(i,t),kn(t),l&512&&(Rt||r===null||Is(r,r.return)),l&64&&li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var f=us;if(Pn(i,t),kn(t),l&512&&(Rt||r===null||Is(r,r.return)),l&4){var m=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[xi]||m[St]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),nn(m,l,r),m[St]=t,wt(m),l=m;break e;case"link":var E=dA("link","href",f).get(l+(r.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(w,1);break t}}m=f.createElement(l),nn(m,l,r),f.head.appendChild(m);break;case"meta":if(E=dA("meta","content",f).get(l+(r.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(w,1);break t}}m=f.createElement(l),nn(m,l,r),f.head.appendChild(m);break;default:throw Error(a(468,l))}m[St]=t,wt(m),l=m}t.stateNode=l}else fA(f,t.type,t.stateNode);else t.stateNode=hA(f,l,t.memoizedProps);else m!==l?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,l===null?fA(f,t.type,t.stateNode):hA(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Pn(i,t),kn(t),l&512&&(Rt||r===null||Is(r,r.return)),r!==null&&l&4&&bf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Pn(i,t),kn(t),l&512&&(Rt||r===null||Is(r,r.return)),t.flags&32){f=t.stateNode;try{Fn(f,"")}catch(Y){at(t,t.return,Y)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,bf(t,f,r!==null?r.memoizedProps:f)),l&1024&&(wf=!0);break;case 6:if(Pn(i,t),kn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(Y){at(t,t.return,Y)}}break;case 3:if(zu=null,f=us,us=Uu(i.containerInfo),Pn(i,t),us=f,kn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ql(i.containerInfo)}catch(Y){at(t,t.return,Y)}wf&&(wf=!1,Av(t));break;case 4:l=us,us=Uu(t.stateNode.containerInfo),Pn(i,t),kn(t),us=l;break;case 12:Pn(i,t),kn(t);break;case 13:Pn(i,t),kn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Df=bt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cf(t,l)));break;case 22:f=t.memoizedState!==null;var k=r!==null&&r.memoizedState!==null,K=li,$=Rt;if(li=K||f,Rt=$||k,Pn(i,t),Rt=$,li=K,kn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(r===null||k||li||Rt||rr(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){k=r=i;try{if(m=k.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=k.stateNode;var ae=k.memoizedProps.style,J=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;w.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Y){at(k,k.return,Y)}}}else if(i.tag===6){if(r===null){k=i;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(Y){at(k,k.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Cf(t,r))));break;case 19:Pn(i,t),kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cf(t,l)));break;case 30:break;case 21:break;default:Pn(i,t),kn(t)}}function kn(t){var i=t.flags;if(i&2){try{for(var r,l=t.return;l!==null;){if(hv(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var f=r.stateNode,m=Tf(t);Cu(t,m,f);break;case 5:var E=r.stateNode;r.flags&32&&(Fn(E,""),r.flags&=-33);var w=Tf(t);Cu(t,w,E);break;case 3:case 4:var k=r.stateNode.containerInfo,K=Tf(t);Sf(t,K,k);break;default:throw Error(a(161))}}catch($){at(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Av(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Av(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Gi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)mv(t,i.alternate,i),i=i.sibling}function rr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Hi(4,i,i.return),rr(i);break;case 1:Is(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&cv(i,i.return,r),rr(i);break;case 27:kl(i.stateNode);case 26:case 5:Is(i,i.return),rr(i);break;case 22:i.memoizedState===null&&rr(i);break;case 30:rr(i);break;default:rr(i)}t=t.sibling}}function Qi(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:Qi(f,m,r),wl(4,m);break;case 1:if(Qi(f,m,r),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){at(l,l.return,K)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)Jg(k[f],w)}catch(K){at(l,l.return,K)}}r&&E&64&&lv(m),Cl(m,m.return);break;case 27:dv(m);case 26:case 5:Qi(f,m,r),r&&l===null&&E&4&&uv(m),Cl(m,m.return);break;case 12:Qi(f,m,r);break;case 13:Qi(f,m,r),r&&E&4&&yv(f,m);break;case 22:m.memoizedState===null&&Qi(f,m,r),Cl(m,m.return);break;case 30:break;default:Qi(f,m,r)}i=i.sibling}}function xf(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&hl(r))}function Rf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&hl(t))}function js(t,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_v(t,i,r,l),i=i.sibling}function _v(t,i,r,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:js(t,i,r,l),f&2048&&wl(9,i);break;case 1:js(t,i,r,l);break;case 3:js(t,i,r,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&hl(t)));break;case 12:if(f&2048){js(t,i,r,l),t=i.stateNode;try{var m=i.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){at(i,i.return,k)}}else js(t,i,r,l);break;case 13:js(t,i,r,l);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?js(t,i,r,l):xl(t,i):m._visibility&2?js(t,i,r,l):(m._visibility|=2,Wr(t,i,r,l,(i.subtreeFlags&10256)!==0)),f&2048&&xf(E,i);break;case 24:js(t,i,r,l),f&2048&&Rf(i.alternate,i);break;default:js(t,i,r,l)}}function Wr(t,i,r,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,E=i,w=r,k=l,K=E.flags;switch(E.tag){case 0:case 11:case 15:Wr(m,E,w,k,f),wl(8,E);break;case 23:break;case 22:var $=E.stateNode;E.memoizedState!==null?$._visibility&2?Wr(m,E,w,k,f):xl(m,E):($._visibility|=2,Wr(m,E,w,k,f)),f&&K&2048&&xf(E.alternate,E);break;case 24:Wr(m,E,w,k,f),f&&K&2048&&Rf(E.alternate,E);break;default:Wr(m,E,w,k,f)}i=i.sibling}}function xl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,l=i,f=l.flags;switch(l.tag){case 22:xl(r,l),f&2048&&xf(l.alternate,l);break;case 24:xl(r,l),f&2048&&Rf(l.alternate,l);break;default:xl(r,l)}i=i.sibling}}var Rl=8192;function $r(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)Ev(t),t=t.sibling}function Ev(t){switch(t.tag){case 26:$r(t),t.flags&Rl&&t.memoizedState!==null&&M0(us,t.memoizedState,t.memoizedProps);break;case 5:$r(t);break;case 3:case 4:var i=us;us=Uu(t.stateNode.containerInfo),$r(t),us=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Rl,Rl=16777216,$r(t),Rl=i):$r(t));break;default:$r(t)}}function bv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Nl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Yt=l,Sv(l,t)}bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tv(t),t=t.sibling}function Tv(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&Hi(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xu(t)):Nl(t);break;default:Nl(t)}}function xu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Yt=l,Sv(l,t)}bv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Hi(8,i,i.return),xu(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,xu(i));break;default:xu(i)}t=t.sibling}}function Sv(t,i){for(;Yt!==null;){var r=Yt;switch(r.tag){case 0:case 11:case 15:Hi(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Yt=l;else e:for(r=t;Yt!==null;){l=Yt;var f=l.sibling,m=l.return;if(pv(l),l===r){Yt=null;break e}if(f!==null){f.return=m,Yt=f;break e}Yt=m}}}var WS={getCacheForType:function(t){var i=un(Bt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r}},$S=typeof WeakMap=="function"?WeakMap:Map,$e=0,ot=null,Be=null,Qe=0,et=0,Mn=null,Ki=!1,eo=!1,Nf=!1,ui=0,Et=0,Ji=0,or=0,If=0,Yn=0,to=0,Il=null,Cn=null,jf=!1,Df=0,Ru=1/0,Nu=null,Yi=null,tn=0,Xi=null,no=null,so=0,Of=0,Pf=null,wv=null,jl=0,kf=null;function Vn(){if(($e&2)!==0&&Qe!==0)return Qe&-Qe;if(F.T!==null){var t=Hr;return t!==0?t:Ff()}return Qs()}function Cv(){Yn===0&&(Yn=(Qe&536870912)===0||Xe?zo():536870912);var t=Jn.current;return t!==null&&(t.flags|=32),Yn}function Ln(t,i,r){(t===ot&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(io(t,0),Zi(t,Qe,Yn,!1)),Tt(t,r),(($e&2)===0||t!==ot)&&(t===ot&&(($e&2)===0&&(or|=r),Et===4&&Zi(t,Qe,Yn,!1)),Ds(t))}function xv(t,i,r){if(($e&6)!==0)throw Error(a(327));var l=!r&&(i&124)===0&&(i&t.expiredLanes)===0||Ti(t,i),f=l?n0(t,i):Lf(t,i,!0),m=l;do{if(f===0){eo&&!l&&Zi(t,i,0,!1);break}else{if(r=t.current.alternate,m&&!e0(r)){f=Lf(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=t;f=Il;var k=w.current.memoizedState.isDehydrated;if(k&&(io(w,E).flags|=256),E=Lf(w,E,!1),E!==2){if(Nf&&!k){w.errorRecoveryDisabledLanes|=m,or|=m,f=4;break e}m=Cn,Cn=f,m!==null&&(Cn===null?Cn=m:Cn.push.apply(Cn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){io(t,0),Zi(t,i,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Zi(l,i,Yn,!Ki);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Df+300-bt(),10<f)){if(Zi(l,i,Yn,!Ki),Bn(l,0,!0)!==0)break e;l.timeoutHandle=nA(Rv.bind(null,l,r,Cn,Nu,jf,i,Yn,or,to,Ki,m,2,-0,0),f);break e}Rv(l,r,Cn,Nu,jf,i,Yn,or,to,Ki,m,0,-0,0)}}break}while(!0);Ds(t)}function Rv(t,i,r,l,f,m,E,w,k,K,$,ae,J,Y){if(t.timeoutHandle=-1,ae=i.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:k0},Ev(i),ae=V0(),ae!==null)){t.cancelPendingCommit=ae(kv.bind(null,t,i,m,r,l,f,E,w,k,$,1,J,Y)),Zi(t,m,E,!K);return}kv(t,i,m,r,l,f,E,w,k)}function e0(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var f=r[l],m=f.getSnapshot;f=f.value;try{if(!Dn(m(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zi(t,i,r,l){i&=~If,i&=~or,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var m=31-Qt(f),E=1<<m;l[m]=-1,f&=~E}r!==0&&wi(t,r,i)}function Iu(){return($e&6)===0?(Dl(0),!1):!0}function Mf(){if(Be!==null){if(et===0)var t=Be.return;else t=Be,ni=tr=null,Wd(t),Xr=null,bl=0,t=Be;for(;t!==null;)ov(t.alternate,t),t=t.return;Be=null}}function io(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,v0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Mf(),ot=t,Be=r=$s(t.current,null),Qe=i,et=0,Mn=null,Ki=!1,eo=Ti(t,i),Nf=!1,to=Yn=If=or=Ji=Et=0,Cn=Il=null,jf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Qt(l),m=1<<f;i|=t[f],l&=~m}return ui=i,Wc(),r}function Nv(t,i){Le=null,F.H=yu,i===fl||i===ou?(i=Qg(),et=3):i===qg?(i=Qg(),et=4):et=i===Ky?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mn=i,Be===null&&(Et=1,bu(t,Hn(i,t.current)))}function Iv(){var t=F.H;return F.H=yu,t===null?yu:t}function jv(){var t=F.A;return F.A=WS,t}function Vf(){Et=4,Ki||(Qe&4194048)!==Qe&&Jn.current!==null||(eo=!0),(Ji&134217727)===0&&(or&134217727)===0||ot===null||Zi(ot,Qe,Yn,!1)}function Lf(t,i,r){var l=$e;$e|=2;var f=Iv(),m=jv();(ot!==t||Qe!==i)&&(Nu=null,io(t,i)),i=!1;var E=Et;e:do try{if(et!==0&&Be!==null){var w=Be,k=Mn;switch(et){case 8:Mf(),E=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(i=!0);var K=et;if(et=0,Mn=null,ao(t,w,k,K),r&&eo){E=0;break e}break;default:K=et,et=0,Mn=null,ao(t,w,k,K)}}t0(),E=Et;break}catch($){Nv(t,$)}while(!0);return i&&t.shellSuspendCounter++,ni=tr=null,$e=l,F.H=f,F.A=m,Be===null&&(ot=null,Qe=0,Wc()),E}function t0(){for(;Be!==null;)Dv(Be)}function n0(t,i){var r=$e;$e|=2;var l=Iv(),f=jv();ot!==t||Qe!==i?(Nu=null,Ru=bt()+500,io(t,i)):eo=Ti(t,i);e:do try{if(et!==0&&Be!==null){i=Be;var m=Mn;t:switch(et){case 1:et=0,Mn=null,ao(t,i,m,1);break;case 2:case 9:if(Hg(m)){et=0,Mn=null,Ov(i);break}i=function(){et!==2&&et!==9||ot!==t||(et=7),Ds(t)},m.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Hg(m)?(et=0,Mn=null,Ov(i)):(et=0,Mn=null,ao(t,i,m,7));break;case 5:var E=null;switch(Be.tag){case 26:E=Be.memoizedState;case 5:case 27:var w=Be;if(!E||mA(E)){et=0,Mn=null;var k=w.sibling;if(k!==null)Be=k;else{var K=w.return;K!==null?(Be=K,ju(K)):Be=null}break t}}et=0,Mn=null,ao(t,i,m,5);break;case 6:et=0,Mn=null,ao(t,i,m,6);break;case 8:Mf(),Et=6;break e;default:throw Error(a(462))}}s0();break}catch($){Nv(t,$)}while(!0);return ni=tr=null,F.H=l,F.A=f,$e=r,Be!==null?0:(ot=null,Qe=0,Wc(),Et)}function s0(){for(;Be!==null&&!Tn();)Dv(Be)}function Dv(t){var i=av(t.alternate,t,ui);t.memoizedProps=t.pendingProps,i===null?ju(t):Be=i}function Ov(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=$y(r,i,i.pendingProps,i.type,void 0,Qe);break;case 11:i=$y(r,i,i.pendingProps,i.type.render,i.ref,Qe);break;case 5:Wd(i);default:ov(r,i),i=Be=Pg(i,ui),i=av(r,i,ui)}t.memoizedProps=t.pendingProps,i===null?ju(t):Be=i}function ao(t,i,r,l){ni=tr=null,Wd(i),Xr=null,bl=0;var f=i.return;try{if(QS(t,f,i,r,Qe)){Et=1,bu(t,Hn(r,t.current)),Be=null;return}}catch(m){if(f!==null)throw Be=f,m;Et=1,bu(t,Hn(r,t.current)),Be=null;return}i.flags&32768?(Xe||l===1?t=!0:eo||(Qe&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=Jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pv(i,t)):ju(i)}function ju(t){var i=t;do{if((i.flags&32768)!==0){Pv(i,Ki);return}t=i.return;var r=JS(i.alternate,i,ui);if(r!==null){Be=r;return}if(i=i.sibling,i!==null){Be=i;return}Be=i=t}while(i!==null);Et===0&&(Et=5)}function Pv(t,i){do{var r=YS(t.alternate,t);if(r!==null){r.flags&=32767,Be=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Be=t;return}Be=t=r}while(t!==null);Et=6,Be=null}function kv(t,i,r,l,f,m,E,w,k){t.cancelPendingCommit=null;do Du();while(tn!==0);if(($e&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=xd,kc(t,r,m,E,w,k),t===ot&&(Be=ot=null,Qe=0),no=i,Xi=t,so=r,Of=m,Pf=f,wv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,o0(Te,function(){return Bv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,f=oe.p,oe.p=2,E=$e,$e|=4;try{XS(t,i,r)}finally{$e=E,oe.p=f,F.T=l}}tn=1,Mv(),Vv(),Lv()}}function Mv(){if(tn===1){tn=0;var t=Xi,i=no,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=oe.p;oe.p=2;var f=$e;$e|=4;try{vv(i,t);var m=Xf,E=Sg(t.containerInfo),w=m.focusedElem,k=m.selectionRange;if(E!==w&&w&&w.ownerDocument&&Tg(w.ownerDocument.documentElement,w)){if(k!==null&&bd(w)){var K=k.start,$=k.end;if($===void 0&&($=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min($,w.value.length);else{var ae=w.ownerDocument||document,J=ae&&ae.defaultView||window;if(J.getSelection){var Y=J.getSelection(),je=w.textContent.length,xe=Math.min(k.start,je),it=k.end===void 0?xe:Math.min(k.end,je);!Y.extend&&xe>it&&(E=it,it=xe,xe=E);var z=bg(w,xe),B=bg(w,it);if(z&&B&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==B.node||Y.focusOffset!==B.offset)){var G=ae.createRange();G.setStart(z.node,z.offset),Y.removeAllRanges(),xe>it?(Y.addRange(G),Y.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),Y.addRange(G))}}}}for(ae=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&ae.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ae.length;w++){var ne=ae[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Hu=!!Yf,Xf=Yf=null}finally{$e=f,oe.p=l,F.T=r}}t.current=i,tn=2}}function Vv(){if(tn===2){tn=0;var t=Xi,i=no,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=oe.p;oe.p=2;var f=$e;$e|=4;try{mv(t,i.alternate,i)}finally{$e=f,oe.p=l,F.T=r}}tn=3}}function Lv(){if(tn===4||tn===3){tn=0,Nn();var t=Xi,i=no,r=so,l=wv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?tn=5:(tn=0,no=Xi=null,Uv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Yi=null),qo(r),i=i.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Gt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,f=oe.p,oe.p=2,F.T=null;try{for(var m=t.onRecoverableError,E=0;E<l.length;E++){var w=l[E];m(w.value,{componentStack:w.stack})}}finally{F.T=i,oe.p=f}}(so&3)!==0&&Du(),Ds(t),f=t.pendingLanes,(r&4194090)!==0&&(f&42)!==0?t===kf?jl++:(jl=0,kf=t):jl=0,Dl(0)}}function Uv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,hl(i)))}function Du(t){return Mv(),Vv(),Lv(),Bv()}function Bv(){if(tn!==5)return!1;var t=Xi,i=Of;Of=0;var r=qo(so),l=F.T,f=oe.p;try{oe.p=32>r?32:r,F.T=null,r=Pf,Pf=null;var m=Xi,E=so;if(tn=0,no=Xi=null,so=0,($e&6)!==0)throw Error(a(331));var w=$e;if($e|=4,Tv(m.current),_v(m,m.current,E,r),$e=w,Dl(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Gt,m)}catch{}return!0}finally{oe.p=f,F.T=l,Uv(t,i)}}function zv(t,i,r){i=Hn(r,i),i=ff(t.stateNode,i,2),t=Bi(t,i,2),t!==null&&(Tt(t,2),Ds(t))}function at(t,i,r){if(t.tag===3)zv(t,t,r);else for(;i!==null;){if(i.tag===3){zv(i,t,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yi===null||!Yi.has(l))){t=Hn(r,t),r=Gy(2),l=Bi(i,r,2),l!==null&&(Qy(r,l,i,t),Tt(l,2),Ds(l));break}}i=i.return}}function Uf(t,i,r){var l=t.pingCache;if(l===null){l=t.pingCache=new $S;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(r)||(Nf=!0,f.add(r),t=i0.bind(null,t,i,r),i.then(t,t))}function i0(t,i,r){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ot===t&&(Qe&r)===r&&(Et===4||Et===3&&(Qe&62914560)===Qe&&300>bt()-Df?($e&2)===0&&io(t,0):If|=r,to===Qe&&(to=0)),Ds(t)}function Fv(t,i){i===0&&(i=Si()),t=Br(t,i),t!==null&&(Tt(t,i),Ds(t))}function a0(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),Fv(t,r)}function r0(t,i){var r=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Fv(t,r)}function o0(t,i){return mt(t,i)}var Ou=null,ro=null,Bf=!1,Pu=!1,zf=!1,lr=0;function Ds(t){t!==ro&&t.next===null&&(ro===null?Ou=ro=t:ro=ro.next=t),Pu=!0,Bf||(Bf=!0,c0())}function Dl(t,i){if(!zf&&Pu){zf=!0;do for(var r=!1,l=Ou;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-Qt(42|t)+1)-1,m&=f&~(E&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,Qv(l,m))}else m=Qe,m=Bn(l,l===ot?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ti(l,m)||(r=!0,Qv(l,m));l=l.next}while(r);zf=!1}}function l0(){qv()}function qv(){Pu=Bf=!1;var t=0;lr!==0&&(y0()&&(t=lr),lr=0);for(var i=bt(),r=null,l=Ou;l!==null;){var f=l.next,m=Hv(l,i);m===0?(l.next=null,r===null?Ou=f:r.next=f,f===null&&(ro=r)):(r=l,(t!==0||(m&3)!==0)&&(Pu=!0)),l=f}Dl(t)}function Hv(t,i){for(var r=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var E=31-Qt(m),w=1<<E,k=f[E];k===-1?((w&r)===0||(w&l)!==0)&&(f[E]=Tr(w,i)):k<=i&&(t.expiredLanes|=w),m&=~w}if(i=ot,r=Qe,r=Bn(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===i&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ht(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ti(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(l!==null&&Ht(l),qo(r)){case 2:case 8:r=_e;break;case 32:r=Te;break;case 268435456:r=ut;break;default:r=Te}return l=Gv.bind(null,t),r=mt(r,l),t.callbackPriority=i,t.callbackNode=r,i}return l!==null&&l!==null&&Ht(l),t.callbackPriority=2,t.callbackNode=null,2}function Gv(t,i){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Du()&&t.callbackNode!==r)return null;var l=Qe;return l=Bn(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xv(t,l,i),Hv(t,bt()),t.callbackNode!=null&&t.callbackNode===r?Gv.bind(null,t):null)}function Qv(t,i){if(Du())return null;xv(t,i,!0)}function c0(){A0(function(){($e&6)!==0?mt(le,l0):qv()})}function Ff(){return lr===0&&(lr=zo()),lr}function Kv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:as(""+t)}function Jv(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function u0(t,i,r,l,f){if(i==="submit"&&r&&r.stateNode===f){var m=Kv((f[$t]||null).action),E=l.submitter;E&&(i=(i=E[$t]||null)?Kv(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var w=new za("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(lr!==0){var k=E?Jv(f,E):new FormData(f);lf(r,{pending:!0,data:k,method:f.method,action:m},null,k)}}else typeof m=="function"&&(w.preventDefault(),k=E?Jv(f,E):new FormData(f),lf(r,{pending:!0,data:k,method:f.method,action:m},m,k))},currentTarget:f}]})}}for(var qf=0;qf<Cd.length;qf++){var Hf=Cd[qf],h0=Hf.toLowerCase(),d0=Hf[0].toUpperCase()+Hf.slice(1);cs(h0,"on"+d0)}cs(xg,"onAnimationEnd"),cs(Rg,"onAnimationIteration"),cs(Ng,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(NS,"onTransitionRun"),cs(IS,"onTransitionStart"),cs(jS,"onTransitionCancel"),cs(Ig,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Yv(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],k=w.instance,K=w.currentTarget;if(w=w.listener,k!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=K;try{m(f)}catch($){Eu($)}f.currentTarget=null,m=k}else for(E=0;E<l.length;E++){if(w=l[E],k=w.instance,K=w.currentTarget,w=w.listener,k!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=K;try{m(f)}catch($){Eu($)}f.currentTarget=null,m=k}}}}function ze(t,i){var r=i[Ra];r===void 0&&(r=i[Ra]=new Set);var l=t+"__bubble";r.has(l)||(Xv(i,t,2,!1),r.add(l))}function Gf(t,i,r){var l=0;i&&(l|=4),Xv(r,t,l,i)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Qf(t){if(!t[ku]){t[ku]=!0,Mc.forEach(function(r){r!=="selectionchange"&&(f0.has(r)||Gf(r,!1,t),Gf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ku]||(i[ku]=!0,Gf("selectionchange",!1,i))}}function Xv(t,i,r,l){switch(_A(i)){case 2:var f=B0;break;case 8:f=z0;break;default:f=rm}r=f.bind(null,i,r,t),f=void 0,!Zs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,r,{capture:!0,passive:f}):t.addEventListener(i,r,!0):f!==void 0?t.addEventListener(i,r,{passive:f}):t.addEventListener(i,r,!1)}function Kf(t,i,r,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=l.return;E!==null;){var k=E.tag;if((k===3||k===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=Es(w),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){l=m=E;continue e}w=w.parentNode}}l=l.return}La(function(){var K=m,$=Xo(r),ae=[];e:{var J=jg.get(t);if(J!==void 0){var Y=za,je=t;switch(t){case"keypress":if(Ua(r)===0)break e;case"keydown":case"keyup":Y=Mr;break;case"focusin":je="focus",Y=Or;break;case"focusout":je="blur",Y=Or;break;case"beforeblur":case"afterblur":Y=Or;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Mi;break;case xg:case Rg:case Ng:Y=Wo;break;case Ig:Y=v;break;case"scroll":case"scrollend":Y=qa;break;case"wheel":Y=C;break;case"copy":case"cut":case"paste":Y=Gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=tl;break;case"toggle":case"beforetoggle":Y=X}var xe=(i&4)!==0,it=!xe&&(t==="scroll"||t==="scrollend"),z=xe?J!==null?J+"Capture":null:J;xe=[];for(var B=K,G;B!==null;){var ne=B;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||z===null||(ne=Pi(B,z),ne!=null&&xe.push(Pl(B,ne,G))),it)break;B=B.return}0<xe.length&&(J=new Y(J,je,null,r,$),ae.push({event:J,listeners:xe}))}}if((i&7)===0){e:{if(J=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",J&&r!==Yo&&(je=r.relatedTarget||r.fromElement)&&(Es(je)||je[Ks]))break e;if((Y||J)&&(J=$.window===$?$:(J=$.ownerDocument)?J.defaultView||J.parentWindow:window,Y?(je=r.relatedTarget||r.toElement,Y=K,je=je?Es(je):null,je!==null&&(it=c(je),xe=je.tag,je!==it||xe!==5&&xe!==27&&xe!==6)&&(je=null)):(Y=null,je=K),Y!==je)){if(xe=Qa,ne="onMouseLeave",z="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(xe=tl,ne="onPointerLeave",z="onPointerEnter",B="pointer"),it=Y==null?J:Ri(Y),G=je==null?J:Ri(je),J=new xe(ne,B+"leave",Y,r,$),J.target=it,J.relatedTarget=G,ne=null,Es($)===K&&(xe=new xe(z,B+"enter",je,r,$),xe.target=G,xe.relatedTarget=it,ne=xe),it=ne,Y&&je)t:{for(xe=Y,z=je,B=0,G=xe;G;G=oo(G))B++;for(G=0,ne=z;ne;ne=oo(ne))G++;for(;0<B-G;)xe=oo(xe),B--;for(;0<G-B;)z=oo(z),G--;for(;B--;){if(xe===z||z!==null&&xe===z.alternate)break t;xe=oo(xe),z=oo(z)}xe=null}else xe=null;Y!==null&&Zv(ae,J,Y,xe,!1),je!==null&&it!==null&&Zv(ae,it,je,xe,!0)}}e:{if(J=K?Ri(K):window,Y=J.nodeName&&J.nodeName.toLowerCase(),Y==="select"||Y==="input"&&J.type==="file")var Ae=gg;else if(mg(J))if(yg)Ae=CS;else{Ae=SS;var Ue=TS}else Y=J.nodeName,!Y||Y.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?K&&Ir(K.elementType)&&(Ae=gg):Ae=wS;if(Ae&&(Ae=Ae(t,K))){pg(ae,Ae,r,$);break e}Ue&&Ue(t,J,K),t==="focusout"&&K&&J.type==="number"&&K.memoizedProps.value!=null&&Qo(J,"number",J.value)}switch(Ue=K?Ri(K):window,t){case"focusin":(mg(Ue)||Ue.contentEditable==="true")&&(Vr=Ue,Td=K,rl=null);break;case"focusout":rl=Td=Vr=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,wg(ae,r,$);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":wg(ae,r,$)}var Se;if(Pe)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ls?rs(t,r)&&(Re="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(Ct&&r.locale!=="ko"&&(ls||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ls&&(Se=Fc()):(qn=$,rt="value"in qn?qn.value:qn.textContent,ls=!0)),Ue=Mu(K,Re),0<Ue.length&&(Re=new el(Re,t,null,r,$),ae.push({event:Re,listeners:Ue}),Se?Re.data=Se:(Se=os(r),Se!==null&&(Re.data=Se)))),(Se=We?nl(t,r):_S(t,r))&&(Re=Mu(K,"onBeforeInput"),0<Re.length&&(Ue=new el("onBeforeInput","beforeinput",null,r,$),ae.push({event:Ue,listeners:Re}),Ue.data=Se)),u0(ae,t,K,r,$)}Yv(ae,i)})}function Pl(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Mu(t,i){for(var r=i+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Pi(t,r),f!=null&&l.unshift(Pl(t,f,m)),f=Pi(t,i),f!=null&&l.push(Pl(t,f,m))),t.tag===3)return l;t=t.return}return[]}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zv(t,i,r,l,f){for(var m=i._reactName,E=[];r!==null&&r!==l;){var w=r,k=w.alternate,K=w.stateNode;if(w=w.tag,k!==null&&k===l)break;w!==5&&w!==26&&w!==27||K===null||(k=K,f?(K=Pi(r,m),K!=null&&E.unshift(Pl(r,K,k))):f||(K=Pi(r,m),K!=null&&E.push(Pl(r,K,k)))),r=r.return}E.length!==0&&t.push({event:i,listeners:E})}var m0=/\r\n?/g,p0=/\u0000|\uFFFD/g;function Wv(t){return(typeof t=="string"?t:""+t).replace(m0,`
`).replace(p0,"")}function $v(t,i){return i=Wv(i),Wv(t)===i}function Vu(){}function st(t,i,r,l,f,m){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Fn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Fn(t,""+l);break;case"className":Oa(t,"class",l);break;case"tabIndex":Oa(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Oa(t,r,l);break;case"style":Jo(t,l,m);break;case"data":if(i!=="object"){Oa(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=as(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&st(t,i,"name",f.name,f,null),st(t,i,"formEncType",f.formEncType,f,null),st(t,i,"formMethod",f.formMethod,f,null),st(t,i,"formTarget",f.formTarget,f,null)):(st(t,i,"encType",f.encType,f,null),st(t,i,"method",f.method,f,null),st(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=as(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Vu);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=as(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Da(t,"popover",l);break;case"xlinkActuate":zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Uc.get(r)||r,Da(t,r,l))}}function Jf(t,i,r,l,f,m){switch(r){case"style":Jo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Fn(t,l):(typeof l=="number"||typeof l=="bigint")&&Fn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),m=t[$t]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,l,f);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Da(t,r,l)}}}function nn(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var E=r[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:st(t,i,m,E,r,null)}}f&&st(t,i,"srcSet",r.srcSet,r,null),l&&st(t,i,"src",r.src,r,null);return;case"input":ze("invalid",t);var w=m=E=f=null,k=null,K=null;for(l in r)if(r.hasOwnProperty(l)){var $=r[l];if($!=null)switch(l){case"name":f=$;break;case"type":E=$;break;case"checked":k=$;break;case"defaultChecked":K=$;break;case"value":m=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:st(t,i,l,$,r,null)}}Go(t,m,w,k,K,E,f,!1),ji(t);return;case"select":ze("invalid",t),l=E=m=null;for(f in r)if(r.hasOwnProperty(f)&&(w=r[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:st(t,i,f,w,r,null)}i=m,r=E,t.multiple=!!l,i!=null?Di(t,!!l,i,!1):r!=null&&Di(t,!!l,r,!0);return;case"textarea":ze("invalid",t),m=f=l=null;for(E in r)if(r.hasOwnProperty(E)&&(w=r[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:st(t,i,E,w,r,null)}Lc(t,l,f,m),ji(t);return;case"option":for(k in r)if(r.hasOwnProperty(k)&&(l=r[k],l!=null))switch(k){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:st(t,i,k,l,r,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)ze(Ol[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(l=r[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:st(t,i,K,l,r,null)}return;default:if(Ir(i)){for($ in r)r.hasOwnProperty($)&&(l=r[$],l!==void 0&&Jf(t,i,$,l,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(l=r[w],l!=null&&st(t,i,w,l,r,null))}function g0(t,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,w=null,k=null,K=null,$=null;for(Y in r){var ae=r[Y];if(r.hasOwnProperty(Y)&&ae!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":k=ae;default:l.hasOwnProperty(Y)||st(t,i,Y,null,l,ae)}}for(var J in l){var Y=l[J];if(ae=r[J],l.hasOwnProperty(J)&&(Y!=null||ae!=null))switch(J){case"type":m=Y;break;case"name":f=Y;break;case"checked":K=Y;break;case"defaultChecked":$=Y;break;case"value":E=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:Y!==ae&&st(t,i,J,Y,l,ae)}}Ho(t,E,w,k,K,$,m,f);return;case"select":Y=E=w=J=null;for(m in r)if(k=r[m],r.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":Y=k;default:l.hasOwnProperty(m)||st(t,i,m,null,l,k)}for(f in l)if(m=l[f],k=r[f],l.hasOwnProperty(f)&&(m!=null||k!=null))switch(f){case"value":J=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==k&&st(t,i,f,m,l,k)}i=w,r=E,l=Y,J!=null?Di(t,!!r,J,!1):!!l!=!!r&&(i!=null?Di(t,!!r,i,!0):Di(t,!!r,r?[]:"",!1));return;case"textarea":Y=J=null;for(w in r)if(f=r[w],r.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:st(t,i,w,null,l,f)}for(E in l)if(f=l[E],m=r[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":J=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&st(t,i,E,f,l,m)}Vc(t,J,Y);return;case"option":for(var je in r)if(J=r[je],r.hasOwnProperty(je)&&J!=null&&!l.hasOwnProperty(je))switch(je){case"selected":t.selected=!1;break;default:st(t,i,je,null,l,J)}for(k in l)if(J=l[k],Y=r[k],l.hasOwnProperty(k)&&J!==Y&&(J!=null||Y!=null))switch(k){case"selected":t.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:st(t,i,k,J,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in r)J=r[xe],r.hasOwnProperty(xe)&&J!=null&&!l.hasOwnProperty(xe)&&st(t,i,xe,null,l,J);for(K in l)if(J=l[K],Y=r[K],l.hasOwnProperty(K)&&J!==Y&&(J!=null||Y!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:st(t,i,K,J,l,Y)}return;default:if(Ir(i)){for(var it in r)J=r[it],r.hasOwnProperty(it)&&J!==void 0&&!l.hasOwnProperty(it)&&Jf(t,i,it,void 0,l,J);for($ in l)J=l[$],Y=r[$],!l.hasOwnProperty($)||J===Y||J===void 0&&Y===void 0||Jf(t,i,$,J,l,Y);return}}for(var z in r)J=r[z],r.hasOwnProperty(z)&&J!=null&&!l.hasOwnProperty(z)&&st(t,i,z,null,l,J);for(ae in l)J=l[ae],Y=r[ae],!l.hasOwnProperty(ae)||J===Y||J==null&&Y==null||st(t,i,ae,J,l,Y)}var Yf=null,Xf=null;function Lu(t){return t.nodeType===9?t:t.ownerDocument}function eA(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tA(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Zf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wf=null;function y0(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var nA=typeof setTimeout=="function"?setTimeout:void 0,v0=typeof clearTimeout=="function"?clearTimeout:void 0,sA=typeof Promise=="function"?Promise:void 0,A0=typeof queueMicrotask=="function"?queueMicrotask:typeof sA<"u"?function(t){return sA.resolve(null).then(t).catch(_0)}:nA;function _0(t){setTimeout(function(){throw t})}function Wi(t){return t==="head"}function iA(t,i){var r=i,l=0,f=0;do{var m=r.nextSibling;if(t.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"){if(0<l&&8>l){r=l;var E=t.ownerDocument;if(r&1&&kl(E.documentElement),r&2&&kl(E.body),r&4)for(r=E.head,kl(r),E=r.firstChild;E;){var w=E.nextSibling,k=E.nodeName;E[xi]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&E.rel.toLowerCase()==="stylesheet"||r.removeChild(E),E=w}}if(f===0){t.removeChild(m),ql(i);return}f--}else r==="$"||r==="$?"||r==="$!"?f++:l=r.charCodeAt(0)-48;else l=0;r=m}while(r);ql(i)}function $f(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":$f(r),wr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function E0(t,i,r,l){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=hs(t.nextSibling),t===null)break}return null}function b0(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=hs(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function T0(t,i){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function hs(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var tm=null;function aA(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return t;i--}else r==="/$"&&i++}t=t.previousSibling}return null}function rA(t,i,r){switch(i=Lu(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function kl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);wr(t)}var Xn=new Map,oA=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hi=oe.d;oe.d={f:S0,r:w0,D:C0,C:x0,L:R0,m:N0,X:j0,S:I0,M:D0};function S0(){var t=hi.f(),i=Iu();return t||i}function w0(t){var i=bs(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):hi.r(t)}var lo=typeof document>"u"?null:document;function lA(t,i,r){var l=lo;if(l&&typeof i=="string"&&i){var f=Kt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),oA.has(f)||(oA.add(f),t={rel:t,crossOrigin:r,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),nn(i,"link",t),wt(i),l.head.appendChild(i)))}}function C0(t){hi.D(t),lA("dns-prefetch",t,null)}function x0(t,i){hi.C(t,i),lA("preconnect",t,i)}function R0(t,i,r){hi.L(t,i,r);var l=lo;if(l&&t&&i){var f='link[rel="preload"][as="'+Kt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Kt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Kt(r.imageSizes)+'"]')):f+='[href="'+Kt(t)+'"]';var m=f;switch(i){case"style":m=co(t);break;case"script":m=uo(t)}Xn.has(m)||(t=A({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Xn.set(m,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ml(m))||i==="script"&&l.querySelector(Vl(m))||(i=l.createElement("link"),nn(i,"link",t),wt(i),l.head.appendChild(i)))}}function N0(t,i){hi.m(t,i);var r=lo;if(r&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=uo(t)}if(!Xn.has(m)&&(t=A({rel:"modulepreload",href:t},i),Xn.set(m,t),r.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Vl(m)))return}l=r.createElement("link"),nn(l,"link",t),wt(l),r.head.appendChild(l)}}}function I0(t,i,r){hi.S(t,i,r);var l=lo;if(l&&t){var f=Ni(l).hoistableStyles,m=co(t);i=i||"default";var E=f.get(m);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Ml(m)))w.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Xn.get(m))&&nm(t,r);var k=E=l.createElement("link");wt(k),nn(k,"link",t),k._p=new Promise(function(K,$){k.onload=K,k.onerror=$}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Bu(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(m,E)}}}function j0(t,i){hi.X(t,i);var r=lo;if(r&&t){var l=Ni(r).hoistableScripts,f=uo(t),m=l.get(f);m||(m=r.querySelector(Vl(f)),m||(t=A({src:t,async:!0},i),(i=Xn.get(f))&&sm(t,i),m=r.createElement("script"),wt(m),nn(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function D0(t,i){hi.M(t,i);var r=lo;if(r&&t){var l=Ni(r).hoistableScripts,f=uo(t),m=l.get(f);m||(m=r.querySelector(Vl(f)),m||(t=A({src:t,async:!0,type:"module"},i),(i=Xn.get(f))&&sm(t,i),m=r.createElement("script"),wt(m),nn(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function cA(t,i,r,l){var f=(f=me.current)?Uu(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=co(r.href),r=Ni(f).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=co(r.href);var m=Ni(f).hoistableStyles,E=m.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,E),(m=f.querySelector(Ml(t)))&&!m._p&&(E.instance=m,E.state.loading=5),Xn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xn.set(t,r),m||O0(f,t,r,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=uo(r),r=Ni(f).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function co(t){return'href="'+Kt(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function uA(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function O0(t,i,r,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),nn(i,"link",r),wt(i),t.head.appendChild(i))}function uo(t){return'[src="'+Kt(t)+'"]'}function Vl(t){return"script[async]"+t}function hA(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Kt(r.href)+'"]');if(l)return i.instance=l,wt(l),l;var f=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),nn(l,"style",f),Bu(l,r.precedence,t),i.instance=l;case"stylesheet":f=co(r.href);var m=t.querySelector(Ml(f));if(m)return i.state.loading|=4,i.instance=m,wt(m),m;l=uA(r),(f=Xn.get(f))&&nm(l,f),m=(t.ownerDocument||t).createElement("link"),wt(m);var E=m;return E._p=new Promise(function(w,k){E.onload=w,E.onerror=k}),nn(m,"link",l),i.state.loading|=4,Bu(m,r.precedence,t),i.instance=m;case"script":return m=uo(r.src),(f=t.querySelector(Vl(m)))?(i.instance=f,wt(f),f):(l=r,(f=Xn.get(m))&&(l=A({},r),sm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),nn(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bu(l,r.precedence,t));return i.instance}function Bu(t,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var zu=null;function dA(t,i,r){if(zu===null){var l=new Map,f=zu=new Map;f.set(r,l)}else f=zu,l=f.get(r),l||(l=new Map,f.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var m=r[f];if(!(m[xi]||m[St]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=t+E;var w=l.get(E);w?w.push(m):l.set(E,[m])}}return l}function fA(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function P0(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function mA(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function k0(){}function M0(t,i,r){if(Ll===null)throw Error(a(475));var l=Ll;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=co(r.href),m=t.querySelector(Ml(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Fu.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=m,wt(m);return}m=t.ownerDocument||t,r=uA(r),(f=Xn.get(f))&&nm(r,f),m=m.createElement("link"),wt(m);var E=m;E._p=new Promise(function(w,k){E.onload=w,E.onerror=k}),nn(m,"link",r),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Fu.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function V0(){if(Ll===null)throw Error(a(475));var t=Ll;return t.stylesheets&&t.count===0&&im(t,t.stylesheets),0<t.count?function(i){var r=setTimeout(function(){if(t.stylesheets&&im(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Fu(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qu=null;function im(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qu=new Map,i.forEach(L0,t),qu=null,Fu.call(t))}function L0(t,i){if(!(i.state.loading&4)){var r=qu.get(t);if(r)var l=r.get(null);else{r=new Map,qu.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),l=E)}l&&r.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),m=r.get(E)||l,m===l&&r.set(null,f),r.set(E,f),this.count++,l=Fu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ul={$$typeof:q,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function U0(t,i,r,l,f,m,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function pA(t,i,r,l,f,m,E,w,k,K,$,ae){return t=new U0(t,i,r,E,w,k,K,ae),i=1,m===!0&&(i|=24),m=On(3,null,null,i),t.current=m,m.stateNode=t,i=Ld(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:r,cache:i},Fd(m),t}function gA(t){return t?(t=zr,t):zr}function yA(t,i,r,l,f,m){f=gA(f),l.context===null?l.context=f:l.pendingContext=f,l=Ui(i),l.payload={element:r},m=m===void 0?null:m,m!==null&&(l.callback=m),r=Bi(t,l,i),r!==null&&(Ln(r,t,i),pl(r,t,i))}function vA(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function am(t,i){vA(t,i),(t=t.alternate)&&vA(t,i)}function AA(t){if(t.tag===13){var i=Br(t,67108864);i!==null&&Ln(i,t,67108864),am(t,67108864)}}var Hu=!0;function B0(t,i,r,l){var f=F.T;F.T=null;var m=oe.p;try{oe.p=2,rm(t,i,r,l)}finally{oe.p=m,F.T=f}}function z0(t,i,r,l){var f=F.T;F.T=null;var m=oe.p;try{oe.p=8,rm(t,i,r,l)}finally{oe.p=m,F.T=f}}function rm(t,i,r,l){if(Hu){var f=om(l);if(f===null)Kf(t,i,l,Gu,r),EA(t,l);else if(q0(f,t,i,r,l))l.stopPropagation();else if(EA(t,l),i&4&&-1<F0.indexOf(t)){for(;f!==null;){var m=bs(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=ns(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var k=1<<31-Qt(E);w.entanglements[1]|=k,E&=~k}Ds(m),($e&6)===0&&(Ru=bt()+500,Dl(0))}}break;case 13:w=Br(m,2),w!==null&&Ln(w,m,2),Iu(),am(m,2)}if(m=om(l),m===null&&Kf(t,i,l,Gu,r),m===f)break;f=m}f!==null&&l.stopPropagation()}else Kf(t,i,l,null,r)}}function om(t){return t=Xo(t),lm(t)}var Gu=null;function lm(t){if(Gu=null,t=Es(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Gu=t,null}function _A(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case le:return 2;case _e:return 8;case Te:case Ge:return 32;case ut:return 268435456;default:return 32}default:return 32}}var cm=!1,$i=null,ea=null,ta=null,Bl=new Map,zl=new Map,na=[],F0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EA(t,i){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Fl(t,i,r,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=bs(i),i!==null&&AA(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function q0(t,i,r,l,f){switch(i){case"focusin":return $i=Fl($i,t,i,r,l,f),!0;case"dragenter":return ea=Fl(ea,t,i,r,l,f),!0;case"mouseover":return ta=Fl(ta,t,i,r,l,f),!0;case"pointerover":var m=f.pointerId;return Bl.set(m,Fl(Bl.get(m)||null,t,i,r,l,f)),!0;case"gotpointercapture":return m=f.pointerId,zl.set(m,Fl(zl.get(m)||null,t,i,r,l,f)),!0}return!1}function bA(t){var i=Es(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,pd(t.priority,function(){if(r.tag===13){var l=Vn();l=Fo(l);var f=Br(r,l);f!==null&&Ln(f,r,l),am(r,l)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=om(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Yo=l,r.target.dispatchEvent(l),Yo=null}else return i=bs(r),i!==null&&AA(i),t.blockedOn=r,!1;i.shift()}return!0}function TA(t,i,r){Qu(t)&&r.delete(i)}function H0(){cm=!1,$i!==null&&Qu($i)&&($i=null),ea!==null&&Qu(ea)&&(ea=null),ta!==null&&Qu(ta)&&(ta=null),Bl.forEach(TA),zl.forEach(TA)}function Ku(t,i){t.blockedOn===i&&(t.blockedOn=null,cm||(cm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,H0)))}var Ju=null;function SA(t){Ju!==t&&(Ju=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ju===t&&(Ju=null);for(var i=0;i<t.length;i+=3){var r=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(lm(l||r)===null)continue;break}var m=bs(r);m!==null&&(t.splice(i,3),i-=3,lf(m,{pending:!0,data:f,method:r.method,action:l},l,f))}}))}function ql(t){function i(k){return Ku(k,t)}$i!==null&&Ku($i,t),ea!==null&&Ku(ea,t),ta!==null&&Ku(ta,t),Bl.forEach(i),zl.forEach(i);for(var r=0;r<na.length;r++){var l=na[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<na.length&&(r=na[0],r.blockedOn===null);)bA(r),r.blockedOn===null&&na.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var f=r[l],m=r[l+1],E=f[$t]||null;if(typeof m=="function")E||SA(r);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[$t]||null)w=E.formAction;else if(lm(f)!==null)continue}else w=E.action;typeof w=="function"?r[l+1]=w:(r.splice(l,3),l-=3),SA(r)}}}function um(t){this._internalRoot=t}Yu.prototype.render=um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,l=Vn();yA(r,l,t,i,null,null)},Yu.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;yA(t.current,2,null,t,null,null),Iu(),i[Ks]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qs();t={blockedOn:null,target:t,priority:i};for(var r=0;r<na.length&&i!==0&&i<na[r].priority;r++);na.splice(r,0,t),r===0&&bA(t)}};var wA=e.version;if(wA!=="19.1.0")throw Error(a(527,wA,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var G0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Gt=Xu.inject(G0),Lt=Xu}catch{}}return Gl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var r=!1,l="",f=zy,m=Fy,E=qy,w=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=pA(t,1,!1,null,null,r,l,f,m,E,w,null),t[Ks]=i.current,Qf(t),new um(i)},Gl.hydrateRoot=function(t,i,r){if(!o(t))throw Error(a(299));var l=!1,f="",m=zy,E=Fy,w=qy,k=null,K=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(k=r.unstable_transitionCallbacks),r.formState!==void 0&&(K=r.formState)),i=pA(t,1,!0,i,r??null,l,f,m,E,w,k,K),i.context=gA(null),r=i.current,l=Vn(),l=Fo(l),f=Ui(l),f.callback=null,Bi(r,f,l),r=l,i.current.lanes=r,Tt(i,r),Ds(i),t[Ks]=i.current,Qf(t),new Yu(i)},Gl.version="19.1.0",Gl}var kA;function tw(){if(kA)return fm.exports;kA=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),fm.exports=ew(),fm.exports}var nw=tw();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var MA="popstate";function sw(s={}){function e(a,o){let{pathname:c,search:d,hash:p}=a.location;return km("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:ac(o)}return aw(e,n,null,s)}function gt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function $n(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iw(){return Math.random().toString(36).substring(2,10)}function VA(s,e){return{usr:s.state,key:s.key,idx:e}}function km(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Io(e):e,state:n,key:e&&e.key||a||iw()}}function ac({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Io(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function aw(s,e,n,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,p="POP",g=null,y=A();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function A(){return(d.state||{idx:null}).idx}function b(){p="POP";let V=A(),H=V==null?null:V-y;y=V,g&&g({action:p,location:U.location,delta:H})}function S(V,H){p="PUSH";let Z=km(U.location,V,H);y=A()+1;let q=VA(Z,y),W=U.createHref(Z);try{d.pushState(q,"",W)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(W)}c&&g&&g({action:p,location:U.location,delta:1})}function N(V,H){p="REPLACE";let Z=km(U.location,V,H);y=A();let q=VA(Z,y),W=U.createHref(Z);d.replaceState(q,"",W),c&&g&&g({action:p,location:U.location,delta:0})}function L(V){return rw(V)}let U={get action(){return p},get location(){return s(o,d)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(MA,b),g=V,()=>{o.removeEventListener(MA,b),g=null}},createHref(V){return e(o,V)},createURL:L,encodeLocation(V){let H=L(V);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:S,replace:N,go(V){return d.go(V)}};return U}function rw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:ac(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function xE(s,e,n="/"){return ow(s,e,n,!1)}function ow(s,e,n,a){let o=typeof e=="string"?Io(e):e,c=gi(o.pathname||"/",n);if(c==null)return null;let d=RE(s);lw(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=Aw(c);p=yw(d[g],y,a)}return p}function RE(s,e=[],n=[],a="",o=!1){let c=(d,p,g=o,y)=>{let A={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(a)&&g)return;gt(A.relativePath.startsWith(a),`Absolute route path "${A.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(a.length)}let b=mi([a,A.relativePath]),S=n.concat(A);d.children&&d.children.length>0&&(gt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),RE(d.children,e,S,b,g)),!(d.path==null&&!d.index)&&e.push({path:b,score:pw(b,d.index),routesMeta:S})};return s.forEach((d,p)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))c(d,p);else for(let y of NE(d.path))c(d,p,!0,y)}),e}function NE(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=NE(a.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...d),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function lw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:gw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var cw=/^:[\w-]+$/,uw=3,hw=2,dw=1,fw=10,mw=-2,LA=s=>s==="*";function pw(s,e){let n=s.split("/"),a=n.length;return n.some(LA)&&(a+=mw),e&&(a+=hw),n.filter(o=>!LA(o)).reduce((o,c)=>o+(cw.test(c)?uw:c===""?dw:fw),a)}function gw(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function yw(s,e,n=!1){let{routesMeta:a}=s,o={},c="/",d=[];for(let p=0;p<a.length;++p){let g=a[p],y=p===a.length-1,A=c==="/"?e:e.slice(c.length)||"/",b=vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},A),S=g.route;if(!b&&y&&n&&!a[a.length-1].route.index&&(b=vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},A)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:mi([c,b.pathname]),pathnameBase:Sw(mi([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=mi([c,b.pathnameBase]))}return d}function vh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=vw(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:a.reduce((y,{paramName:A,isOptional:b},S)=>{if(A==="*"){let L=p[S]||"";d=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const N=p[S];return b&&!N?y[A]=void 0:y[A]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function vw(s,e=!1,n=!0){$n(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Aw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function gi(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}var _w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ew=s=>_w.test(s);function bw(s,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof s=="string"?Io(s):s,c;if(n)if(Ew(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=UA(n.substring(1),"/"):c=UA(n,e)}else c=e;return{pathname:c,search:ww(a),hash:Cw(o)}}function UA(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hp(s){let e=Tw(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function dp(s,e,n,a=!1){let o;typeof s=="string"?o=Io(s):(o={...s},gt(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=n;else{let b=e.length-1;if(!a&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}p=b>=0?e[b]:"/"}let g=bw(o,p),y=d&&d!=="/"&&d.endsWith("/"),A=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||A)&&(g.pathname+="/"),g}var mi=s=>s.join("/").replace(/\/\/+/g,"/"),Sw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),ww=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Cw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function xw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var IE=["POST","PUT","PATCH","DELETE"];new Set(IE);var Rw=["GET",...IE];new Set(Rw);var jo=O.createContext(null);jo.displayName="DataRouter";var zh=O.createContext(null);zh.displayName="DataRouterState";O.createContext(!1);var jE=O.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var Nw=O.createContext(new Map);Nw.displayName="Fetchers";var Iw=O.createContext(null);Iw.displayName="Await";var ys=O.createContext(null);ys.displayName="Navigation";var gc=O.createContext(null);gc.displayName="Location";var vs=O.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var fp=O.createContext(null);fp.displayName="RouteError";function jw(s,{relative:e}={}){gt(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=O.useContext(ys),{hash:o,pathname:c,search:d}=yc(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:mi([n,c])),a.createHref({pathname:p,search:d,hash:o})}function Do(){return O.useContext(gc)!=null}function Ta(){return gt(Do(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(gc).location}var DE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OE(s){O.useContext(ys).static||O.useLayoutEffect(s)}function Oo(){let{isDataRoute:s}=O.useContext(vs);return s?Gw():Dw()}function Dw(){gt(Do(),"useNavigate() may be used only in the context of a <Router> component.");let s=O.useContext(jo),{basename:e,navigator:n}=O.useContext(ys),{matches:a}=O.useContext(vs),{pathname:o}=Ta(),c=JSON.stringify(hp(a)),d=O.useRef(!1);return OE(()=>{d.current=!0}),O.useCallback((g,y={})=>{if($n(d.current,DE),!d.current)return;if(typeof g=="number"){n.go(g);return}let A=dp(g,JSON.parse(c),o,y.relative==="path");s==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:mi([e,A.pathname])),(y.replace?n.replace:n.push)(A,y.state,y)},[e,n,c,o,s])}O.createContext(null);function Ow(){let{matches:s}=O.useContext(vs),e=s[s.length-1];return e?e.params:{}}function yc(s,{relative:e}={}){let{matches:n}=O.useContext(vs),{pathname:a}=Ta(),o=JSON.stringify(hp(n));return O.useMemo(()=>dp(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function Pw(s,e){return PE(s,e)}function PE(s,e,n,a,o){var Z;gt(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=O.useContext(ys),{matches:d}=O.useContext(vs),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",A=p?p.pathnameBase:"/",b=p&&p.route;{let q=b&&b.path||"";kE(y,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let S=Ta(),N;if(e){let q=typeof e=="string"?Io(e):e;gt(A==="/"||((Z=q.pathname)==null?void 0:Z.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${q.pathname}" was given in the \`location\` prop.`),N=q}else N=S;let L=N.pathname||"/",U=L;if(A!=="/"){let q=A.replace(/^\//,"").split("/");U="/"+L.replace(/^\//,"").split("/").slice(q.length).join("/")}let V=xE(s,{pathname:U});$n(b||V!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),$n(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=Uw(V&&V.map(q=>Object.assign({},q,{params:Object.assign({},g,q.params),pathname:mi([A,c.encodeLocation?c.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?A:mi([A,c.encodeLocation?c.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),d,n,a,o);return e&&H?O.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},H):H}function kw(){let s=Hw(),e=xw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,d)}var Mw=O.createElement(kw,null),Vw=class extends O.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?O.createElement(vs.Provider,{value:this.props.routeContext},O.createElement(fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lw({routeContext:s,match:e,children:n}){let a=O.useContext(jo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(vs.Provider,{value:s},n)}function Uw(s,e=[],n=null,a=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,d=n==null?void 0:n.errors;if(d!=null){let A=c.findIndex(b=>b.route.id&&(d==null?void 0:d[b.route.id])!==void 0);gt(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,A+1))}let p=!1,g=-1;if(n)for(let A=0;A<c.length;A++){let b=c[A];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=A),b.route.id){let{loaderData:S,errors:N}=n,L=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!N||N[b.route.id]===void 0);if(b.route.lazy||L){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&a?(A,b)=>{var S,N;a(A,{location:n.location,params:((N=(S=n.matches)==null?void 0:S[0])==null?void 0:N.params)??{},errorInfo:b})}:void 0;return c.reduceRight((A,b,S)=>{let N,L=!1,U=null,V=null;n&&(N=d&&b.route.id?d[b.route.id]:void 0,U=b.route.errorElement||Mw,p&&(g<0&&S===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,V=null):g===S&&(L=!0,V=b.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,S+1)),Z=()=>{let q;return N?q=U:L?q=V:b.route.Component?q=O.createElement(b.route.Component,null):b.route.element?q=b.route.element:q=A,O.createElement(Lw,{match:b,routeContext:{outlet:A,matches:H,isDataRoute:n!=null},children:q})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?O.createElement(Vw,{location:n.location,revalidation:n.revalidation,component:U,error:N,children:Z(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:y}):Z()},null)}function mp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bw(s){let e=O.useContext(jo);return gt(e,mp(s)),e}function zw(s){let e=O.useContext(zh);return gt(e,mp(s)),e}function Fw(s){let e=O.useContext(vs);return gt(e,mp(s)),e}function pp(s){let e=Fw(s),n=e.matches[e.matches.length-1];return gt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function qw(){return pp("useRouteId")}function Hw(){var a;let s=O.useContext(fp),e=zw("useRouteError"),n=pp("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[n]}function Gw(){let{router:s}=Bw("useNavigate"),e=pp("useNavigate"),n=O.useRef(!1);return OE(()=>{n.current=!0}),O.useCallback(async(o,c={})=>{$n(n.current,DE),n.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var BA={};function kE(s,e,n){!e&&!BA[s]&&(BA[s]=!0,$n(!1,n))}O.memo(Qw);function Qw({routes:s,future:e,state:n,unstable_onError:a}){return PE(s,void 0,n,a,e)}function Kw({to:s,replace:e,state:n,relative:a}){gt(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(ys);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=O.useContext(vs),{pathname:d}=Ta(),p=Oo(),g=dp(s,hp(c),d,a==="path"),y=JSON.stringify(g);return O.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:a})},[p,y,a,e,n]),null}function cr(s){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jw({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:c=!1}){gt(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof n=="string"&&(n=Io(n));let{pathname:g="/",search:y="",hash:A="",state:b=null,key:S="default"}=n,N=O.useMemo(()=>{let L=gi(g,d);return L==null?null:{location:{pathname:L,search:y,hash:A,state:b,key:S},navigationType:a}},[d,g,y,A,b,S,a]);return $n(N!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${A}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:O.createElement(ys.Provider,{value:p},O.createElement(gc.Provider,{children:e,value:N}))}function Yw({children:s,location:e}){return Pw(Mm(s),e)}function Mm(s,e=[]){let n=[];return O.Children.forEach(s,(a,o)=>{if(!O.isValidElement(a))return;let c=[...e,o];if(a.type===O.Fragment){n.push.apply(n,Mm(a.props.children,c));return}gt(a.type===cr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Mm(a.props.children,c)),n.push(d)}),n}var ah="get",rh="application/x-www-form-urlencoded";function Fh(s){return s!=null&&typeof s.tagName=="string"}function Xw(s){return Fh(s)&&s.tagName.toLowerCase()==="button"}function Zw(s){return Fh(s)&&s.tagName.toLowerCase()==="form"}function Ww(s){return Fh(s)&&s.tagName.toLowerCase()==="input"}function $w(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function eC(s,e){return s.button===0&&(!e||e==="_self")&&!$w(s)}var Zu=null;function tC(){if(Zu===null)try{new FormData(document.createElement("form"),0),Zu=!1}catch{Zu=!0}return Zu}var nC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(s){return s!=null&&!nC.has(s)?($n(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):s}function sC(s,e){let n,a,o,c,d;if(Zw(s)){let p=s.getAttribute("action");a=p?gi(p,e):null,n=s.getAttribute("method")||ah,o=vm(s.getAttribute("enctype"))||rh,c=new FormData(s)}else if(Xw(s)||Ww(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(a=g?gi(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||ah,o=vm(s.getAttribute("formenctype"))||vm(p.getAttribute("enctype"))||rh,c=new FormData(p,s),!tC()){let{name:y,type:A,value:b}=s;if(A==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,b)}}else{if(Fh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,a=null,o=rh,d=s}return c&&o==="text/plain"&&(d=c,c=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function iC(s,e,n){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&gi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function aC(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function oC(s,e,n){let a=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await aC(c,n);return d.links?d.links():[]}return[]}));return hC(a.flat(1).filter(rC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zA(s,e,n,a,o,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>{var A;return n[y].pathname!==g.pathname||((A=n[y].route.path)==null?void 0:A.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{var b;let A=a.routes[g.route.id];if(!A||!A.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function lC(s,e,{includeHydrateFallback:n}={}){return cC(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function cC(s){return[...new Set(s)]}function uC(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function hC(s,e){let n=new Set;return new Set(e),s.reduce((a,o)=>{let c=JSON.stringify(uC(o));return n.has(c)||(n.add(c),a.push({key:c,link:o})),a},[])}function ME(){let s=O.useContext(jo);return gp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function dC(){let s=O.useContext(zh);return gp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var yp=O.createContext(void 0);yp.displayName="FrameworkContext";function VE(){let s=O.useContext(yp);return gp(s,"You must render this element inside a <HydratedRouter> element"),s}function fC(s,e){let n=O.useContext(yp),[a,o]=O.useState(!1),[c,d]=O.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:A,onTouchStart:b}=e,S=O.useRef(null);O.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let U=H=>{H.forEach(Z=>{d(Z.isIntersecting)})},V=new IntersectionObserver(U,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[s]),O.useEffect(()=>{if(a){let U=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(U)}}},[a]);let N=()=>{o(!0)},L=()=>{o(!1),d(!1)};return n?s!=="intent"?[c,S,{}]:[c,S,{onFocus:Ql(p,N),onBlur:Ql(g,L),onMouseEnter:Ql(y,N),onMouseLeave:Ql(A,L),onTouchStart:Ql(b,N)}]:[!1,S,{}]}function Ql(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function mC({page:s,...e}){let{router:n}=ME(),a=O.useMemo(()=>xE(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?O.createElement(gC,{page:s,matches:a,...e}):null}function pC(s){let{manifest:e,routeModules:n}=VE(),[a,o]=O.useState([]);return O.useEffect(()=>{let c=!1;return oC(s,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[s,e,n]),a}function gC({page:s,matches:e,...n}){let a=Ta(),{manifest:o,routeModules:c}=VE(),{basename:d}=ME(),{loaderData:p,matches:g}=dC(),y=O.useMemo(()=>zA(s,e,g,o,a,"data"),[s,e,g,o,a]),A=O.useMemo(()=>zA(s,e,g,o,a,"assets"),[s,e,g,o,a]),b=O.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let L=new Set,U=!1;if(e.forEach(H=>{var q;let Z=o.routes[H.route.id];!Z||!Z.hasLoader||(!y.some(W=>W.route.id===H.route.id)&&H.route.id in p&&((q=c[H.route.id])!=null&&q.shouldRevalidate)||Z.hasClientLoader?U=!0:L.add(H.route.id))}),L.size===0)return[];let V=iC(s,d,"data");return U&&L.size>0&&V.searchParams.set("_routes",e.filter(H=>L.has(H.route.id)).map(H=>H.route.id).join(",")),[V.pathname+V.search]},[d,p,a,o,y,e,s,c]),S=O.useMemo(()=>lC(A,o),[A,o]),N=pC(A);return O.createElement(O.Fragment,null,b.map(L=>O.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),S.map(L=>O.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),N.map(({key:L,link:U})=>O.createElement("link",{key:L,nonce:n.nonce,...U})))}function yC(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LE&&(window.__reactRouterVersion="7.9.6")}catch{}function vC({basename:s,children:e,window:n}){let a=O.useRef();a.current==null&&(a.current=sw({window:n,v5Compat:!0}));let o=a.current,[c,d]=O.useState({action:o.action,location:o.location}),p=O.useCallback(g=>{O.startTransition(()=>d(g))},[d]);return O.useLayoutEffect(()=>o.listen(p),[o,p]),O.createElement(Jw,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var UE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BE=O.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:A,viewTransition:b,...S},N){let{basename:L}=O.useContext(ys),U=typeof y=="string"&&UE.test(y),V,H=!1;if(typeof y=="string"&&U&&(V=y,LE))try{let R=new URL(window.location.href),D=y.startsWith("//")?new URL(R.protocol+y):new URL(y),j=gi(D.pathname,L);D.origin===R.origin&&j!=null?y=j+D.search+D.hash:H=!0}catch{$n(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=jw(y,{relative:o}),[q,W,ee]=fC(a,S),he=bC(y,{replace:d,state:p,target:g,preventScrollReset:A,relative:o,viewTransition:b});function x(R){e&&e(R),R.defaultPrevented||he(R)}let T=O.createElement("a",{...S,...ee,href:V||Z,onClick:H||c?e:x,ref:yC(N,W),target:g,"data-discover":!U&&n==="render"?"true":void 0});return q&&!U?O.createElement(O.Fragment,null,T,O.createElement(mC,{page:Z})):T});BE.displayName="Link";var AC=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:c,to:d,viewTransition:p,children:g,...y},A){let b=yc(d,{relative:y.relative}),S=Ta(),N=O.useContext(zh),{navigator:L,basename:U}=O.useContext(ys),V=N!=null&&xC(b)&&p===!0,H=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,Z=S.pathname,q=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),q=q?q.toLowerCase():null,H=H.toLowerCase()),q&&U&&(q=gi(q,U)||q);const W=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ee=Z===H||!o&&Z.startsWith(H)&&Z.charAt(W)==="/",he=q!=null&&(q===H||!o&&q.startsWith(H)&&q.charAt(H.length)==="/"),x={isActive:ee,isPending:he,isTransitioning:V},T=ee?e:void 0,R;typeof a=="function"?R=a(x):R=[a,ee?"active":null,he?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(x):c;return O.createElement(BE,{...y,"aria-current":T,className:R,ref:A,style:D,to:d,viewTransition:p},typeof g=="function"?g(x):g)});AC.displayName="NavLink";var _C=O.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:c,method:d=ah,action:p,onSubmit:g,relative:y,preventScrollReset:A,viewTransition:b,...S},N)=>{let L=wC(),U=CC(p,{relative:y}),V=d.toLowerCase()==="get"?"get":"post",H=typeof p=="string"&&UE.test(p),Z=q=>{if(g&&g(q),q.defaultPrevented)return;q.preventDefault();let W=q.nativeEvent.submitter,ee=(W==null?void 0:W.getAttribute("formmethod"))||d;L(W||q.currentTarget,{fetcherKey:e,method:ee,navigate:n,replace:o,state:c,relative:y,preventScrollReset:A,viewTransition:b})};return O.createElement("form",{ref:N,method:V,action:U,onSubmit:a?g:Z,...S,"data-discover":!H&&s==="render"?"true":void 0})});_C.displayName="Form";function EC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zE(s){let e=O.useContext(jo);return gt(e,EC(s)),e}function bC(s,{target:e,replace:n,state:a,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=Oo(),g=Ta(),y=yc(s,{relative:c});return O.useCallback(A=>{if(eC(A,e)){A.preventDefault();let b=n!==void 0?n:ac(g)===ac(y);p(s,{replace:b,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[g,p,y,n,a,e,s,o,c,d])}var TC=0,SC=()=>`__${String(++TC)}__`;function wC(){let{router:s}=zE("useSubmit"),{basename:e}=O.useContext(ys),n=qw();return O.useCallback(async(a,o={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=sC(a,e);if(o.navigate===!1){let A=o.fetcherKey||SC();await s.fetch(A,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,n])}function CC(s,{relative:e}={}){let{basename:n}=O.useContext(ys),a=O.useContext(vs);gt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...yc(s||".",{relative:e})},d=Ta();if(s==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(A=>A==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let A=p.toString();c.search=A?`?${A}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:mi([n,c.pathname])),ac(c)}function xC(s,{relative:e}={}){let n=O.useContext(jE);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=zE("useViewTransitionState"),o=yc(s,{relative:e});if(!n.isTransitioning)return!1;let c=gi(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=gi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return vh(o.pathname,d)!=null||vh(o.pathname,c)!=null}const RC=()=>{};var FA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},NC=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const o=s[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],d=s[n++],p=s[n++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,N=y&63;g||(N=64,d||(S=64)),a.push(n[A],n[b],n[S],n[N])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(FE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):NC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const b=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||b==null)throw new IC;const S=c<<2|p>>4;if(a.push(S),y!==64){const N=p<<4&240|y>>2;if(a.push(N),b!==64){const L=y<<6&192|b;a.push(L)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class IC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jC=function(s){const e=FE(s);return qE.encodeByteArray(e,!0)},Ah=function(s){return jC(s).replace(/\./g,"")},HE=function(s){try{return qE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=()=>DC().__FIREBASE_DEFAULTS__,PC=()=>{if(typeof process>"u"||typeof FA>"u")return;const s=FA.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},kC=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&HE(s[1]);return e&&JSON.parse(e)},qh=()=>{try{return RC()||OC()||PC()||kC()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},GE=s=>{var e,n;return(n=(e=qh())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},QE=s=>{const e=GE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},KE=()=>{var s;return(s=qh())==null?void 0:s.config},JE=s=>{var e;return(e=qh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vp(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ah(JSON.stringify(n)),Ah(JSON.stringify(d)),""].join(".")}const $l={};function VC(){const s={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?s.emulator.push(e):s.prod.push(e);return s}function LC(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let qA=!1;function Ap(s,e){if(typeof window>"u"||typeof document>"u"||!vr(window.location.host)||$l[s]===e||$l[s]||qA)return;$l[s]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",c=VC().prod.length>0;function d(){const S=document.getElementById(a);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{qA=!0,d()},S}function A(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=LC(a),N=n("text"),L=document.getElementById(N)||document.createElement("span"),U=n("learnmore"),V=document.getElementById(U)||document.createElement("a"),H=n("preprendIcon"),Z=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const q=S.element;p(q),A(V,U);const W=y();g(Z,H),q.append(Z,L,V,W),document.body.appendChild(q)}c?(L.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function BC(){var e;const s=(e=qh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FC(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function qC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HC(){const s=pn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function GC(){return!BC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QC(){try{return typeof indexedDB=="object"}catch{return!1}}function KC(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="FirebaseError";class Hs extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=JC,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?YC(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Hs(o,p,a)}}function YC(s,e){return s.replace(XC,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const XC=/\{\$([^}]+)}/g;function ZC(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function fr(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(HA(c)&&HA(d)){if(!fr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function HA(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Kl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Jl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function WC(s,e){const n=new $C(s,e);return n.subscribe.bind(n)}class $C{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");ex(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ex(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(s){return s&&s._delegate?s._delegate:s}class ga{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new MC;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sx(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ur){return this.instances.has(e)}getOptions(e=ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:nx(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ur){return this.component?this.component.multipleInstances?e:ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nx(s){return s===ur?void 0:s}function sx(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const ax={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},rx=Fe.INFO,ox={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},lx=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=ox[e];if(o)console[o](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=rx,this._logHandler=lx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ax[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const cx=(s,e)=>e.some(n=>s instanceof n);let GA,QA;function ux(){return GA||(GA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hx(){return QA||(QA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XE=new WeakMap,Vm=new WeakMap,ZE=new WeakMap,_m=new WeakMap,Ep=new WeakMap;function dx(s){const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(ua(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&XE.set(n,s)}).catch(()=>{}),Ep.set(e,s),e}function fx(s){if(Vm.has(s))return;const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Vm.set(s,e)}let Lm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Vm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ZE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function mx(s){Lm=s(Lm)}function px(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(Em(this),e,...n);return ZE.set(a,e.sort?e.sort():[e]),ua(a)}:hx().includes(s)?function(...e){return s.apply(Em(this),e),ua(XE.get(this))}:function(...e){return ua(s.apply(Em(this),e))}}function gx(s){return typeof s=="function"?px(s):(s instanceof IDBTransaction&&fx(s),cx(s,ux())?new Proxy(s,Lm):s)}function ua(s){if(s instanceof IDBRequest)return dx(s);if(_m.has(s))return _m.get(s);const e=gx(s);return e!==s&&(_m.set(s,e),Ep.set(e,s)),e}const Em=s=>Ep.get(s);function yx(s,e,{blocked:n,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=ua(d);return a&&d.addEventListener("upgradeneeded",g=>{a(ua(d.result),g.oldVersion,g.newVersion,ua(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const vx=["get","getKey","getAll","getAllKeys","count"],Ax=["put","add","delete","clear"],bm=new Map;function KA(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Ax.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||vx.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return bm.set(e,c),c}mx(s=>({...s,get:(e,n,a)=>KA(e,n)||s.get(e,n,a),has:(e,n)=>!!KA(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ex(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Ex(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",JA="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new _p("@firebase/app"),bx="@firebase/app-compat",Tx="@firebase/analytics-compat",Sx="@firebase/analytics",wx="@firebase/app-check-compat",Cx="@firebase/app-check",xx="@firebase/auth",Rx="@firebase/auth-compat",Nx="@firebase/database",Ix="@firebase/data-connect",jx="@firebase/database-compat",Dx="@firebase/functions",Ox="@firebase/functions-compat",Px="@firebase/installations",kx="@firebase/installations-compat",Mx="@firebase/messaging",Vx="@firebase/messaging-compat",Lx="@firebase/performance",Ux="@firebase/performance-compat",Bx="@firebase/remote-config",zx="@firebase/remote-config-compat",Fx="@firebase/storage",qx="@firebase/storage-compat",Hx="@firebase/firestore",Gx="@firebase/ai",Qx="@firebase/firestore-compat",Kx="firebase",Jx="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",Yx={[Um]:"fire-core",[bx]:"fire-core-compat",[Sx]:"fire-analytics",[Tx]:"fire-analytics-compat",[Cx]:"fire-app-check",[wx]:"fire-app-check-compat",[xx]:"fire-auth",[Rx]:"fire-auth-compat",[Nx]:"fire-rtdb",[Ix]:"fire-data-connect",[jx]:"fire-rtdb-compat",[Dx]:"fire-fn",[Ox]:"fire-fn-compat",[Px]:"fire-iid",[kx]:"fire-iid-compat",[Mx]:"fire-fcm",[Vx]:"fire-fcm-compat",[Lx]:"fire-perf",[Ux]:"fire-perf-compat",[Bx]:"fire-rc",[zx]:"fire-rc-compat",[Fx]:"fire-gcs",[qx]:"fire-gcs-compat",[Hx]:"fire-fst",[Qx]:"fire-fst-compat",[Gx]:"fire-vertex","fire-js":"fire-js",[Kx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,Xx=new Map,zm=new Map;function YA(s,e){try{s.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function mr(s){const e=s.name;if(zm.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,s);for(const n of _h.values())YA(n,s);for(const n of Xx.values())YA(n,s);return!0}function Hh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Zn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new vc("app","Firebase",Zx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=Jx;function WE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a={name:Bm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ha.create("bad-app-name",{appName:String(o)});if(n||(n=KE()),!n)throw ha.create("no-options");const c=_h.get(o);if(c){if(fr(n,c.options)&&fr(a,c.config))return c;throw ha.create("duplicate-app",{appName:o})}const d=new ix(o);for(const g of zm.values())d.addComponent(g);const p=new Wx(n,a,d);return _h.set(o,p),p}function bp(s=Bm){const e=_h.get(s);if(!e&&s===Bm&&KE())return WE();if(!e)throw ha.create("no-app",{appName:s});return e}function ks(s,e,n){let a=Yx[s]??s;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(d.join(" "));return}mr(new ga(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="firebase-heartbeat-database",eR=1,rc="firebase-heartbeat-store";let Tm=null;function $E(){return Tm||(Tm=yx($x,eR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(s=>{throw ha.create("idb-open",{originalErrorMessage:s.message})})),Tm}async function tR(s){try{const n=(await $E()).transaction(rc),a=await n.objectStore(rc).get(eb(s));return await n.done,a}catch(e){if(e instanceof Hs)yi.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function XA(s,e){try{const a=(await $E()).transaction(rc,"readwrite");await a.objectStore(rc).put(e,eb(s)),await a.done}catch(n){if(n instanceof Hs)yi.warn(n.message);else{const a=ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(a.message)}}}function eb(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=1024,sR=30;class iR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=ZA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>sR){const d=oR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){yi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZA(),{heartbeatsToSend:a,unsentEntries:o}=aR(this._heartbeatsCache.heartbeats),c=Ah(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return yi.warn(n),""}}}function ZA(){return new Date().toISOString().substring(0,10)}function aR(s,e=nR){const n=[];let a=s.slice();for(const o of s){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),WA(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),WA(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class rR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QC()?KC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return XA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return XA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function WA(s){return Ah(JSON.stringify({version:2,heartbeats:s})).length}function oR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(s){mr(new ga("platform-logger",e=>new _x(e),"PRIVATE")),mr(new ga("heartbeat",e=>new iR(e),"PRIVATE")),ks(Um,JA,s),ks(Um,JA,"esm2020"),ks("fire-js","")}lR("");var $A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,tb;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function R(){}R.prototype=T.prototype,x.F=T.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(D,j,P){for(var I=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)I[Ee-2]=arguments[Ee];return T.prototype[j].apply(D,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,T,R){R||(R=0);const D=Array(16);if(typeof T=="string")for(var j=0;j<16;++j)D[j]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(j=0;j<16;++j)D[j]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=x.g[0],R=x.g[1],j=x.g[2];let P=x.g[3],I;I=T+(P^R&(j^P))+D[0]+3614090360&4294967295,T=R+(I<<7&4294967295|I>>>25),I=P+(j^T&(R^j))+D[1]+3905402710&4294967295,P=T+(I<<12&4294967295|I>>>20),I=j+(R^P&(T^R))+D[2]+606105819&4294967295,j=P+(I<<17&4294967295|I>>>15),I=R+(T^j&(P^T))+D[3]+3250441966&4294967295,R=j+(I<<22&4294967295|I>>>10),I=T+(P^R&(j^P))+D[4]+4118548399&4294967295,T=R+(I<<7&4294967295|I>>>25),I=P+(j^T&(R^j))+D[5]+1200080426&4294967295,P=T+(I<<12&4294967295|I>>>20),I=j+(R^P&(T^R))+D[6]+2821735955&4294967295,j=P+(I<<17&4294967295|I>>>15),I=R+(T^j&(P^T))+D[7]+4249261313&4294967295,R=j+(I<<22&4294967295|I>>>10),I=T+(P^R&(j^P))+D[8]+1770035416&4294967295,T=R+(I<<7&4294967295|I>>>25),I=P+(j^T&(R^j))+D[9]+2336552879&4294967295,P=T+(I<<12&4294967295|I>>>20),I=j+(R^P&(T^R))+D[10]+4294925233&4294967295,j=P+(I<<17&4294967295|I>>>15),I=R+(T^j&(P^T))+D[11]+2304563134&4294967295,R=j+(I<<22&4294967295|I>>>10),I=T+(P^R&(j^P))+D[12]+1804603682&4294967295,T=R+(I<<7&4294967295|I>>>25),I=P+(j^T&(R^j))+D[13]+4254626195&4294967295,P=T+(I<<12&4294967295|I>>>20),I=j+(R^P&(T^R))+D[14]+2792965006&4294967295,j=P+(I<<17&4294967295|I>>>15),I=R+(T^j&(P^T))+D[15]+1236535329&4294967295,R=j+(I<<22&4294967295|I>>>10),I=T+(j^P&(R^j))+D[1]+4129170786&4294967295,T=R+(I<<5&4294967295|I>>>27),I=P+(R^j&(T^R))+D[6]+3225465664&4294967295,P=T+(I<<9&4294967295|I>>>23),I=j+(T^R&(P^T))+D[11]+643717713&4294967295,j=P+(I<<14&4294967295|I>>>18),I=R+(P^T&(j^P))+D[0]+3921069994&4294967295,R=j+(I<<20&4294967295|I>>>12),I=T+(j^P&(R^j))+D[5]+3593408605&4294967295,T=R+(I<<5&4294967295|I>>>27),I=P+(R^j&(T^R))+D[10]+38016083&4294967295,P=T+(I<<9&4294967295|I>>>23),I=j+(T^R&(P^T))+D[15]+3634488961&4294967295,j=P+(I<<14&4294967295|I>>>18),I=R+(P^T&(j^P))+D[4]+3889429448&4294967295,R=j+(I<<20&4294967295|I>>>12),I=T+(j^P&(R^j))+D[9]+568446438&4294967295,T=R+(I<<5&4294967295|I>>>27),I=P+(R^j&(T^R))+D[14]+3275163606&4294967295,P=T+(I<<9&4294967295|I>>>23),I=j+(T^R&(P^T))+D[3]+4107603335&4294967295,j=P+(I<<14&4294967295|I>>>18),I=R+(P^T&(j^P))+D[8]+1163531501&4294967295,R=j+(I<<20&4294967295|I>>>12),I=T+(j^P&(R^j))+D[13]+2850285829&4294967295,T=R+(I<<5&4294967295|I>>>27),I=P+(R^j&(T^R))+D[2]+4243563512&4294967295,P=T+(I<<9&4294967295|I>>>23),I=j+(T^R&(P^T))+D[7]+1735328473&4294967295,j=P+(I<<14&4294967295|I>>>18),I=R+(P^T&(j^P))+D[12]+2368359562&4294967295,R=j+(I<<20&4294967295|I>>>12),I=T+(R^j^P)+D[5]+4294588738&4294967295,T=R+(I<<4&4294967295|I>>>28),I=P+(T^R^j)+D[8]+2272392833&4294967295,P=T+(I<<11&4294967295|I>>>21),I=j+(P^T^R)+D[11]+1839030562&4294967295,j=P+(I<<16&4294967295|I>>>16),I=R+(j^P^T)+D[14]+4259657740&4294967295,R=j+(I<<23&4294967295|I>>>9),I=T+(R^j^P)+D[1]+2763975236&4294967295,T=R+(I<<4&4294967295|I>>>28),I=P+(T^R^j)+D[4]+1272893353&4294967295,P=T+(I<<11&4294967295|I>>>21),I=j+(P^T^R)+D[7]+4139469664&4294967295,j=P+(I<<16&4294967295|I>>>16),I=R+(j^P^T)+D[10]+3200236656&4294967295,R=j+(I<<23&4294967295|I>>>9),I=T+(R^j^P)+D[13]+681279174&4294967295,T=R+(I<<4&4294967295|I>>>28),I=P+(T^R^j)+D[0]+3936430074&4294967295,P=T+(I<<11&4294967295|I>>>21),I=j+(P^T^R)+D[3]+3572445317&4294967295,j=P+(I<<16&4294967295|I>>>16),I=R+(j^P^T)+D[6]+76029189&4294967295,R=j+(I<<23&4294967295|I>>>9),I=T+(R^j^P)+D[9]+3654602809&4294967295,T=R+(I<<4&4294967295|I>>>28),I=P+(T^R^j)+D[12]+3873151461&4294967295,P=T+(I<<11&4294967295|I>>>21),I=j+(P^T^R)+D[15]+530742520&4294967295,j=P+(I<<16&4294967295|I>>>16),I=R+(j^P^T)+D[2]+3299628645&4294967295,R=j+(I<<23&4294967295|I>>>9),I=T+(j^(R|~P))+D[0]+4096336452&4294967295,T=R+(I<<6&4294967295|I>>>26),I=P+(R^(T|~j))+D[7]+1126891415&4294967295,P=T+(I<<10&4294967295|I>>>22),I=j+(T^(P|~R))+D[14]+2878612391&4294967295,j=P+(I<<15&4294967295|I>>>17),I=R+(P^(j|~T))+D[5]+4237533241&4294967295,R=j+(I<<21&4294967295|I>>>11),I=T+(j^(R|~P))+D[12]+1700485571&4294967295,T=R+(I<<6&4294967295|I>>>26),I=P+(R^(T|~j))+D[3]+2399980690&4294967295,P=T+(I<<10&4294967295|I>>>22),I=j+(T^(P|~R))+D[10]+4293915773&4294967295,j=P+(I<<15&4294967295|I>>>17),I=R+(P^(j|~T))+D[1]+2240044497&4294967295,R=j+(I<<21&4294967295|I>>>11),I=T+(j^(R|~P))+D[8]+1873313359&4294967295,T=R+(I<<6&4294967295|I>>>26),I=P+(R^(T|~j))+D[15]+4264355552&4294967295,P=T+(I<<10&4294967295|I>>>22),I=j+(T^(P|~R))+D[6]+2734768916&4294967295,j=P+(I<<15&4294967295|I>>>17),I=R+(P^(j|~T))+D[13]+1309151649&4294967295,R=j+(I<<21&4294967295|I>>>11),I=T+(j^(R|~P))+D[4]+4149444226&4294967295,T=R+(I<<6&4294967295|I>>>26),I=P+(R^(T|~j))+D[11]+3174756917&4294967295,P=T+(I<<10&4294967295|I>>>22),I=j+(T^(P|~R))+D[2]+718787259&4294967295,j=P+(I<<15&4294967295|I>>>17),I=R+(P^(j|~T))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(j+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+j&4294967295,x.g[3]=x.g[3]+P&4294967295}a.prototype.v=function(x,T){T===void 0&&(T=x.length);const R=T-this.blockSize,D=this.C;let j=this.h,P=0;for(;P<T;){if(j==0)for(;P<=R;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<T;)if(D[j++]=x.charCodeAt(P++),j==this.blockSize){o(this,D),j=0;break}}else for(;P<T;)if(D[j++]=x[P++],j==this.blockSize){o(this,D),j=0;break}}this.h=j,this.o+=T},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;T=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=T&255,T/=256;for(this.v(x),x=Array(16),T=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)x[T++]=this.g[R]>>>D&255;return x};function c(x,T){var R=p;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=T(x)}function d(x,T){this.h=T;const R=[];let D=!0;for(let j=x.length-1;j>=0;j--){const P=x[j]|0;D&&P==T||(R[j]=P,D=!1)}this.g=R}var p={};function g(x){return-128<=x&&x<128?c(x,function(T){return new d([T|0],T<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return V(y(-x));const T=[];let R=1;for(let D=0;x>=R;D++)T[D]=x/R|0,R*=4294967296;return new d(T,0)}function A(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return V(A(x.substring(1),T));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(T,8));let D=b;for(let P=0;P<x.length;P+=8){var j=Math.min(8,x.length-P);const I=parseInt(x.substring(P,P+j),T);j<8?(j=y(Math.pow(T,j)),D=D.j(j).add(y(I))):(D=D.j(R),D=D.add(y(I)))}return D}var b=g(0),S=g(1),N=g(16777216);s=d.prototype,s.m=function(){if(U(this))return-V(this).m();let x=0,T=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);x+=(D>=0?D:4294967296+D)*T,T*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(L(this))return"0";if(U(this))return"-"+V(this).toString(x);const T=y(Math.pow(x,6));var R=this;let D="";for(;;){const j=W(R,T).g;R=H(R,j.j(T));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=j,L(R))return P+D;for(;P.length<6;)P="0"+P;D=P+D}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function L(x){if(x.h!=0)return!1;for(let T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function U(x){return x.h==-1}s.l=function(x){return x=H(this,x),U(x)?-1:L(x)?0:1};function V(x){const T=x.g.length,R=[];for(let D=0;D<T;D++)R[D]=~x.g[D];return new d(R,~x.h).add(S)}s.abs=function(){return U(this)?V(this):this},s.add=function(x){const T=Math.max(this.g.length,x.g.length),R=[];let D=0;for(let j=0;j<=T;j++){let P=D+(this.i(j)&65535)+(x.i(j)&65535),I=(P>>>16)+(this.i(j)>>>16)+(x.i(j)>>>16);D=I>>>16,P&=65535,I&=65535,R[j]=I<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function H(x,T){return x.add(V(T))}s.j=function(x){if(L(this)||L(x))return b;if(U(this))return U(x)?V(this).j(V(x)):V(V(this).j(x));if(U(x))return V(this.j(V(x)));if(this.l(N)<0&&x.l(N)<0)return y(this.m()*x.m());const T=this.g.length+x.g.length,R=[];for(var D=0;D<2*T;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let j=0;j<x.g.length;j++){const P=this.i(D)>>>16,I=this.i(D)&65535,Ee=x.i(j)>>>16,ge=x.i(j)&65535;R[2*D+2*j]+=I*ge,Z(R,2*D+2*j),R[2*D+2*j+1]+=P*ge,Z(R,2*D+2*j+1),R[2*D+2*j+1]+=I*Ee,Z(R,2*D+2*j+1),R[2*D+2*j+2]+=P*Ee,Z(R,2*D+2*j+2)}for(x=0;x<T;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=T;x<2*T;x++)R[x]=0;return new d(R,0)};function Z(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function q(x,T){this.g=x,this.h=T}function W(x,T){if(L(T))throw Error("division by zero");if(L(x))return new q(b,b);if(U(x))return T=W(V(x),T),new q(V(T.g),V(T.h));if(U(T))return T=W(x,V(T)),new q(V(T.g),T.h);if(x.g.length>30){if(U(x)||U(T))throw Error("slowDivide_ only works with positive integers.");for(var R=S,D=T;D.l(x)<=0;)R=ee(R),D=ee(D);var j=he(R,1),P=he(D,1);for(D=he(D,2),R=he(R,2);!L(D);){var I=P.add(D);I.l(x)<=0&&(j=j.add(R),P=I),D=he(D,1),R=he(R,1)}return T=H(x,j.j(T)),new q(j,T)}for(j=b;x.l(T)>=0;){for(R=Math.max(1,Math.floor(x.m()/T.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),P=y(R),I=P.j(T);U(I)||I.l(x)>0;)R-=D,P=y(R),I=P.j(T);L(P)&&(P=S),j=j.add(P),x=H(x,I)}return new q(j,x)}s.B=function(x){return W(this,x).h},s.and=function(x){const T=Math.max(this.g.length,x.g.length),R=[];for(let D=0;D<T;D++)R[D]=this.i(D)&x.i(D);return new d(R,this.h&x.h)},s.or=function(x){const T=Math.max(this.g.length,x.g.length),R=[];for(let D=0;D<T;D++)R[D]=this.i(D)|x.i(D);return new d(R,this.h|x.h)},s.xor=function(x){const T=Math.max(this.g.length,x.g.length),R=[];for(let D=0;D<T;D++)R[D]=this.i(D)^x.i(D);return new d(R,this.h^x.h)};function ee(x){const T=x.g.length+1,R=[];for(let D=0;D<T;D++)R[D]=x.i(D)<<1|x.i(D-1)>>>31;return new d(R,x.h)}function he(x,T){const R=T>>5;T%=32;const D=x.g.length-R,j=[];for(let P=0;P<D;P++)j[P]=T>0?x.i(P+R)>>>T|x.i(P+R+1)<<32-T:x.i(P+R);return new d(j,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,tb=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,da=d}).apply(typeof $A<"u"?$A:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nb,Yl,sb,oh,Fm,ib,ab,rb;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(h,v){if(v)e:{var _=a;h=h.split(".");for(var C=0;C<h.length-1;C++){var Q=h[C];if(!(Q in _))break e;_=_[Q]}h=h[h.length-1],C=_[h],v=v(C),v!=C&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var _=[],C;for(C in v)Object.prototype.hasOwnProperty.call(v,C)&&_.push([C,v[C]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,_){return h.call.apply(h.bind,arguments)}function y(h,v,_){return y=g,y.apply(null,arguments)}function A(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function b(h,v){function _(){}_.prototype=v.prototype,h.Z=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(C,Q,X){for(var ue=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ue[Pe-2]=arguments[Pe];return v.prototype[Q].apply(C,ue)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const v=h.length;if(v>0){const _=Array(v);for(let C=0;C<v;C++)_[C]=h[C];return _}return[]}function L(h,v){for(let C=1;C<arguments.length;C++){const Q=arguments[C];var _=typeof Q;if(_=_!="object"?_:Q?Array.isArray(Q)?"array":_:"null",_=="array"||_=="object"&&typeof Q.length=="number"){_=h.length||0;const X=Q.length||0;h.length=_+X;for(let ue=0;ue<X;ue++)h[_+ue]=Q[ue]}else h.push(Q)}}class U{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(h){d.setTimeout(()=>{throw h},0)}function H(){var h=x;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Z{constructor(){this.h=this.g=null}add(v,_){const C=q.get();C.set(v,_),this.h?this.h.next=C:this.g=C,this.h=C}}var q=new U(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,he=!1,x=new Z,T=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(R)}};function R(){for(var h;h=H();){try{h.h.call(h.g)}catch(_){V(_)}var v=q;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}he=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h}();function I(h){return/^[\s\xa0]*$/.test(h)}function Ee(h,v){j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(Ee,j),Ee.prototype.init=function(h,v){const _=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(_=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),F=0;function oe(h,v,_,C,Q){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!C,this.ha=Q,this.key=++F,this.da=this.fa=!1}function ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h,v,_){for(const C in h)v.call(_,h[C],C,h)}function M(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function te(h){const v={};for(const _ in h)v[_]=h[_];return v}const fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(h,v){let _,C;for(let Q=1;Q<arguments.length;Q++){C=arguments[Q];for(_ in C)h[_]=C[_];for(let X=0;X<fe.length;X++)_=fe[X],Object.prototype.hasOwnProperty.call(C,_)&&(h[_]=C[_])}}function be(h){this.src=h,this.g={},this.h=0}be.prototype.add=function(h,v,_,C,Q){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=me(h,v,C,Q);return ue>-1?(v=h[ue],_||(v.fa=!1)):(v=new oe(v,this.src,X,!!C,Q),v.fa=_,h.push(v)),v};function ie(h,v){const _=v.type;if(_ in h.g){var C=h.g[_],Q=Array.prototype.indexOf.call(C,v,void 0),X;(X=Q>=0)&&Array.prototype.splice.call(C,Q,1),X&&(ce(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function me(h,v,_,C){for(let Q=0;Q<h.length;++Q){const X=h[Q];if(!X.da&&X.listener==v&&X.capture==!!_&&X.ha==C)return Q}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Ce={};function ft(h,v,_,C,Q){if(Array.isArray(v)){for(let X=0;X<v.length;X++)ft(h,v[X],_,C,Q);return null}return _=ts(_),h&&h[ge]?h.J(v,_,p(C)?!!C.capture:!1,Q):Je(h,v,_,!1,C,Q)}function Je(h,v,_,C,Q,X){if(!v)throw Error("Invalid event type");const ue=p(Q)?!!Q.capture:!!Q;let Pe=Nn(h);if(Pe||(h[Me]=Pe=new be(h)),_=Pe.add(v,_,C,ue,X),_.proxy)return _;if(C=gn(),_.proxy=C,C.src=h,C.listener=_,h.addEventListener)P||(Q=ue),Q===void 0&&(Q=!1),h.addEventListener(v.toString(),C,Q);else if(h.attachEvent)h.attachEvent(Ht(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function gn(){function h(_){return v.call(h.src,h.listener,_)}const v=Tn;return h}function ln(h,v,_,C,Q){if(Array.isArray(v))for(var X=0;X<v.length;X++)ln(h,v[X],_,C,Q);else C=p(C)?!!C.capture:!!C,_=ts(_),h&&h[ge]?(h=h.i,X=String(v).toString(),X in h.g&&(v=h.g[X],_=me(v,_,C,Q),_>-1&&(ce(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete h.g[X],h.h--)))):h&&(h=Nn(h))&&(v=h.g[v.toString()],h=-1,v&&(h=me(v,_,C,Q)),(_=h>-1?v[h]:null)&&mt(_))}function mt(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ge])ie(v.i,h);else{var _=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(_,C,h.capture):v.detachEvent?v.detachEvent(Ht(_),C):v.addListener&&v.removeListener&&v.removeListener(C),(_=Nn(v))?(ie(_,h),_.h==0&&(_.src=null,v[Me]=null)):ce(h)}}}function Ht(h){return h in Ce?Ce[h]:Ce[h]="on"+h}function Tn(h,v){if(h.da)h=!0;else{v=new Ee(v,this);const _=h.listener,C=h.ha||h.src;h.fa&&mt(h),h=_.call(C,v)}return h}function Nn(h){return h=h[Me],h instanceof be?h:null}var bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ts(h){return typeof h=="function"?h:(h[bt]||(h[bt]=function(v){return h.handleEvent(v)}),h[bt])}function le(){D.call(this),this.i=new be(this),this.M=this,this.G=null}b(le,D),le.prototype[ge]=!0,le.prototype.removeEventListener=function(h,v,_,C){ln(this,h,v,_,C)};function _e(h,v){var _,C=h.G;if(C)for(_=[];C;C=C.G)_.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new j(v,h);else if(v instanceof j)v.target=v.target||h;else{var Q=v;v=new j(C,h),de(v,Q)}Q=!0;let X,ue;if(_)for(ue=_.length-1;ue>=0;ue--)X=v.g=_[ue],Q=Te(X,C,!0,v)&&Q;if(X=v.g=h,Q=Te(X,C,!0,v)&&Q,Q=Te(X,C,!1,v)&&Q,_)for(ue=0;ue<_.length;ue++)X=v.g=_[ue],Q=Te(X,C,!1,v)&&Q}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const _=h.g[v];for(let C=0;C<_.length;C++)ce(_[C]);delete h.g[v],h.h--}}this.G=null},le.prototype.J=function(h,v,_,C){return this.i.add(String(h),v,!1,_,C)},le.prototype.K=function(h,v,_,C){return this.i.add(String(h),v,!0,_,C)};function Te(h,v,_,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let Q=!0;for(let X=0;X<v.length;++X){const ue=v[X];if(ue&&!ue.da&&ue.capture==_){const Pe=ue.listener,ht=ue.ha||ue.src;ue.fa&&ie(h.i,ue),Q=Pe.call(ht,C)!==!1&&Q}}return Q&&!C.defaultPrevented}function Ge(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function ut(h){h.g=Ge(()=>{h.g=null,h.i&&(h.i=!1,ut(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class In extends D{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(h){D.call(this),this.h=h,this.g={}}b(Wt,D);var Gt=[];function Lt(h){ye(h.g,function(v,_){this.g.hasOwnProperty(_)&&mt(v)},h),h.g={}}Wt.prototype.N=function(){Wt.Z.N.call(this),Lt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=d.JSON.stringify,Qt=d.JSON.parse,md=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Oc(){}function Pc(){}var As={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bi(){j.call(this,"d")}b(bi,j);function ns(){j.call(this,"c")}b(ns,j);var Bn={},Ti=null;function Tr(){return Ti=Ti||new le}Bn.Ia="serverreachability";function zo(h){j.call(this,Bn.Ia,h)}b(zo,j);function Si(h){const v=Tr();_e(v,new zo(v))}Bn.STAT_EVENT="statevent";function Sr(h,v){j.call(this,Bn.STAT_EVENT,h),this.stat=v}b(Sr,j);function Tt(h){const v=Tr();_e(v,new Sr(v,h))}Bn.Ja="timingevent";function kc(h,v){j.call(this,Bn.Ja,h),this.size=v}b(kc,j);function wi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Ci(){this.g=!0}Ci.prototype.ua=function(){this.g=!1};function Fo(h,v,_,C,Q,X){h.info(function(){if(h.g)if(X){var ue="",Pe=X.split("&");for(let We=0;We<Pe.length;We++){var ht=Pe[We].split("=");if(ht.length>1){const Ct=ht[0];ht=ht[1];const jn=Ct.split("_");ue=jn.length>=2&&jn[1]=="type"?ue+(Ct+"="+ht+"&"):ue+(Ct+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+C+") [attempt "+Q+"]: "+v+`
`+_+`
`+ue})}function qo(h,v,_,C,Q,X,ue){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Q+"]: "+v+`
`+_+`
`+X+" "+ue})}function Qs(h,v,_,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+_s(h,_)+(C?" "+C:"")})}function pd(h,v){h.info(function(){return"TIMEOUT: "+v})}Ci.prototype.info=function(){};function _s(h,v){if(!h.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var _=X[h];if(!(_.length<2)){var C=_[1];if(Array.isArray(C)&&!(C.length<1)){var Q=C[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return yn(X)}catch{return v}}var St={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$t={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ks;function Ra(){}b(Ra,Oc),Ra.prototype.g=function(){return new XMLHttpRequest},Ks=new Ra;function Na(h){return encodeURIComponent(String(h))}function gd(h){var v=1;h=h.split(":");const _=[];for(;v>0&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function ss(h,v,_,C){this.j=h,this.i=v,this.l=_,this.S=C||1,this.V=new Wt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var wr={},Es={};function bs(h,v,_){h.M=1,h.A=Ys(yt(v)),h.u=_,h.R=!0,Ri(h,null)}function Ri(h,v){h.F=Date.now(),Ia(h),h.B=yt(h.A);var _=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Uc(_.i,"t",C),h.C=0,_=h.j.L,h.h=new xi,h.g=kr(h.j,_?v:null,!h.u),h.P>0&&(h.O=new In(y(h.Y,h,h.g),h.P)),v=h.V,_=h.g,C=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Gt[0]=Q.toString()),Q=Gt);for(let X=0;X<Q.length;X++){const ue=ft(_,Q[X],C||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.J?te(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Si(),Fo(h.i,h.v,h.B,h.l,h.S,h.u)}ss.prototype.ba=function(h){h=h.target;const v=this.O;v&&cn(h)==3?v.j():this.Y(h)},ss.prototype.Y=function(h){try{if(h==this.g)e:{const Pe=cn(this.g),ht=this.g.ya(),We=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||za(this.g)))){this.K||Pe!=4||ht==7||(ht==8||We<=0?Si(3):Si(2)),Ss(this);var v=this.g.ca();this.X=v;var _=Ni(this);if(this.o=v==200,qo(this.i,this.v,this.B,this.l,this.S,Pe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var C,Q=this.g;if((C=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(C)){var X=C;break t}}X=null}if(h=X)Qs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cr(this,h);else{this.o=!1,this.m=3,Tt(12),ws(this),ja(this);break e}}if(this.R){h=!0;let Ct;for(;!this.K&&this.C<_.length;)if(Ct=Mc(this,_),Ct==Es){Pe==4&&(this.m=4,Tt(14),h=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==wr){this.m=4,Tt(15),Qs(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else Qs(this.i,this.l,Ct,null),Cr(this,Ct);if(wt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||_.length!=0||this.h.h||(this.m=1,Tt(16),h=!1),this.o=this.o&&h,!h)Qs(this.i,this.l,_,"[Invalid Chunked Response]"),ws(this),ja(this);else if(_.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),$o(ue),ue.P=!0,Tt(11))}}else Qs(this.i,this.l,_,null),Cr(this,_);Pe==4&&ws(this),this.o&&!this.K&&(Pe==4?el(this.j,this):(this.o=!1,Ia(this)))}else Fa(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),ws(this),ja(this)}}}catch{}finally{}};function Ni(h){if(!wt(h))return h.g.la();const v=za(h.g);if(v==="")return"";let _="";const C=v.length,Q=cn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ws(h),ja(h),"";h.h.i=new d.TextDecoder}for(let X=0;X<C;X++)h.h.h=!0,_+=h.h.i.decode(v[X],{stream:!(Q&&X==C-1)});return v.length=0,h.h.g+=_,h.C=0,h.h.g}function wt(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Mc(h,v){var _=h.C,C=v.indexOf(`
`,_);return C==-1?Es:(_=Number(v.substring(_,C)),isNaN(_)?wr:(C+=1,C+_>v.length?Es:(v=v.slice(C,C+_),h.C=C+_,v)))}ss.prototype.cancel=function(){this.K=!0,ws(this)};function Ia(h){h.T=Date.now()+h.H,Ts(h,h.H)}function Ts(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wi(y(h.aa,h),v)}function Ss(h){h.D&&(d.clearTimeout(h.D),h.D=null)}ss.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(pd(this.i,this.B),this.M!=2&&(Si(),Tt(17)),ws(this),this.m=2,ja(this)):Ts(this,this.T-h)};function ja(h){h.j.I==0||h.K||el(h.j,h)}function ws(h){Ss(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Lt(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Cr(h,v){try{var _=h.j;if(_.I!=0&&(_.g==h||Pa(_.h,h))){if(!h.L&&Pa(_.h,h)&&_.I==3){try{var C=_.Ba.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Q=C;if(Q[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)Pr(_),Cs(_);else break e;Wo(_),Tt(18)}}else _.xa=Q[1],0<_.xa-_.K&&Q[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=wi(y(_.Va,_),6e3));zn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ws(_,11)}else if((h.L||_.g==h)&&Pr(_),!I(v))for(Q=_.Ba.g.parse(v),v=0;v<Q.length;v++){let We=Q[v];const Ct=We[0];if(!(Ct<=_.K))if(_.K=Ct,We=We[1],_.I==2)if(We[0]=="c"){_.M=We[1],_.ba=We[2];const jn=We[3];jn!=null&&(_.ka=jn,_.j.info("VER="+_.ka));const xs=We[4];xs!=null&&(_.za=xs,_.j.info("SVER="+_.za));const rs=We[5];rs!=null&&typeof rs=="number"&&rs>0&&(C=1.5*rs,_.O=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const os=h.g;if(os){const ls=os.g?os.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ls){var X=C.h;X.g||ls.indexOf("spdy")==-1&&ls.indexOf("quic")==-1&&ls.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(xr(X,X.h),X.h=null))}if(C.G){const nl=os.g?os.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(C.wa=nl,tt(C.J,C.G,nl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),C=_;var ue=h;if(C.na=Jc(C,C.L?C.ba:null,C.W),ue.L){Js(C.h,ue);var Pe=ue,ht=C.O;ht&&(Pe.H=ht),Pe.D&&(Ss(Pe),Ia(Pe)),C.g=ue}else Hc(C);_.i.length>0&&Qa(_)}else We[0]!="stop"&&We[0]!="close"||Ws(_,7);else _.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ws(_,7):Ha(_):We[0]!="noop"&&_.l&&_.l.qa(We),_.A=0)}}Si(4)}catch{}}var yd=class{constructor(h,v){this.g=h,this.map=v}};function Da(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zn(h){return h.h?1:h.g?h.g.size:0}function Pa(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function xr(h,v){h.g?h.g.add(v):h.h=v}function Js(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Da.prototype.cancel=function(){if(this.i=Rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rr(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.G);return v}return N(h.i)}var Nr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vd(h,v){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const C=h[_].indexOf("=");let Q,X=null;C>=0?(Q=h[_].substring(0,C),X=h[_].substring(C+1)):Q=h[_],v(Q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function is(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof is?(this.l=h.l,Ii(this,h.j),this.o=h.o,this.g=h.g,ka(this,h.u),this.h=h.h,ji(this,Bc(h.i)),this.m=h.m):h&&(v=String(h).match(Nr))?(this.l=!1,Ii(this,v[1]||"",!0),this.o=Ma(v[2]||""),this.g=Ma(v[3]||"",!0),ka(this,v[4]),this.h=Ma(v[5]||"",!0),ji(this,v[6]||"",!0),this.m=Ma(v[7]||"")):(this.l=!1,this.i=new Fn(null,this.l))}is.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Kt(v,Go,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Kt(v,Go,!0),"@"),h.push(Na(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Kt(_,_.charAt(0)=="/"?Di:Qo,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Kt(_,Lc)),h.join("")},is.prototype.resolve=function(h){const v=yt(this);let _=!!h.j;_?Ii(v,h.j):_=!!h.o,_?v.o=h.o:_=!!h.g,_?v.g=h.g:_=h.u!=null;var C=h.h;if(_)ka(v,h.u);else if(_=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Q=v.h.lastIndexOf("/");Q!=-1&&(C=v.h.slice(0,Q+1)+C)}if(Q=C,Q==".."||Q==".")C="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){C=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const X=[];for(let ue=0;ue<Q.length;){const Pe=Q[ue++];Pe=="."?C&&ue==Q.length&&X.push(""):Pe==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),C&&ue==Q.length&&X.push("")):(X.push(Pe),C=!0)}C=X.join("/")}else C=Q}return _?v.h=C:_=h.i.toString()!=="",_?ji(v,Bc(h.i)):_=!!h.m,_&&(v.m=h.m),v};function yt(h){return new is(h)}function Ii(h,v,_){h.j=_?Ma(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ka(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function ji(h,v,_){v instanceof Fn?(h.i=v,Yo(h.i,h.l)):(_||(v=Kt(v,Vc)),h.i=new Fn(v,h.l))}function tt(h,v,_){h.i.set(v,_)}function Ys(h){return tt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ma(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Kt(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,Ho),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ho(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Go=/[#\/\?@]/g,Qo=/[#\?:]/g,Di=/[#\?]/g,Vc=/[#\?@]/g,Lc=/#/g;function Fn(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Xs(h){h.g||(h.g=new Map,h.h=0,h.i&&vd(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}s=Fn.prototype,s.add=function(h,v){Xs(this),this.i=null,h=as(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function Ko(h,v){Xs(h),v=as(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Jo(h,v){return Xs(h),v=as(h,v),h.g.has(v)}s.forEach=function(h,v){Xs(this),this.g.forEach(function(_,C){_.forEach(function(Q){h.call(v,Q,C,this)},this)},this)};function Ir(h,v){Xs(h);let _=[];if(typeof v=="string")Jo(h,v)&&(_=_.concat(h.g.get(as(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)_=_.concat(h[v]);return _}s.set=function(h,v){return Xs(this),this.i=null,h=as(this,h),Jo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},s.get=function(h,v){return h?(h=Ir(this,h),h.length>0?String(h[0]):v):v};function Uc(h,v,_){Ko(h,v),_.length>0&&(h.i=null,h.g.set(as(h,v),N(_)),h.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let C=0;C<v.length;C++){var _=v[C];const Q=Na(_);_=Ir(this,_);for(let X=0;X<_.length;X++){let ue=Q;_[X]!==""&&(ue+="="+Na(_[X])),h.push(ue)}}return this.i=h.join("&")};function Bc(h){const v=new Fn;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function as(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Yo(h,v){v&&!h.j&&(Xs(h),h.i=null,h.g.forEach(function(_,C){const Q=C.toLowerCase();C!=Q&&(Ko(this,C),Uc(this,Q,_))},h)),h.j=v}function Xo(h,v){const _=new Ci;if(d.Image){const C=new Image;C.onload=A(vn,_,"TestLoadImage: loaded",!0,v,C),C.onerror=A(vn,_,"TestLoadImage: error",!1,v,C),C.onabort=A(vn,_,"TestLoadImage: abort",!1,v,C),C.ontimeout=A(vn,_,"TestLoadImage: timeout",!1,v,C),d.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function Oi(h,v){const _=new Ci,C=new AbortController,Q=setTimeout(()=>{C.abort(),vn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(X=>{clearTimeout(Q),X.ok?vn(_,"TestPingServer: ok",!0,v):vn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),vn(_,"TestPingServer: error",!1,v)})}function vn(h,v,_,C,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),C(_)}catch{}}function zc(){this.g=new md}function Va(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Va,Oc),Va.prototype.g=function(){return new La(this.i,this.h)};function La(h,v){le.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(La,le),s=La.prototype,s.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Zs(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,An(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pi(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pi(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?An(this):Zs(this),this.readyState==3&&Pi(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,An(this))},s.Na=function(h){this.g&&(this.response=h,An(this))},s.ga=function(){this.g&&An(this)};function An(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Zs(h)}s.setRequestHeader=function(h,v){this.A.append(h,v)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function Zs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(La.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ki(h){let v="";return ye(h,function(_,C){v+=C,v+=":",v+=_,v+=`\r
`}),v}function qn(h,v,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=ki(_),typeof h=="string"?_!=null&&Na(_):tt(h,v,_))}function rt(h){le.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(rt,le);var jr=/^https?$/i,Fc=["POST","PUT"];s=rt.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,v,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ks.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){Ua(this,X);return}if(h=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Q in C)_.set(Q,C[Q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())_.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),Q=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(Fc,v,void 0)>=0)||C||Q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of _)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Ua(this,X)}};function Ua(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Ba(h),Ut(h)}function Ba(h){h.A||(h.A=!0,_e(h,"complete"),_e(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,_e(this,"complete"),_e(this,"abort"),Ut(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ut(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Zo(this):this.Xa())},s.Xa=function(){Zo(this)};function Zo(h){if(h.h&&typeof c<"u"){if(h.v&&cn(h)==4)setTimeout(h.Ca.bind(h),0);else if(_e(h,"readystatechange"),cn(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var C;if(C=X===0){let ue=String(h.D).match(Nr)[1]||null;!ue&&d.self&&d.self.location&&(ue=d.self.location.protocol.slice(0,-1)),C=!jr.test(ue?ue.toLowerCase():"")}_=C}if(_)_e(h,"complete"),_e(h,"success");else{h.o=6;try{var Q=cn(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",Ba(h)}}finally{Ut(h)}}}}function Ut(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,v||_e(h,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function cn(h){return h.g?h.g.readyState:0}s.ca=function(){try{return cn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Qt(v)}};function za(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Fa(h){const v={};h=(h.g&&cn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(I(h[C]))continue;var _=gd(h[C]);const Q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=v[Q]||[];v[Q]=X,X.push(_)}M(v,function(C){return C.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function Dr(h){this.za=0,this.i=[],this.j=new Ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qa("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qa("baseRetryDelayMs",5e3,h),this.Za=qa("retryDelaySeedMs",1e4,h),this.Ta=qa("forwardChannelMaxRetries",2,h),this.va=qa("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Da(h&&h.concurrentRequestLimit),this.Ba=new zc,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Dr.prototype,s.ka=8,s.I=1,s.connect=function(h,v,_,C){Tt(0),this.W=h,this.H=v||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.J=Jc(this,null,this.W),Qa(this)};function Ha(h){if(Ga(h),h.I==3){var v=h.V++,_=yt(h.J);if(tt(_,"SID",h.M),tt(_,"RID",v),tt(_,"TYPE","terminate"),Ka(h,_),v=new ss(h,h.j,v),v.M=2,v.A=Ys(yt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.A,_=!0),_||(v.g=kr(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ia(v)}Kc(h)}function Cs(h){h.g&&($o(h),h.g.cancel(),h.g=null)}function Ga(h){Cs(h),h.v&&(d.clearTimeout(h.v),h.v=null),Pr(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function Qa(h){if(!Oa(h.h)&&!h.m){h.m=!0;var v=h.Ea;ee||T(),he||(ee(),he=!0),x.add(v,h),h.D=0}}function Ad(h,v){return zn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wi(y(h.Ea,h,v),Qc(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new ss(this,this.j,h);let X=this.o;if(this.U&&(X?(X=te(X),de(X,this.U)):X=this.U),this.u!==null||this.R||(Q.J=X,X=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Or(this,Q,v),_=yt(this.J),tt(_,"RID",h),tt(_,"CVER",22),this.G&&tt(_,"X-HTTP-Session-Id",this.G),Ka(this,_),X&&(this.R?v="headers="+Na(ki(X))+"&"+v:this.u&&qn(_,this.u,X)),xr(this.h,Q),this.Ra&&tt(_,"TYPE","init"),this.S?(tt(_,"$req",v),tt(_,"SID","null"),Q.U=!0,bs(Q,_,null)):bs(Q,_,v),this.I=2}}else this.I==3&&(h?qc(this,h):this.i.length==0||Oa(this.h)||qc(this))};function qc(h,v){var _;v?_=v.l:_=h.V++;const C=yt(h.J);tt(C,"SID",h.M),tt(C,"RID",_),tt(C,"AID",h.K),Ka(h,C),h.u&&h.o&&qn(C,h.u,h.o),_=new ss(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Or(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),xr(h.h,_),bs(_,C,v)}function Ka(h,v){h.H&&ye(h.H,function(_,C){tt(v,C,_)}),h.l&&ye({},function(_,C){tt(v,C,_)})}function Or(h,v,_){_=Math.min(h.i.length,_);const C=h.l?y(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Pe=-1;for(;;){const ht=["count="+_];Pe==-1?_>0?(Pe=Q[0].g,ht.push("ofs="+Pe)):Pe=0:ht.push("ofs="+Pe);let We=!0;for(let Ct=0;Ct<_;Ct++){var X=Q[Ct].g;const jn=Q[Ct].map;if(X-=Pe,X<0)Pe=Math.max(0,Q[Ct].g-100),We=!1;else try{X="req"+X+"_"||"";try{var ue=jn instanceof Map?jn:Object.entries(jn);for(const[xs,rs]of ue){let os=rs;p(rs)&&(os=yn(rs)),ht.push(X+xs+"="+encodeURIComponent(os))}}catch(xs){throw ht.push(X+"type="+encodeURIComponent("_badmap")),xs}}catch{C&&C(jn)}}if(We){ue=ht.join("&");break e}}ue=void 0}return h=h.i.splice(0,_),v.G=h,ue}function Hc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ee||T(),he||(ee(),he=!0),x.add(v,h),h.A=0}}function Wo(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wi(y(h.Da,h),Qc(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,Gc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wi(y(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Cs(this),Gc(this))};function $o(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function Gc(h){h.g=new ss(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=yt(h.na);tt(v,"RID","rpc"),tt(v,"SID",h.M),tt(v,"AID",h.K),tt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&tt(v,"TO",h.ia),tt(v,"TYPE","xmlhttp"),Ka(h,v),h.u&&h.o&&qn(v,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=Ys(yt(v)),_.u=null,_.R=!0,Ri(_,h)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),Wo(this),Tt(19))};function Pr(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function el(h,v){var _=null;if(h.g==v){Pr(h),$o(h),h.g=null;var C=2}else if(Pa(h.h,v))_=v.G,Js(h.h,v),C=1;else return;if(h.I!=0){if(v.o)if(C==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var Q=h.D;C=Tr(),_e(C,new kc(C,_)),Qa(h)}else Hc(h);else if(Q=v.m,Q==3||Q==0&&v.X>0||!(C==1&&Ad(h,v)||C==2&&Wo(h)))switch(_&&_.length>0&&(v=h.h,v.i=v.i.concat(_)),Q){case 1:Ws(h,5);break;case 4:Ws(h,10);break;case 3:Ws(h,6);break;default:Ws(h,2)}}}function Qc(h,v){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*v}function Ws(h,v){if(h.j.info("Error code "+v),v==2){var _=y(h.bb,h),C=h.Ua;const Q=!C;C=new is(C||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ii(C,"https"),Ys(C),Q?Xo(C.toString(),_):Oi(C.toString(),_)}else Tt(2);h.I=0,h.l&&h.l.pa(v),Kc(h),Ga(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Kc(h){if(h.I=0,h.ja=[],h.l){const v=Rr(h.h);(v.length!=0||h.i.length!=0)&&(L(h.ja,v),L(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function Jc(h,v,_){var C=_ instanceof is?yt(_):new is(_);if(C.g!="")v&&(C.g=v+"."+C.g),ka(C,C.u);else{var Q=d.location;C=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;const X=new is(null);C&&Ii(X,C),v&&(X.g=v),Q&&ka(X,Q),_&&(X.h=_),C=X}return _=h.G,v=h.wa,_&&v&&tt(C,_,v),tt(C,"VER",h.ka),Ka(h,C),C}function kr(h,v,_){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new rt(new Va({ab:_})):new rt(h.ma),v.Fa(h.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}s=Yc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Mr(){}Mr.prototype.g=function(h,v){return new _n(h,v)};function _n(h,v){le.call(this),this.g=new Dr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!I(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Mi(this)}b(_n,le),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Ha(this.g)},_n.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=yn(h),h=_);v.i.push(new yd(v.Ya++,h)),v.I==3&&Qa(v)},_n.prototype.N=function(){this.g.l=null,delete this.j,Ha(this.g),delete this.g,_n.Z.N.call(this)};function tl(h){bi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(tl,bi);function Xc(){ns.call(this),this.status=1}b(Xc,ns);function Mi(h){this.g=h}b(Mi,Yc),Mi.prototype.ra=function(){_e(this.g,"a")},Mi.prototype.qa=function(h){_e(this.g,new tl(h))},Mi.prototype.pa=function(h){_e(this.g,new Xc)},Mi.prototype.oa=function(){_e(this.g,"b")},Mr.prototype.createWebChannel=Mr.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,rb=function(){return new Mr},ab=function(){return Tr()},ib=Bn,Fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,oh=St,$t.COMPLETE="complete",sb=$t,Pc.EventType=As,As.OPEN="a",As.CLOSE="b",As.ERROR="c",As.MESSAGE="d",le.prototype.listen=le.prototype.J,Yl=Pc,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,nb=rt}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const e_="@firebase/firestore",t_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new _p("@firebase/firestore");function ho(){return pr.logLevel}function ve(s,...e){if(pr.logLevel<=Fe.DEBUG){const n=e.map(Tp);pr.debug(`Firestore (${Po}): ${s}`,...n)}}function vi(s,...e){if(pr.logLevel<=Fe.ERROR){const n=e.map(Tp);pr.error(`Firestore (${Po}): ${s}`,...n)}}function To(s,...e){if(pr.logLevel<=Fe.WARN){const n=e.map(Tp);pr.warn(`Firestore (${Po}): ${s}`,...n)}}function Tp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(s,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,ob(s,a,n)}function ob(s,e,n){let a=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw vi(a),new Error(a)}function Ze(s,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,s||ob(e,o,a)}function ke(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class uR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hR{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let c=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pi)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ze(typeof a.accessToken=="string",31837,{l:a}),new lb(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class dR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new dR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const a=c=>{c.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ve("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const o=c=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new n_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=pR(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<n&&(a+=e.charAt(o[c]%62))}return a}}function qe(s,e){return s<e?-1:s>e?1:0}function qm(s,e){const n=Math.min(s.length,e.length);for(let a=0;a<n;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Sm(o)===Sm(c)?qe(o,c):Sm(o)?1:-1}return qe(s.length,e.length)}const gR=55296,yR=57343;function Sm(s){const e=s.charCodeAt(0);return e>=gR&&e<=yR}function So(s,e,n){return s.length===e.length&&s.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="__name__";class Os{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ie(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Os.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Os?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const c=Os.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return qe(e.length,n.length)}static compareSegments(e,n){const a=Os.isNumericId(e),o=Os.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Os.extractNumericId(e).compare(Os.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class lt extends Os{construct(e,n,a){return new lt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const vR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Os{construct(e,n,a){return new an(e,n,a)}static isValidIdentifier(e){return vR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new an([s_])}static fromServerFormat(e){const n=[];let a="",o=0;const c=()=>{if(a.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(lt.fromString(e))}static fromName(e){return new we(lt.fromString(e).popFirst(5))}static empty(){return new we(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(s,e,n){if(!n)throw new pe(se.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function AR(s,e,n,a){if(e===!0&&a===!0)throw new pe(se.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function i_(s){if(!we.isDocumentKey(s))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function a_(s){if(we.isDocumentKey(s))throw new pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ub(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Gh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ie(12329,{type:typeof s})}function es(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(s);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(s,e){const n={typeString:s};return e&&(n.value=e),n}function _c(s,e){if(!ub(s))throw new pe(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new pe(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=-62135596800,o_=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*o_);return new dt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<r_)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_c(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Mt("string",dt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new dt(0,0))}static max(){return new Oe(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=-1;function _R(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(a===1e9?new dt(n+1,0):new dt(n,a));return new ya(o,we.empty(),e)}function ER(s){return new ya(s.readTime,s.key,oc)}class ya{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ya(Oe.min(),we.empty(),oc)}static max(){return new ya(Oe.max(),we.empty(),oc)}}function bR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(s.documentKey,e.documentKey),n!==0?n:qe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(s){if(s.code!==se.FAILED_PRECONDITION||s.message!==TR)throw s;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,a)=>{n(e)})}static reject(e){return new re((n,a)=>{a(e)})}static waitFor(e){return new re((n,a)=>{let o=0,c=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++c,d&&c===o&&n()},g=>a(g))}),d=!0,c===o&&n()})}static or(e){let n=re.resolve(!1);for(const a of e)n=n.next(o=>o?re.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,c)=>{a.push(n.call(this,o,c))}),this.waitFor(a)}static mapArray(e,n){return new re((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next(A=>{d[y]=A,++p,p===c&&a(d)},A=>o(A))}})}static doWhile(e,n){return new re((a,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):a()};c()})}}function wR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function Kh(s){return s==null}function Eh(s){return s===0&&1/s==-1/0}function CR(s){return typeof s=="number"&&Number.isInteger(s)&&!Eh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="";function xR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=l_(e)),e=RR(s.get(n),e);return l_(e)}function RR(s,e){let n=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case hb:n+="";break;default:n+=c}}return n}function l_(s){return s+hb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Sa(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function db(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,a,o,c){this.key=e,this.value=n,this.color=a??sn.RED,this.left=o??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,c){return new sn(e??this.key,n??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,a),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,a,o,c){return this}insert(e,n,a){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new u_(this.data.getIterator())}getIteratorFrom(e){return new u_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class u_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Un([])}unionWith(e){let n=new qt(an.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fb("Invalid base64 string: "+c):c}}(e);return new on(n)}static fromUint8Array(e){const n=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const NR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(s){if(Ze(!!s,39018),typeof s=="string"){let e=0;const n=NR.exec(s);if(Ze(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Nt(s.seconds),nanos:Nt(s.nanos)}}function Nt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Aa(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="server_timestamp",pb="__type__",gb="__previous_value__",yb="__local_write_time__";function Cp(s){var n,a;return((a=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[pb])==null?void 0:a.stringValue)===mb}function Jh(s){const e=s.mapValue.fields[gb];return Cp(e)?Jh(e):e}function lc(s){const e=va(s.mapValue.fields[yb].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,a,o,c,d,p,g,y,A){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=A}}const bh="(default)";class cc{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="__type__",jR="__max__",eh={mapValue:{}},Ab="__vector__",Th="value";function _a(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Cp(s)?4:OR(s)?9007199254740991:DR(s)?10:11:Ie(28295,{value:s})}function Fs(s,e){if(s===e)return!0;const n=_a(s);if(n!==_a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return lc(s).isEqual(lc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=va(o.timestampValue),p=va(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,c){return Aa(o.bytesValue).isEqual(Aa(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,c){return Nt(o.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)}(s,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Nt(o.integerValue)===Nt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Nt(o.doubleValue),p=Nt(c.doubleValue);return d===p?Eh(d)===Eh(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return So(s.arrayValue.values||[],e.arrayValue.values||[],Fs);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(c_(d)!==c_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Fs(d[g],p[g])))return!1;return!0}(s,e);default:return Ie(52216,{left:s})}}function uc(s,e){return(s.values||[]).find(n=>Fs(n,e))!==void 0}function wo(s,e){if(s===e)return 0;const n=_a(s),a=_a(e);if(n!==a)return qe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return function(c,d){const p=Nt(c.integerValue||c.doubleValue),g=Nt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(s,e);case 3:return h_(s.timestampValue,e.timestampValue);case 4:return h_(lc(s),lc(e));case 5:return qm(s.stringValue,e.stringValue);case 6:return function(c,d){const p=Aa(c),g=Aa(d);return p.compareTo(g)}(s.bytesValue,e.bytesValue);case 7:return function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const A=qe(p[y],g[y]);if(A!==0)return A}return qe(p.length,g.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,d){const p=qe(Nt(c.latitude),Nt(d.latitude));return p!==0?p:qe(Nt(c.longitude),Nt(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return d_(s.arrayValue,e.arrayValue);case 10:return function(c,d){var S,N,L,U;const p=c.fields||{},g=d.fields||{},y=(S=p[Th])==null?void 0:S.arrayValue,A=(N=g[Th])==null?void 0:N.arrayValue,b=qe(((L=y==null?void 0:y.values)==null?void 0:L.length)||0,((U=A==null?void 0:A.values)==null?void 0:U.length)||0);return b!==0?b:d_(y,A)}(s.mapValue,e.mapValue);case 11:return function(c,d){if(c===eh.mapValue&&d===eh.mapValue)return 0;if(c===eh.mapValue)return 1;if(d===eh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},A=Object.keys(y);g.sort(),A.sort();for(let b=0;b<g.length&&b<A.length;++b){const S=qm(g[b],A[b]);if(S!==0)return S;const N=wo(p[g[b]],y[A[b]]);if(N!==0)return N}return qe(g.length,A.length)}(s.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function h_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const n=va(s),a=va(e),o=qe(n.seconds,a.seconds);return o!==0?o:qe(n.nanos,a.nanos)}function d_(s,e){const n=s.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const c=wo(n[o],a[o]);if(c)return c}return qe(n.length,a.length)}function Co(s){return Hm(s)}function Hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const a=va(n);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return Aa(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return we.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let a="[",o=!0;for(const c of n.values||[])o?o=!1:a+=",",a+=Hm(c);return a+"]"}(s.arrayValue):"mapValue"in s?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Hm(n.fields[d])}`;return o+"}"}(s.mapValue):Ie(61005,{value:s})}function lh(s){switch(_a(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(s);return e?16+lh(e):16;case 5:return 2*s.stringValue.length;case 6:return Aa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,c)=>o+lh(c),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return Sa(a.fields,(c,d)=>{o+=c.length+lh(d)}),o}(s.mapValue);default:throw Ie(13486,{value:s})}}function f_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Gm(s){return!!s&&"integerValue"in s}function xp(s){return!!s&&"arrayValue"in s}function m_(s){return!!s&&"nullValue"in s}function p_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ch(s){return!!s&&"mapValue"in s}function DR(s){var n,a;return((a=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[vb])==null?void 0:a.stringValue)===Ab}function ec(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sa(s.mapValue.fields,(n,a)=>e.mapValue.fields[n]=ec(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(s.arrayValue.values[n]);return e}return{...s}}function OR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=an.emptyPath(),a={},o=[];e.forEach((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=p.popLast()}d?a[p.lastSegment()]=ec(d):o.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,a,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Sa(n,(o,c)=>e[o]=c);for(const o of a)delete e[o]}clone(){return new Rn(ec(this.value))}}function _b(s){const e=[];return Sa(s.fields,(n,a)=>{const o=new an([n]);if(ch(a)){const c=_b(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,a,o,c,d,p){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new mn(e,0,Oe.min(),Oe.min(),Oe.min(),Rn.empty(),0)}static newFoundDocument(e,n,a,o){return new mn(e,1,n,Oe.min(),a,o,0)}static newNoDocument(e,n){return new mn(e,2,n,Oe.min(),Oe.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Oe.min(),Oe.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function g_(s,e,n){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=we.comparator(we.fromName(d.referenceValue),n.key):a=wo(d,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function y_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Fs(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function PR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{}class kt extends Eb{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new MR(e,n,a):n==="array-contains"?new UR(e,a):n==="in"?new BR(e,a):n==="not-in"?new zR(e,a):n==="array-contains-any"?new FR(e,a):new kt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new VR(e,a):new LR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wo(n,this.value)):n!==null&&_a(this.value)===_a(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ps extends Eb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ps(e,n)}matches(e){return bb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bb(s){return s.op==="and"}function Tb(s){return kR(s)&&bb(s)}function kR(s){for(const e of s.filters)if(e instanceof ps)return!1;return!0}function Qm(s){if(s instanceof kt)return s.field.canonicalString()+s.op.toString()+Co(s.value);if(Tb(s))return s.filters.map(e=>Qm(e)).join(",");{const e=s.filters.map(n=>Qm(n)).join(",");return`${s.op}(${e})`}}function Sb(s,e){return s instanceof kt?function(a,o){return o instanceof kt&&a.op===o.op&&a.field.isEqual(o.field)&&Fs(a.value,o.value)}(s,e):s instanceof ps?function(a,o){return o instanceof ps&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((c,d,p)=>c&&Sb(d,o.filters[p]),!0):!1}(s,e):void Ie(19439)}function wb(s){return s instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(s):s instanceof ps?function(n){return n.op.toString()+" {"+n.getFilters().map(wb).join(" ,")+"}"}(s):"Filter"}class MR extends kt{constructor(e,n,a){super(e,n,a),this.key=we.fromName(a.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class VR extends kt{constructor(e,n){super(e,"in",n),this.keys=Cb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LR extends kt{constructor(e,n){super(e,"not-in",n),this.keys=Cb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cb(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(a=>we.fromName(a.referenceValue))}class UR extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xp(n)&&uc(n.arrayValue,this.value)}}class BR extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class zR extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uc(this.value.arrayValue,n)}}class FR extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>uc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function v_(s,e=null,n=[],a=[],o=null,c=null,d=null){return new qR(s,e,n,a,o,c,d)}function Rp(s){const e=ke(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Qm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Co(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Co(a)).join(",")),e.Te=n}return e.Te}function Np(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!PR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Sb(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!y_(s.startAt,e.startAt)&&y_(s.endAt,e.endAt)}function Km(s){return we.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n=null,a=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HR(s,e,n,a,o,c,d,p){return new Ec(s,e,n,a,o,c,d,p)}function Ip(s){return new Ec(s)}function A_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xb(s){return s.collectionGroup!==null}function tc(s){const e=ke(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new qt(an.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new wh(c,a))}),n.has(an.keyField().canonicalString())||e.Ie.push(new wh(an.keyField(),a))}return e.Ie}function Ms(s){const e=ke(s);return e.Ee||(e.Ee=GR(e,tc(s))),e.Ee}function GR(s,e){if(s.limitType==="F")return v_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new wh(o.field,c)});const n=s.endAt?new Sh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Sh(s.startAt.position,s.startAt.inclusive):null;return v_(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function Jm(s,e){const n=s.filters.concat([e]);return new Ec(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Ym(s,e,n){return new Ec(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Yh(s,e){return Np(Ms(s),Ms(e))&&s.limitType===e.limitType}function Rb(s){return`${Rp(Ms(s))}|lt:${s.limitType}`}function fo(s){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>wb(o)).join(", ")}]`),Kh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Co(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Co(o)).join(",")),`Target(${a})`}(Ms(s))}; limitType=${s.limitType})`}function Xh(s,e){return e.isFoundDocument()&&function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):we.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(s,e)&&function(a,o){for(const c of tc(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,p,g){const y=g_(d,p,g);return d.inclusive?y<=0:y<0}(a.startAt,tc(a),o)||a.endAt&&!function(d,p,g){const y=g_(d,p,g);return d.inclusive?y>=0:y>0}(a.endAt,tc(a),o))}(s,e)}function QR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Nb(s){return(e,n)=>{let a=!1;for(const o of tc(s)){const c=KR(o,e,n);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function KR(s,e,n){const a=s.field.isKeyField()?we.comparator(e.key,n.key):function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?wo(g,y):Ie(42886)}(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ie(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,(n,a)=>{for(const[o,c]of a)e(o,c)})}isEmpty(){return db(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new At(we.comparator);function Ai(){return JR}const Ib=new At(we.comparator);function Xl(...s){let e=Ib;for(const n of s)e=e.insert(n.key,n);return e}function jb(s){let e=Ib;return s.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function hr(){return nc()}function Db(){return nc()}function nc(){return new _r(s=>s.toString(),(s,e)=>s.isEqual(e))}const YR=new At(we.comparator),XR=new qt(we.comparator);function He(...s){let e=XR;for(const n of s)e=e.add(n);return e}const ZR=new qt(qe);function WR(){return ZR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function Ob(s){return{integerValue:""+s}}function Pb(s,e){return CR(e)?Ob(e):jp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function $R(s,e,n){return s instanceof Ch?function(o,c){const d={fields:{[pb]:{stringValue:mb},[yb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Cp(c)&&(c=Jh(c)),c&&(d.fields[gb]=c),{mapValue:d}}(n,e):s instanceof hc?Mb(s,e):s instanceof dc?Vb(s,e):function(o,c){const d=kb(o,c),p=__(d)+__(o.Ae);return Gm(d)&&Gm(o.Ae)?Ob(p):jp(o.serializer,p)}(s,e)}function eN(s,e,n){return s instanceof hc?Mb(s,e):s instanceof dc?Vb(s,e):n}function kb(s,e){return s instanceof fc?function(a){return Gm(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class Ch extends Zh{}class hc extends Zh{constructor(e){super(),this.elements=e}}function Mb(s,e){const n=Lb(e);for(const a of s.elements)n.some(o=>Fs(o,a))||n.push(a);return{arrayValue:{values:n}}}class dc extends Zh{constructor(e){super(),this.elements=e}}function Vb(s,e){let n=Lb(e);for(const a of s.elements)n=n.filter(o=>!Fs(o,a));return{arrayValue:{values:n}}}class fc extends Zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function __(s){return Nt(s.integerValue||s.doubleValue)}function Lb(s){return xp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.field=e,this.transform=n}}function nN(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof hc&&o instanceof hc||a instanceof dc&&o instanceof dc?So(a.elements,o.elements,Fs):a instanceof fc&&o instanceof fc?Fs(a.Ae,o.Ae):a instanceof Ch&&o instanceof Ch}(s.transform,e.transform)}class sN{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Wh{}function Ub(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new $h(s.key,bn.none()):new bc(s.key,s.data,bn.none());{const n=s.data,a=Rn.empty();let o=new qt(an.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new wa(s.key,a,new Un(o.toArray()),bn.none())}}function iN(s,e,n){s instanceof bc?function(o,c,d){const p=o.value.clone(),g=b_(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,n):s instanceof wa?function(o,c,d){if(!uh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=b_(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(Bb(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,n):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function sc(s,e,n,a){return s instanceof bc?function(c,d,p,g){if(!uh(c.precondition,d))return p;const y=c.value.clone(),A=T_(c.fieldTransforms,g,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(s,e,n,a):s instanceof wa?function(c,d,p,g){if(!uh(c.precondition,d))return p;const y=T_(c.fieldTransforms,g,d),A=d.data;return A.setAll(Bb(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(s,e,n,a):function(c,d,p){return uh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,n)}function aN(s,e){let n=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=kb(a.transform,o||null);c!=null&&(n===null&&(n=Rn.empty()),n.set(a.field,c))}return n||null}function E_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&So(a,o,(c,d)=>nN(c,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class bc extends Wh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wa extends Wh{constructor(e,n,a,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Bb(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}}),e}function b_(s,e,n){const a=new Map;Ze(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,eN(d,p,n[o]))}return a}function T_(s,e,n){const a=new Map;for(const o of s){const c=o.transform,d=n.data.field(o.field);a.set(o.field,$R(c,d,e))}return a}class $h extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rN extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&iN(c,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=sc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=sc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=Db();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(o.key)?null:p;const g=Ub(d,p);g!==null&&a.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Oe.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,a)=>E_(n,a))&&So(this.baseMutations,e.baseMutations,(n,a)=>E_(n,a))}}class Dp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Ze(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return YR}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Dp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ke;function uN(s){switch(s){case se.OK:return Ie(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ie(15467,{code:s})}}function zb(s){if(s===void 0)return vi("GRPC error has no .code"),se.UNKNOWN;switch(s){case Pt.OK:return se.OK;case Pt.CANCELLED:return se.CANCELLED;case Pt.UNKNOWN:return se.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return se.INTERNAL;case Pt.UNAVAILABLE:return se.UNAVAILABLE;case Pt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Pt.NOT_FOUND:return se.NOT_FOUND;case Pt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Pt.ABORTED:return se.ABORTED;case Pt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Pt.DATA_LOSS:return se.DATA_LOSS;default:return Ie(39323,{code:s})}}(Ke=Pt||(Pt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new da([4294967295,4294967295],0);function S_(s){const e=hN().encode(s),n=new tb;return n.update(e),new Uint8Array(n.digest())}function w_(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new da([n,a],0),new da([o,c],0)]}class Op{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(a<0)throw new Zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=da.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(da.fromNumber(a)));return o.compare(dN)===1&&(o=new da([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=S_(e),[a,o]=w_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Op(c,o,n);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.ge===0)return;const n=S_(e),[a,o]=w_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,a,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new ed(Oe.min(),o,new At(qe),Ai(),He())}}class Tc{constructor(e,n,a,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Tc(a,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class Fb{constructor(e,n){this.targetId=e,this.Ce=n}}class qb{constructor(e,n,a=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class C_{constructor(){this.ve=0,this.Fe=x_(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),a=He();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ie(38017,{changeType:c})}}),new Tc(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=x_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=th(),this.He=th(),this.Ye=new At(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((a,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Km(c))if(a===0){const d=new we(c.path);this.et(n,d,mn.newNoDocument(d,Oe.min()))}else Ze(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=n;let d,p;try{d=Aa(a).toUint8Array()}catch(g){if(g instanceof fb)return To("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Op(d,o,c)}catch(g){return To(g instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach(c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Km(p.target)){const g=new we(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,mn.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}});let a=He();this.He.forEach((c,d)=>{let p=!0;d.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(c))}),this.je.forEach((c,d)=>d.setReadTime(e));const o=new ed(e,n,this.Ye,this.je,a);return this.je=Ai(),this.Je=th(),this.He=th(),this.Ye=new At(qe),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new C_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function th(){return new At(we.comparator)}function x_(){return new At(we.comparator)}const mN={asc:"ASCENDING",desc:"DESCENDING"},pN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gN={and:"AND",or:"OR"};class yN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(s,e){return s.useProto3Json||Kh(e)?e:{value:e}}function xh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function vN(s,e){return xh(s,e.toTimestamp())}function Vs(s){return Ze(!!s,49232),Oe.fromTimestamp(function(n){const a=va(n);return new dt(a.seconds,a.nanos)}(s))}function Pp(s,e){return Zm(s,e).canonicalString()}function Zm(s,e){const n=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?n:n.child(e)}function Gb(s){const e=lt.fromString(s);return Ze(Xb(e),10190,{key:e.toString()}),e}function Wm(s,e){return Pp(s.databaseId,e.path)}function wm(s,e){const n=Gb(e);if(n.get(1)!==s.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new we(Kb(n))}function Qb(s,e){return Pp(s.databaseId,e)}function AN(s){const e=Gb(s);return e.length===4?lt.emptyPath():Kb(e)}function $m(s){return new lt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Kb(s){return Ze(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function R_(s,e,n){return{name:Wm(s,e),fields:n.value.mapValue.fields}}function _N(s,e){let n;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ie(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,A){return y.useProto3Json?(Ze(A===void 0||typeof A=="string",58123),on.fromBase64String(A||"")):(Ze(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),on.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(y){const A=y.code===void 0?se.UNKNOWN:zb(y.code);return new pe(A,y.message||"")}(d);n=new qb(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=wm(s,a.document.name),c=Vs(a.document.updateTime),d=a.document.createTime?Vs(a.document.createTime):Oe.min(),p=new Rn({mapValue:{fields:a.document.fields}}),g=mn.newFoundDocument(o,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];n=new hh(y,A,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=wm(s,a.document),c=a.readTime?Vs(a.readTime):Oe.min(),d=mn.newNoDocument(o,c),p=a.removedTargetIds||[];n=new hh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=wm(s,a.document),c=a.removedTargetIds||[];n=new hh([],c,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new cN(o,c),p=a.targetId;n=new Fb(p,d)}}return n}function EN(s,e){let n;if(e instanceof bc)n={update:R_(s,e.key,e.value)};else if(e instanceof $h)n={delete:Wm(s,e.key)};else if(e instanceof wa)n={update:R_(s,e.key,e.data),updateMask:IN(e.fieldMask)};else{if(!(e instanceof rN))return Ie(16599,{Vt:e.type});n={verify:Wm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(c,d){const p=d.transform;if(p instanceof Ch)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof hc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof dc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ie(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:vN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ie(27497)}(s,e.precondition)),n}function bN(s,e){return s&&s.length>0?(Ze(e!==void 0,14353),s.map(n=>function(o,c){let d=o.updateTime?Vs(o.updateTime):Vs(c);return d.isEqual(Oe.min())&&(d=Vs(c)),new sN(d,o.transformResults||[])}(n,e))):[]}function TN(s,e){return{documents:[Qb(s,e.path)]}}function SN(s,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=Qb(s,o);const c=function(y){if(y.length!==0)return Yb(ps.create(y,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(A=>function(S){return{field:mo(S.field),direction:xN(S.dir)}}(A))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Xm(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:n,parent:o}}function wN(s){let e=AN(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ze(a===1,65062);const A=n.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];n.where&&(c=function(b){const S=Jb(b);return S instanceof ps&&Tb(S)?S.getFilters():[S]}(n.where));let d=[];n.orderBy&&(d=function(b){return b.map(S=>function(L){return new wh(po(L.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(S))}(n.orderBy));let p=null;n.limit&&(p=function(b){let S;return S=typeof b=="object"?b.value:b,Kh(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(b){const S=!!b.before,N=b.values||[];return new Sh(N,S)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const S=!b.before,N=b.values||[];return new Sh(N,S)}(n.endAt)),HR(e,o,d,c,p,"F",g,y)}function CN(s,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Jb(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=po(n.unaryFilter.field);return kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=po(n.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=po(n.unaryFilter.field);return kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(s):s.fieldFilter!==void 0?function(n){return kt.create(po(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return ps.create(n.compositeFilter.filters.map(a=>Jb(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(n.compositeFilter.op))}(s):Ie(30097,{filter:s})}function xN(s){return mN[s]}function RN(s){return pN[s]}function NN(s){return gN[s]}function mo(s){return{fieldPath:s.canonicalString()}}function po(s){return an.fromServerFormat(s.fieldPath)}function Yb(s){return s instanceof kt?function(n){if(n.op==="=="){if(p_(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(m_(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p_(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(m_(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:RN(n.op),value:n.value}}}(s):s instanceof ps?function(n){const a=n.getFilters().map(o=>Yb(o));return a.length===1?a[0]:{compositeFilter:{op:NN(n.op),filters:a}}}(s):Ie(54877,{filter:s})}function IN(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Xb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,a,o,c=Oe.min(),d=Oe.min(),p=on.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.yt=e}}function DN(s){const e=wN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.Cn=new PN}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(ya.min())}updateCollectionGroup(e,n,a){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class PN{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new qt(lt.comparator),c=!o.has(a);return this.index[n]=o.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new qt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zb=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(Zb,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LruGarbageCollector",kN=1048576;function j_([s,e],[n,a]){const o=qe(s,n);return o===0?qe(e,a):o}class MN{constructor(e){this.Ir=e,this.buffer=new qt(j_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();j_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VN{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(I_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?ve(I_,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Vr(3e5)})}}class LN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Qh.ce);const a=new MN(n);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(N_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,c,d,p,g,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(a=b,p=Date.now(),this.removeTargets(e,a,n))).next(b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(y=Date.now(),ho()<=Fe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-A}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function UN(s,e){return new LN(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.changes=new _r(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?re.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&sc(a.mutation,o,Un.empty(),dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,He()).next(()=>a))}getLocalViewOfDocuments(e,n,a=He()){const o=hr();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(c=>{let d=Xl();return c.forEach((p,g)=>{d=d.insert(p,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=hr();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,He()))}populateOverlays(e,n,a){const o=[];return a.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,p)=>{n.set(d,p)})})}computeViews(e,n,a,o){let c=Ai();const d=nc(),p=function(){return nc()}();return n.forEach((g,y)=>{const A=a.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof wa)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),sc(A.mutation,y,A.mutation.getFieldMask(),dt.now())):d.set(y.key,Un.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,A)=>d.set(y,A)),n.forEach((y,A)=>p.set(y,new zN(A,d.get(y)??null))),p))}recalculateAndSaveOverlays(e,n){const a=nc();let o=new At((d,p)=>d-p),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const p of d)p.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let A=a.get(g)||Un.empty();A=p.applyToLocalView(y,A),a.set(g,A);const b=(o.get(p.batchId)||He()).add(g);o=o.insert(p.batchId,b)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,A=g.value,b=Db();A.forEach(S=>{if(!c.has(S)){const N=Ub(n.get(S),a.get(S));N!==null&&b.set(S,N),c=c.add(S)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return re.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(d){return we.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-c.size):re.resolve(hr());let p=oc,g=c;return d.next(y=>re.forEach(y,(A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?re.resolve():this.remoteDocumentCache.getEntry(e,A).next(S=>{g=g.insert(A,S)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,He())).next(A=>({batchId:p,changes:jb(A)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(a=>{let o=Xl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const c=n.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,c).next(p=>re.forEach(p,g=>{const y=function(b,S){return new Ec(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(A=>{A.forEach((b,S)=>{d=d.insert(b,S)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,o))).next(d=>{c.forEach((g,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,mn.newInvalidDocument(A)))});let p=Xl();return d.forEach((g,y)=>{const A=c.get(g);A!==void 0&&sc(A.mutation,y,Un.empty(),dt.now()),Xh(n,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Vs(o.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:DN(o.bundledQuery),readTime:Vs(o.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.overlays=new At(we.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const a=hr();return re.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&a.set(o,c)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,c)=>{this.St(e,n,c)}),re.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(a)),re.resolve()}getOverlaysForCollection(e,n,a){const o=hr(),c=n.length+1,d=new we(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>a&&o.set(g.getKey(),g)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let c=new At((y,A)=>y-A);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=hr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=hr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,A)=>p.set(y,A)),!(p.size()>=o)););return re.resolve(p)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new lN(n,a));let c=this.qr.get(n);c===void 0&&(c=He(),this.qr.set(n,c)),this.qr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.Qr=new qt(Zt.$r),this.Ur=new qt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Zt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach(a=>this.removeReference(a,n))}jr(e){const n=new we(new lt([])),a=new Zt(n,e),o=new Zt(n,e+1),c=[];return this.Ur.forEachInRange([a,o],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new lt([])),a=new Zt(n,e),o=new Zt(n,e+1);let c=He();return this.Ur.forEachInRange([a,o],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new Zt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Zt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oN(c,n,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return re.resolve(d)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?wp:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Zt(n,0),o=new Zt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],d=>{const p=this.Xr(d.Yr);c.push(p)}),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new qt(qe);return n.forEach(o=>{const c=new Zt(o,0),d=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],p=>{a=a.add(p.Yr)})}),re.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let c=a;we.isDocumentKey(c)||(c=c.child(""));const d=new Zt(new we(c),0);let p=new qt(qe);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)},d),re.resolve(this.ti(p))}ti(e){const n=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ze(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return re.forEach(n.mutations,o=>{const c=new Zt(o.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,n){const a=new Zt(n,0),o=this.Zr.firstAfterOrEqual(a);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.ri=e,this.docs=function(){return new At(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return re.resolve(a?a.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let a=Ai();return n.forEach(o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))}),re.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let c=Ai();const d=n.path,p=new we(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:A}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||bR(ER(A),a)<=0||(o.has(A.key)||Xh(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,n,a,o){Ie(9500)}ii(e,n){return re.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new JN(this)}getSize(e){return re.resolve(this.size)}}class JN extends BN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.persistence=e,this.si=new _r(n=>Rp(n),Np),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new kp,this.targetCount=0,this.ai=xo.ur()}forEachTarget(e,n){return this.si.forEach((a,o)=>n(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,a){let o=0;const c=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),re.waitFor(c).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return re.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),re.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),re.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return re.resolve(a)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qh(0),this.li=!1,this.li=!0,this.hi=new GN,this.referenceDelegate=e(this),this.Pi=new YN(this),this.indexManager=new ON,this.remoteDocumentCache=function(o){return new KN(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new jN(n),this.Ii=new qN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new QN(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ve("MemoryPersistence","Starting transaction:",e);const o=new XN(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,n){return re.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,n)))}}class XN extends SR{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Ri=new kp,this.Vi=null}static mi(e){return new Mp(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),re.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>a.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,a=>{const o=we.fromPath(a);return this.gi(e,o).next(c=>{c||n.removeEntry(o,Oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new _r(a=>xR(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=UN(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}wr(e){let n=0;return this.pr(e,a=>{n++}).next(()=>n)}pr(e,n){return re.forEach(this.pi,(a,o)=>this.br(e,a,o).next(c=>c?re.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,n).next(p=>{p||(a++,c.removeEntry(d,Oe.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),re.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,a){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return re.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=He(),o=He();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Vp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return GC()?8:wR(pn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const c={result:null};return this.ys(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(e,n,o,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new ZN;return this.Ss(e,n,d).next(p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)})}).next(()=>c.result)}bs(e,n,a,o){return a.documentReadCount<this.fs?(ho()<=Fe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(ho()<=Fe.DEBUG&&ve("QueryEngine","Query:",fo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ho()<=Fe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(n))):re.resolve())}ys(e,n){if(A_(n))return re.resolve(null);let a=Ms(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Ym(n,null,"F"),a=Ms(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const d=He(...c);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,Ym(n,null,"F")):this.vs(e,y,n,g)}))})))}ws(e,n,a,o){return A_(n)||o.isEqual(Oe.min())?re.resolve(null):this.ps.getDocuments(e,a).next(c=>{const d=this.Ds(n,c);return this.Cs(n,d,a,o)?re.resolve(null):(ho()<=Fe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.vs(e,d,n,_R(o,oc)).next(p=>p))})}Ds(e,n){let a=new qt(Nb(e));return n.forEach((o,c)=>{Xh(e,c)&&(a=a.add(c))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,a){return ho()<=Fe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ps.getDocumentsMatchingQuery(e,n,ya.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",$N=3e8;class eI{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new At(qe),this.xs=new _r(c=>Rp(c),Np),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function tI(s,e,n,a){return new eI(s,e,n,a)}async function $b(s,e){const n=ke(s);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],p=[];let g=He();for(const y of o){d.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}return n.localDocuments.getDocuments(a,g).next(y=>({Ls:y,removedBatchIds:d,addedBatchIds:p}))})})}function nI(s,e){const n=ke(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,g,y,A){const b=y.batch,S=b.keys();let N=re.resolve();return S.forEach(L=>{N=N.next(()=>A.getEntry(g,L)).next(U=>{const V=y.docVersions.get(L);Ze(V!==null,48541),U.version.compareTo(V)<0&&(b.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),A.addEntry(U)))})}),N.next(()=>p.mutationQueue.removeMutationBatch(g,b))}(n,a,e,c).next(()=>c.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let g=He();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function eT(s){const e=ke(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function sI(s,e){const n=ke(s),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach((A,b)=>{const S=o.get(b);if(!S)return;p.push(n.Pi.removeMatchingKeys(c,A.removedDocuments,b).next(()=>n.Pi.addMatchingKeys(c,A.addedDocuments,b)));let N=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(on.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):A.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(A.resumeToken,a)),o=o.insert(b,N),function(U,V,H){return U.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=$N?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(S,N,A)&&p.push(n.Pi.updateTargetData(c,N))});let g=Ai(),y=He();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),p.push(iI(c,d,e.documentUpdates).next(A=>{g=A.ks,y=A.qs})),!a.isEqual(Oe.min())){const A=n.Pi.getLastRemoteSnapshotVersion(c).next(b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a));p.push(A)}return re.waitFor(p).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(n.Ms=o,c))}function iI(s,e,n){let a=He(),o=He();return n.forEach(c=>a=a.add(c)),e.getEntries(s,a).next(c=>{let d=Ai();return n.forEach((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Oe.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ve(Lp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{ks:d,qs:o}})}function aI(s,e){const n=ke(s);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function rI(s,e){const n=ke(s);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Pi.getTargetData(a,e).next(c=>c?(o=c,re.resolve(o)):n.Pi.allocateTargetId(a).next(d=>(o=new ca(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a})}async function ep(s,e,n){const a=ke(s),o=a.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Mo(d))throw d;ve(Lp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function D_(s,e,n){const a=ke(s);let o=Oe.min(),c=He();return a.persistence.runTransaction("Execute query","readwrite",d=>function(g,y,A){const b=ke(g),S=b.xs.get(A);return S!==void 0?re.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,A)}(a,d,Ms(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next(g=>{c=g})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,e,n?o:Oe.min(),n?c:He())).next(p=>(oI(a,QR(e),p),{documents:p,Qs:c})))}function oI(s,e,n){let a=s.Os.get(e)||Oe.min();n.forEach((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),s.Os.set(e,a)}class O_{constructor(){this.activeTargetIds=WR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lI{constructor(){this.Mo=new O_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new O_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="ConnectivityMonitor";class k_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(P_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(P_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function tp(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",uI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===bh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,c){const d=tp(),p=this.zo(e,n.toUriEncodedString());ve(Cm,`Sending RPC '${e}' ${d}:`,p,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),A=vr(y);return this.Jo(e,p,g,a,A).then(b=>(ve(Cm,`Received RPC '${e}' ${d}: `,b),b),b=>{throw To(Cm,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",a),b})}Ho(e,n,a,o,c,d){return this.Go(e,n,a,o,c)}jo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),a&&a.headers.forEach((o,c)=>e[c]=o)}zo(e,n){const a=uI[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class fI extends hI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,c){const d=tp();return new Promise((p,g)=>{const y=new nb;y.setWithCredentials(!0),y.listenOnce(sb.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case oh.NO_ERROR:const b=y.getResponseJson();ve(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case oh.TIMEOUT:ve(dn,`RPC '${e}' ${d} timed out`),g(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const S=y.getStatus();if(ve(dn,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N==null?void 0:N.error;if(L&&L.status&&L.message){const U=function(H){const Z=H.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Z)>=0?Z:se.UNKNOWN}(L.status);g(new pe(U,L.message))}else g(new pe(se.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new pe(se.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ve(dn,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);ve(dn,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",A,a,15)})}T_(e,n,a){const o=tp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=rb(),p=ab(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const A=c.join("");ve(dn,`Creating RPC '${e}' stream ${o}: ${A}`,g);const b=d.createWebChannel(A,g);this.I_(b);let S=!1,N=!1;const L=new dI({Yo:V=>{N?ve(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(S||(ve(dn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),ve(dn,`RPC '${e}' stream ${o} sending:`,V),b.send(V))},Zo:()=>b.close()}),U=(V,H,Z)=>{V.listen(H,q=>{try{Z(q)}catch(W){setTimeout(()=>{throw W},0)}})};return U(b,Yl.EventType.OPEN,()=>{N||(ve(dn,`RPC '${e}' stream ${o} transport opened.`),L.o_())}),U(b,Yl.EventType.CLOSE,()=>{N||(N=!0,ve(dn,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(b))}),U(b,Yl.EventType.ERROR,V=>{N||(N=!0,To(dn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),L.a_(new pe(se.UNAVAILABLE,"The operation could not be completed")))}),U(b,Yl.EventType.MESSAGE,V=>{var H;if(!N){const Z=V.data[0];Ze(!!Z,16349);const q=Z,W=(q==null?void 0:q.error)||((H=q[0])==null?void 0:H.error);if(W){ve(dn,`RPC '${e}' stream ${o} received error:`,W);const ee=W.status;let he=function(R){const D=Pt[R];if(D!==void 0)return zb(D)}(ee),x=W.message;he===void 0&&(he=se.INTERNAL,x="Unknown error status: "+ee+" with message "+W.message),N=!0,L.a_(new pe(he,x)),b.close()}else ve(dn,`RPC '${e}' stream ${o} received:`,Z),L.u_(Z)}}),U(p,ib.STAT_EVENT,V=>{V.stat===Fm.PROXY?ve(dn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Fm.NOPROXY&&ve(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.__()},0),L}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(s){return new yN(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class nT{constructor(e,n,a,o,c,d,p,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===n&&this.G_(a,o)},a=>{e(()=>{const o=new pe(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ve(M_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ve(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mI extends nT{constructor(e,n,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_N(this.serializer,e),a=function(c){if(!("targetChange"in c))return Oe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Oe.min():d.readTime?Vs(d.readTime):Oe.min()}(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=function(c,d){let p;const g=d.target;if(p=Km(g)?{documents:TN(c,g)}:{query:SN(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Hb(c,d.resumeToken);const y=Xm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Oe.min())>0){p.readTime=xh(c,d.snapshotVersion.toTimestamp());const y=Xm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const a=CN(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class pI extends nT{constructor(e,n,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bN(e.writeResults,e.commitTime),a=Vs(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>EN(this.serializer,a))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{}class yI extends gI{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(e,Zm(n,a),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(se.UNKNOWN,c.toString())})}Ho(e,n,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,Zm(n,a),o,d,p,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(se.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="RemoteStore";class AI{constructor(e,n,a,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{Er(this)&&(ve(gr,"Restarting streams for network reachability change."),await async function(g){const y=ke(g);y.Ea.add(4),await Sc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await nd(y)}(this))})}),this.Ra=new vI(a,o)}}async function nd(s){if(Er(s))for(const e of s.da)await e(!0)}async function Sc(s){for(const e of s.da)await e(!1)}function sT(s,e){const n=ke(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fp(n)?zp(n):Vo(n).O_()&&Bp(n,e))}function Up(s,e){const n=ke(s),a=Vo(n);n.Ia.delete(e),a.O_()&&iT(n,e),n.Ia.size===0&&(a.O_()?a.L_():Er(n)&&n.Ra.set("Unknown"))}function Bp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(s).Y_(e)}function iT(s,e){s.Va.Ue(e),Vo(s).Z_(e)}function zp(s){s.Va=new fN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Vo(s).start(),s.Ra.ua()}function Fp(s){return Er(s)&&!Vo(s).x_()&&s.Ia.size>0}function Er(s){return ke(s).Ea.size===0}function aT(s){s.Va=void 0}async function _I(s){s.Ra.set("Online")}async function EI(s){s.Ia.forEach((e,n)=>{Bp(s,e)})}async function bI(s,e){aT(s),Fp(s)?(s.Ra.ha(e),zp(s)):s.Ra.set("Unknown")}async function TI(s,e,n){if(s.Ra.set("Online"),e instanceof qb&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))}(s,e)}catch(a){ve(gr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Nh(s,a)}else if(e instanceof hh?s.Va.Ze(e):e instanceof Fb?s.Va.st(e):s.Va.tt(e),!n.isEqual(Oe.min()))try{const a=await eT(s.localStore);n.compareTo(a)>=0&&await function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(g.resumeToken,d))}}),p.targetMismatches.forEach((g,y)=>{const A=c.Ia.get(g);if(!A)return;c.Ia.set(g,A.withResumeToken(on.EMPTY_BYTE_STRING,A.snapshotVersion)),iT(c,g);const b=new ca(A.target,g,y,A.sequenceNumber);Bp(c,b)}),c.remoteSyncer.applyRemoteEvent(p)}(s,n)}catch(a){ve(gr,"Failed to raise snapshot:",a),await Nh(s,a)}}async function Nh(s,e,n){if(!Mo(e))throw e;s.Ea.add(1),await Sc(s),s.Ra.set("Offline"),n||(n=()=>eT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ve(gr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await nd(s)})}function rT(s,e){return e().catch(n=>Nh(s,n,e))}async function sd(s){const e=ke(s),n=Ea(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wp;for(;SI(e);)try{const o=await aI(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,wI(e,o)}catch(o){await Nh(e,o)}oT(e)&&lT(e)}function SI(s){return Er(s)&&s.Ta.length<10}function wI(s,e){s.Ta.push(e);const n=Ea(s);n.O_()&&n.X_&&n.ea(e.mutations)}function oT(s){return Er(s)&&!Ea(s).x_()&&s.Ta.length>0}function lT(s){Ea(s).start()}async function CI(s){Ea(s).ra()}async function xI(s){const e=Ea(s);for(const n of s.Ta)e.ea(n.mutations)}async function RI(s,e,n){const a=s.Ta.shift(),o=Dp.from(a,e,n);await rT(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await sd(s)}async function NI(s,e){e&&Ea(s).X_&&await async function(a,o){if(function(d){return uN(d)&&d!==se.ABORTED}(o.code)){const c=a.Ta.shift();Ea(a).B_(),await rT(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o)),await sd(a)}}(s,e),oT(s)&&lT(s)}async function V_(s,e){const n=ke(s);n.asyncQueue.verifyOperationInProgress(),ve(gr,"RemoteStore received new credentials");const a=Er(n);n.Ea.add(3),await Sc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nd(n)}async function II(s,e){const n=ke(s);e?(n.Ea.delete(2),await nd(n)):e||(n.Ea.add(2),await Sc(n),n.Ra.set("Unknown"))}function Vo(s){return s.ma||(s.ma=function(n,a,o){const c=ke(n);return c.sa(),new mI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Xo:_I.bind(null,s),t_:EI.bind(null,s),r_:bI.bind(null,s),H_:TI.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),Fp(s)?zp(s):s.Ra.set("Unknown")):(await s.ma.stop(),aT(s))})),s.ma}function Ea(s){return s.fa||(s.fa=function(n,a,o){const c=ke(n);return c.sa(),new pI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:CI.bind(null,s),r_:NI.bind(null,s),ta:xI.bind(null,s),na:RI.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await sd(s)):(await s.fa.stop(),s.Ta.length>0&&(ve(gr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,a,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,c){const d=Date.now()+a,p=new qp(e,n,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(s,e){if(vi("AsyncQueue",`${e}: ${s}`),Mo(s))return new pe(se.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||we.comparator(n.key,a.key):(n,a)=>we.comparator(n.key,a.key),this.keyedMap=Xl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new vo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.ga=new At(we.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,a)=>{e.push(a)}),e}}class Ro{constructor(e,n,a,o,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,c){const d=[];return n.forEach(p=>{d.push({type:0,doc:p})}),new Ro(e,n,vo.emptySet(n),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class DI{constructor(){this.queries=U_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=ke(n),c=o.queries;o.queries=U_(),c.forEach((d,p)=>{for(const g of p.Sa)g.onError(a)})})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function U_(){return new _r(s=>Rb(s),Yh)}async function cT(s,e){const n=ke(s);let a=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new jI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Hp(d,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Gp(n)}async function uT(s,e){const n=ke(s),a=e.query;let o=3;const c=n.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function OI(s,e){const n=ke(s);let a=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&Gp(n)}function PI(s,e,n){const a=ke(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);a.queries.delete(e)}function Gp(s){s.Ca.forEach(e=>{e.next()})}var np,B_;(B_=np||(np={})).Ma="default",B_.Cache="cache";class hT{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ro(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.key=e}}class fT{constructor(e){this.key=e}}class kI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=Nb(e),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new L_,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,b)=>{const S=o.get(A),N=Xh(this.query,b)?b:null,L=!!S&&this.mutatedKeys.has(S.key),U=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let V=!1;S&&N?S.data.isEqual(N.data)?L!==U&&(a.track({type:3,doc:N}),V=!0):this.su(S,N)||(a.track({type:2,doc:N}),V=!0,(g&&this.eu(N,g)>0||y&&this.eu(N,y)<0)&&(p=!0)):!S&&N?(a.track({type:0,doc:N}),V=!0):S&&!N&&(a.track({type:1,doc:S}),V=!0,(g||y)&&(p=!0)),V&&(N?(d=d.add(N),c=U?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((A,b)=>function(N,L){const U=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:V})}};return U(N)-U(L)}(A.type,b.type)||this.eu(A.doc,b.doc)),this.ou(a),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Ro(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const n=[];return e.forEach(a=>{this.Xa.has(a)||n.push(new fT(a))}),this.Xa.forEach(a=>{e.has(a)||n.push(new dT(a))}),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qp="SyncEngine";class MI{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class VI{constructor(e){this.key=e,this.hu=!1}}class LI{constructor(e,n,a,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new _r(p=>Rb(p),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new At(we.comparator),this.Au=new Map,this.Ru=new kp,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UI(s,e,n=!0){const a=AT(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await mT(a,e,n,!0),o}async function BI(s,e){const n=AT(s);await mT(n,e,!0,!1)}async function mT(s,e,n,a){const o=await rI(s.localStore,Ms(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return a&&(p=await zI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&n&&sT(s.remoteStore,o),p}async function zI(s,e,n,a,o){s.pu=(b,S,N)=>async function(U,V,H,Z){let q=V.view.ru(H);q.Cs&&(q=await D_(U.localStore,V.query,!1).then(({documents:x})=>V.view.ru(x,q)));const W=Z&&Z.targetChanges.get(V.targetId),ee=Z&&Z.targetMismatches.get(V.targetId)!=null,he=V.view.applyChanges(q,U.isPrimaryClient,W,ee);return F_(U,V.targetId,he.au),he.snapshot}(s,b,S,N);const c=await D_(s.localStore,e,!0),d=new kI(e,c.Qs),p=d.ru(c.documents),g=Tc.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",o),y=d.applyChanges(p,s.isPrimaryClient,g);F_(s,n,y.au);const A=new MI(e,n,d);return s.Tu.set(e,A),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function FI(s,e,n){const a=ke(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter(d=>!Yh(d,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await ep(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Up(a.remoteStore,o.targetId),sp(a,o.targetId)}).catch(ko)):(sp(a,o.targetId),await ep(a.localStore,o.targetId,!0))}async function qI(s,e){const n=ke(s),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Up(n.remoteStore,a.targetId))}async function HI(s,e,n){const a=ZI(s);try{const o=await function(d,p){const g=ke(d),y=dt.now(),A=p.reduce((N,L)=>N.add(L.key),He());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",N=>{let L=Ai(),U=He();return g.Ns.getEntries(N,A).next(V=>{L=V,L.forEach((H,Z)=>{Z.isValidDocument()||(U=U.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(N,L)).next(V=>{b=V;const H=[];for(const Z of p){const q=aN(Z,b.get(Z.key).overlayedDocument);q!=null&&H.push(new wa(Z.key,q,_b(q.value.mapValue),bn.exists(!0)))}return g.mutationQueue.addMutationBatch(N,y,H,p)}).next(V=>{S=V;const H=V.applyToLocalDocumentSet(b,U);return g.documentOverlayCache.saveOverlays(N,V.batchId,H)})}).then(()=>({batchId:S.batchId,changes:jb(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new At(qe)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y}(a,o.batchId,n),await wc(a,o.changes),await sd(a.remoteStore)}catch(o){const c=Hp(o,"Failed to persist write");n.reject(c)}}async function pT(s,e){const n=ke(s);try{const a=await sI(n.localStore,e);e.targetChanges.forEach((o,c)=>{const d=n.Au.get(c);d&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ze(d.hu,14607):o.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))}),await wc(n,a,e)}catch(a){await ko(a)}}function z_(s,e,n){const a=ke(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const g=ke(d);g.onlineState=p;let y=!1;g.queries.forEach((A,b)=>{for(const S of b.Sa)S.va(p)&&(y=!0)}),y&&Gp(g)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function GI(s,e,n){const a=ke(s);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new At(we.comparator);d=d.insert(c,mn.newNoDocument(c,Oe.min()));const p=He().add(c),g=new ed(Oe.min(),new Map,new At(qe),d,p);await pT(a,g),a.du=a.du.remove(c),a.Au.delete(e),Kp(a)}else await ep(a.localStore,e,!1).then(()=>sp(a,e,n)).catch(ko)}async function QI(s,e){const n=ke(s),a=e.batch.batchId;try{const o=await nI(n.localStore,e);yT(n,a,null),gT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await wc(n,o)}catch(o){await ko(o)}}async function KI(s,e,n){const a=ke(s);try{const o=await function(d,p){const g=ke(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let A;return g.mutationQueue.lookupMutationBatch(y,p).next(b=>(Ze(b!==null,37113),A=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,A,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A)).next(()=>g.localDocuments.getDocuments(y,A))})}(a.localStore,e);yT(a,e,n),gT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await wc(a,o)}catch(o){await ko(o)}}function gT(s,e){(s.mu.get(e)||[]).forEach(n=>{n.resolve()}),s.mu.delete(e)}function yT(s,e,n){const a=ke(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function sp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(a=>{s.Ru.containsKey(a)||vT(s,a)})}function vT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Up(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Kp(s))}function F_(s,e,n){for(const a of n)a instanceof dT?(s.Ru.addReference(a.key,e),JI(s,a)):a instanceof fT?(ve(Qp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||vT(s,a.key)):Ie(19791,{wu:a})}function JI(s,e){const n=e.key,a=n.path.canonicalString();s.du.get(n)||s.Eu.has(a)||(ve(Qp,"New document in limbo: "+n),s.Eu.add(a),Kp(s))}function Kp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new we(lt.fromString(e)),a=s.fu.next();s.Au.set(a,new VI(n)),s.du=s.du.insert(n,a),sT(s.remoteStore,new ca(Ms(Ip(n.path)),a,"TargetPurposeLimboResolution",Qh.ce))}}async function wc(s,e,n){const a=ke(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((p,g)=>{d.push(a.pu(g,e,n).then(y=>{var A;if((y||n)&&a.isPrimaryClient){const b=y?!y.fromCache:(A=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:A.current;a.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Vp.As(g.targetId,y);c.push(b)}}))}),await Promise.all(d),a.Pu.H_(o),await async function(g,y){const A=ke(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>re.forEach(y,S=>re.forEach(S.Es,N=>A.persistence.referenceDelegate.addReference(b,S.targetId,N)).next(()=>re.forEach(S.ds,N=>A.persistence.referenceDelegate.removeReference(b,S.targetId,N)))))}catch(b){if(!Mo(b))throw b;ve(Lp,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const N=A.Ms.get(S),L=N.snapshotVersion,U=N.withLastLimboFreeSnapshotVersion(L);A.Ms=A.Ms.insert(S,U)}}}(a.localStore,c))}async function YI(s,e){const n=ke(s);if(!n.currentUser.isEqual(e)){ve(Qp,"User change. New user:",e.toKey());const a=await $b(n.localStore,e);n.currentUser=e,function(c,d){c.mu.forEach(p=>{p.forEach(g=>{g.reject(new pe(se.CANCELLED,d))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await wc(n,a.Ls)}}function XI(s,e){const n=ke(s),a=n.Au.get(e);if(a&&a.hu)return He().add(a.key);{let o=He();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function AT(s){const e=ke(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=pT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GI.bind(null,e),e.Pu.H_=OI.bind(null,e.eventManager),e.Pu.yu=PI.bind(null,e.eventManager),e}function ZI(s){const e=ke(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KI.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=td(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tI(this.persistence,new WN,e.initialUser,this.serializer)}Cu(e){return new Wb(Mp.mi,this.serializer)}Du(e){return new lI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class WI extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ze(this.persistence.referenceDelegate instanceof Rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new VN(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new Wb(a=>Rh.mi(a,n),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>z_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=YI.bind(null,this.syncEngine),await II(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DI}()}createDatastore(e){const n=td(e.databaseInfo.databaseId),a=function(c){return new fI(c)}(e.databaseInfo);return function(c,d,p,g){return new yI(c,d,p,g)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,c,d,p){return new AI(a,o,c,d,p)}(this.localStore,this.datastore,e.asyncQueue,n=>z_(this.syncEngine,n,0),function(){return k_.v()?new k_:new cI}())}createSyncEngine(e,n){return function(o,c,d,p,g,y,A){const b=new LI(o,c,d,p,g,y);return A&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const c=ke(o);ve(gr,"RemoteStore shutting down."),c.Ea.add(5),await Sc(c),c.Aa.shutdown(),c.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class $I{constructor(e,n,a,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=Sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{ve(ba,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(ve(ba,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Hp(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Rm(s,e){s.asyncQueue.verifyOperationInProgress(),ve(ba,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await $b(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function q_(s,e){s.asyncQueue.verifyOperationInProgress();const n=await e1(s);ve(ba,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(a=>V_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>V_(e.remoteStore,o)),s._onlineComponents=e}async function e1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ve(ba,"Using user provided OfflineComponentProvider");try{await Rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Rm(s,new Ih)}}else ve(ba,"Using default OfflineComponentProvider"),await Rm(s,new WI(void 0));return s._offlineComponents}async function ET(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ve(ba,"Using user provided OnlineComponentProvider"),await q_(s,s._uninitializedComponentsProvider._online)):(ve(ba,"Using default OnlineComponentProvider"),await q_(s,new ip))),s._onlineComponents}function t1(s){return ET(s).then(e=>e.syncEngine)}async function bT(s){const e=await ET(s),n=e.eventManager;return n.onListen=UI.bind(null,e.syncEngine),n.onUnlisten=FI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qI.bind(null,e.syncEngine),n}function n1(s,e,n={}){const a=new pi;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,p,g,y){const A=new _T({next:S=>{A.Nu(),d.enqueueAndForget(()=>uT(c,b));const N=S.docs.has(p);!N&&S.fromCache?y.reject(new pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&g&&g.source==="server"?y.reject(new pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new hT(Ip(p.path),A,{includeMetadataChanges:!0,qa:!0});return cT(c,b)}(await bT(s),s.asyncQueue,e,n,a)),a.promise}function s1(s,e,n={}){const a=new pi;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,p,g,y){const A=new _T({next:S=>{A.Nu(),d.enqueueAndForget(()=>uT(c,b)),S.fromCache&&g.source==="server"?y.reject(new pe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new hT(p,A,{includeMetadataChanges:!0,qa:!0});return cT(c,b)}(await bT(s),s.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firestore.googleapis.com",G_=!0;class Q_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ST,this.ssl=G_}else this.host=e.host,this.ssl=e.ssl??G_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kN)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TT(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class id{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new cR;switch(a.type){case"firstParty":return new fR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=H_.get(n);a&&(ve("ComponentProvider","Removing Datastore"),H_.delete(n),a.terminate())}(this),Promise.resolve()}}function i1(s,e,n,a={}){var y;s=es(s,id);const o=vr(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(vp(`https://${p}`),Ap("Firestore",!0)),c.host!==ST&&c.host!==p&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:a};if(!fr(g,d)&&(s._setSettings(g),a.mockUserToken)){let A,b;if(typeof a.mockUserToken=="string")A=a.mockUserToken,b=fn.MOCK_USER;else{A=YE(a.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new fn(S)}s._authCredentials=new uR(new lb(A,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class It{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(_c(n,It._jsonSchema))return new It(e,a||null,new we(lt.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Mt("string",It._jsonSchemaVersion),referencePath:Mt("string")};class fa extends Lo{constructor(e,n,a){super(e,n,Ip(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new we(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function jt(s,e,...n){if(s=Vt(s),cb("collection","path",e),s instanceof id){const a=lt.fromString(e,...n);return a_(a),new fa(s,null,a)}{if(!(s instanceof It||s instanceof fa))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(lt.fromString(e,...n));return a_(a),new fa(s.firestore,null,a)}}function ct(s,e,...n){if(s=Vt(s),arguments.length===1&&(e=Sp.newId()),cb("doc","path",e),s instanceof id){const a=lt.fromString(e,...n);return i_(a),new It(s,null,new we(a))}{if(!(s instanceof It||s instanceof fa))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(lt.fromString(e,...n));return i_(a),new It(s.firestore,s instanceof fa?s.converter:null,new we(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="AsyncQueue";class J_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tT(this,"async_queue_retry"),this._c=()=>{const a=xm();a&&ve(K_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new pi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;ve(K_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",Y_(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=qp.createAndSchedule(this,e,n,a,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:Y_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Y_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ca extends id{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new J_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J_(e),this._firestoreClient=void 0,await e}}}function a1(s,e){const n=typeof s=="object"?s:bp(),a=typeof s=="string"?s:bh,o=Hh(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=QE("firestore");c&&i1(o,...c)}return o}function ad(s){if(s._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||r1(s),s._firestoreClient}function r1(s){var a,o,c;const e=s._freezeSettings(),n=function(p,g,y,A){return new IR(p,g,y,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,TT(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((a=s._app)==null?void 0:a.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new $I(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(on.fromBase64String(e))}catch(n){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_c(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Mt("string",Wn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(_c(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:Mt("string",Ls._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_c(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Us(e.vectorValues);throw new pe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:Mt("string",Us._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=/^__.*__$/;class l1{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}class wT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:s})}}class Jp{constructor(e,n,a,o,c,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CT(this.Ac)&&o1.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class c1{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||td(e)}Cc(e,n,a,o=!1){return new Jp({Ac:e,methodName:n,Dc:a,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xc(s){const e=s._freezeSettings(),n=td(s._databaseId);return new c1(s._databaseId,!!e.ignoreUndefinedProperties,n)}function Yp(s,e,n,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,n,o);Zp("Data must be an object, but it was:",d,a);const p=NT(a,d);let g,y;if(c.merge)g=new Un(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const S=ap(e,b,n);if(!d.contains(S))throw new pe(se.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);jT(A,S)||A.push(S)}g=new Un(A),y=d.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=d.fieldTransforms;return new l1(new Rn(p),g,y)}class od extends rd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof od}}class Xp extends rd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new fc(e.serializer,Pb(e.serializer,this.Fc));return new tN(e.path,n)}isEqual(e){return e instanceof Xp&&this.Fc===e.Fc}}function xT(s,e,n,a){const o=s.Cc(1,e,n);Zp("Data must be an object, but it was:",o,a);const c=[],d=Rn.empty();Sa(a,(g,y)=>{const A=Wp(e,g,n);y=Vt(y);const b=o.yc(A);if(y instanceof od)c.push(A);else{const S=Rc(y,b);S!=null&&(c.push(A),d.set(A,S))}});const p=new Un(c);return new wT(d,p,o.fieldTransforms)}function RT(s,e,n,a,o,c){const d=s.Cc(1,e,n),p=[ap(e,a,n)],g=[o];if(c.length%2!=0)throw new pe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(ap(e,c[S])),g.push(c[S+1]);const y=[],A=Rn.empty();for(let S=p.length-1;S>=0;--S)if(!jT(y,p[S])){const N=p[S];let L=g[S];L=Vt(L);const U=d.yc(N);if(L instanceof od)y.push(N);else{const V=Rc(L,U);V!=null&&(y.push(N),A.set(N,V))}}const b=new Un(y);return new wT(A,b,d.fieldTransforms)}function u1(s,e,n,a=!1){return Rc(n,s.Cc(a?4:3,e))}function Rc(s,e){if(IT(s=Vt(s)))return Zp("Unsupported field value:",e,s),NT(s,e);if(s instanceof rd)return function(a,o){if(!CT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const c=[];let d=0;for(const p of a){let g=Rc(p,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(s,e)}return function(a,o){if((a=Vt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Pb(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=dt.fromDate(a);return{timestampValue:xh(o.serializer,c)}}if(a instanceof dt){const c=new dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:xh(o.serializer,c)}}if(a instanceof Ls)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Wn)return{bytesValue:Hb(o.serializer,a._byteString)};if(a instanceof It){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Us)return function(d,p){return{mapValue:{fields:{[vb]:{stringValue:Ab},[Th]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return jp(p.serializer,y)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${Gh(a)}`)}(s,e)}function NT(s,e){const n={};return db(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(s,(a,o)=>{const c=Rc(o,e.mc(a));c!=null&&(n[a]=c)}),{mapValue:{fields:n}}}function IT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof Ls||s instanceof Wn||s instanceof It||s instanceof rd||s instanceof Us)}function Zp(s,e,n){if(!IT(n)||!ub(n)){const a=Gh(n);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function ap(s,e,n){if((e=Vt(e))instanceof Cc)return e._internalPath;if(typeof e=="string")return Wp(s,e);throw jh("Field path arguments must be of type string or ",s,!1,void 0,n)}const h1=new RegExp("[~\\*/\\[\\]]");function Wp(s,e,n){if(e.search(h1)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Cc(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function jh(s,e,n,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${o}`),g+=")"),new pe(se.INVALID_ARGUMENT,p+s+g)}function jT(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,a,o,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($p("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d1 extends DT{data(){return super.data()}}function $p(s,e){return typeof e=="string"?Wp(s,e):e instanceof Cc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class m1 extends eg{}function ma(s,e,...n){let a=[];e instanceof eg&&a.push(e),a=a.concat(n),function(c){const d=c.filter(g=>g instanceof tg).length,p=c.filter(g=>g instanceof ld).length;if(d>1||d>0&&p>0)throw new pe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)s=o._apply(s);return s}class ld extends m1{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new ld(e,n,a)}_apply(e){const n=this._parse(e);return OT(e._query,n),new Lo(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=xc(e.firestore);return function(c,d,p,g,y,A,b){let S;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new pe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Z_(b,A);const L=[];for(const U of b)L.push(X_(g,c,U));S={arrayValue:{values:L}}}else S=X_(g,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Z_(b,A),S=u1(p,d,b,A==="in"||A==="not-in");return kt.create(y,A,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ps(s,e,n){const a=e,o=$p("where",s);return ld._create(o,a,n)}class tg extends eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tg(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:ps.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,c){let d=o;const p=c.getFlattenedFilters();for(const g of p)OT(d,g),d=Jm(d,g)}(e._query,n),new Lo(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function X_(s,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new pe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xb(e)&&n.indexOf("/")!==-1)throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(lt.fromString(n));if(!we.isDocumentKey(a))throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return f_(s,new we(a))}if(n instanceof It)return f_(s,n._key);throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function Z_(s,e){if(!Array.isArray(s)||s.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OT(s,e){const n=function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class p1{convertValue(e,n="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Sa(e,(o,c)=>{a[o]=this.convertValue(c,n)}),a}convertVectorValue(e){var a,o,c;const n=(c=(o=(a=e.fields)==null?void 0:a[Th].arrayValue)==null?void 0:o.values)==null?void 0:c.map(d=>Nt(d.doubleValue));return new Us(n)}convertGeoPoint(e){return new Ls(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Jh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const n=va(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=lt.fromString(e);Ze(Xb(a),9688,{name:e});const o=new cc(a.get(1),a.get(3)),c=new we(a.popFirst(5));return o.isEqual(n)||vi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(s,e,n){let a;return a=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,a}class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dr extends DT{constructor(e,n,a,o,c,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field($p("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=dr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}dr._jsonSchemaVersion="firestore/documentSnapshot/1.0",dr._jsonSchema={type:Mt("string",dr._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class dh extends dr{data(e={}){return super.data(e)}}class Ao{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new dh(this._firestore,this._userDataWriter,a.key,a,new Wl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const g=new dh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new dh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:g1(p.type),doc:g,oldIndex:y,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function g1(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(s){s=es(s,It);const e=es(s.firestore,Ca);return n1(ad(e),s._key).then(n=>v1(e,s,n))}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Mt("string",Ao._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class PT extends p1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function rn(s){s=es(s,Lo);const e=es(s.firestore,Ca),n=ad(e),a=new PT(e);return f1(s._query),s1(n,s._query).then(o=>new Ao(e,a,s,o))}function Dh(s,e,n){s=es(s,It);const a=es(s.firestore,Ca),o=ng(s.converter,e,n);return Nc(a,[Yp(xc(a),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,bn.none())])}function ds(s,e,n,...a){s=es(s,It);const o=es(s.firestore,Ca),c=xc(o);let d;return d=typeof(e=Vt(e))=="string"||e instanceof Cc?RT(c,"updateDoc",s._key,e,n,a):xT(c,"updateDoc",s._key,e),Nc(o,[d.toMutation(s._key,bn.exists(!0))])}function y1(s){return Nc(es(s.firestore,Ca),[new $h(s._key,bn.none())])}function sg(s,e){const n=es(s.firestore,Ca),a=ct(s),o=ng(s.converter,e);return Nc(n,[Yp(xc(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,bn.exists(!1))]).then(()=>a)}function Nc(s,e){return function(a,o){const c=new pi;return a.asyncQueue.enqueueAndForget(async()=>HI(await t1(a),o,c)),c.promise}(ad(s),e)}function v1(s,e,n){const a=n.docs.get(e._key),o=new PT(s);return new dr(s,o,e._key,a,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xc(e)}set(e,n,a){this._verifyNotCommitted();const o=Nm(e,this._firestore),c=ng(o.converter,n,a),d=Yp(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,a);return this._mutations.push(d.toMutation(o._key,bn.none())),this}update(e,n,a,...o){this._verifyNotCommitted();const c=Nm(e,this._firestore);let d;return d=typeof(n=Vt(n))=="string"||n instanceof Cc?RT(this._dataReader,"WriteBatch.update",c._key,n,a,o):xT(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(d.toMutation(c._key,bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Nm(e,this._firestore);return this._mutations=this._mutations.concat(new $h(n._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nm(s,e){if((s=Vt(s)).firestore!==e)throw new pe(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function cd(s){return new Xp("increment",s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(s){return ad(s=es(s,Ca)),new A1(s,e=>Nc(s,e))}(function(e,n=!0){(function(o){Po=o})(Ar),mr(new ga("firestore",(a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Ca(new hR(a.getProvider("auth-internal")),new mR(d,a.getProvider("app-check-internal")),function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(y.options.projectId,A)}(d,o),d);return c={useFetchStreams:n,...c},p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),ks(e_,t_,e),ks(e_,t_,"esm2020")})();var E1="firebase",b1="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(E1,b1,"app");function kT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T1=kT,MT=new vc("auth","Firebase",kT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new _p("@firebase/auth");function S1(s,...e){Oh.logLevel<=Fe.WARN&&Oh.warn(`Auth (${Ar}): ${s}`,...e)}function fh(s,...e){Oh.logLevel<=Fe.ERROR&&Oh.error(`Auth (${Ar}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(s,...e){throw ig(s,...e)}function Bs(s,...e){return ig(s,...e)}function VT(s,e,n){const a={...T1(),[e]:n};return new vc("auth","Firebase",a).create(e,{appName:s.name})}function pa(s){return VT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ig(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return MT.create(s,...e)}function Ne(s,e,...n){if(!s)throw ig(e,...n)}function di(s){const e="INTERNAL ASSERTION FAILED: "+s;throw fh(e),new Error(e)}function Ei(s,e){s||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function w1(){return W_()==="http:"||W_()==="https:"}function W_(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w1()||FC()||"connection"in navigator)?navigator.onLine:!0}function x1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=UC()||qC()}get(){return C1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(s,e){Ei(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I1=new Ic(3e4,6e4);function br(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xa(s,e,n,a,o={}){return UT(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ac({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return zC()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&vr(s.emulatorConfig.host)&&(y.credentials="include"),LT.fetch()(await BT(s,s.config.apiHost,n,p),y)})}async function UT(s,e,n){s._canInitEmulator=!1;const a={...R1,...e};try{const o=new D1(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw sh(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw sh(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw sh(s,"user-disabled",d);const A=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw VT(s,A,y);gs(s,A)}}catch(o){if(o instanceof Hs)throw o;gs(s,"network-request-failed",{message:String(o)})}}async function ud(s,e,n,a,o={}){const c=await xa(s,e,n,a,o);return"mfaPendingCredential"in c&&gs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function BT(s,e,n,a){const o=`${e}${n}?${a}`,c=s,d=c.config.emulator?ag(s.config,o):`${s.config.apiScheme}://${o}`;return N1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function j1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Bs(this.auth,"network-request-failed")),I1.get())})}}function sh(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Bs(s,e,a);return o.customData._tokenResponse=n,o}function $_(s){return s!==void 0&&s.enterprise!==void 0}class O1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function P1(s,e){return xa(s,"GET","/v2/recaptchaConfig",br(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(s,e){return xa(s,"POST","/v1/accounts:delete",e)}async function Ph(s,e){return xa(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M1(s,e=!1){const n=Vt(s),a=await n.getIdToken(e),o=rg(a);Ne(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:a,authTime:ic(Im(o.auth_time)),issuedAtTime:ic(Im(o.iat)),expirationTime:ic(Im(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Im(s){return Number(s)*1e3}function rg(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=HE(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function eE(s){const e=rg(s);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Hs&&V1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function V1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(s){var b;const e=s.auth,n=await s.getIdToken(),a=await mc(s,Ph(e,{idToken:n}));Ne(a==null?void 0:a.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=(b=o.providerUserInfo)!=null&&b.length?zT(o.providerUserInfo):[],d=B1(s.providerData,c),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!(d!=null&&d.length),y=p?g:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function U1(s){const e=Vt(s);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B1(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function zT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(s,e){const n=await UT(s,{},async()=>{const a=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await BT(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:a};return s.emulatorConfig&&vr(s.emulatorConfig.host)&&(g.credentials="include"),LT.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F1(s,e){return xa(s,"POST","/v2/accounts:revokeToken",br(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=eE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:c}=await z1(e,n);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:c}=n,d=new _o;return a&&(Ne(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ne(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ne(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(s,e){Ne(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fs{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new L1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new op(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M1(this,e)}reload(){return U1(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await mc(this,k1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:N,providerData:L,stsTokenManager:U}=n;Ne(b&&U,e,"internal-error");const V=_o.fromJSON(this.name,U);Ne(typeof b=="string",e,"internal-error"),ia(a,e.name),ia(o,e.name),Ne(typeof S=="boolean",e,"internal-error"),Ne(typeof N=="boolean",e,"internal-error"),ia(c,e.name),ia(d,e.name),ia(p,e.name),ia(g,e.name),ia(y,e.name),ia(A,e.name);const H=new fs({uid:b,auth:e,email:o,emailVerified:S,displayName:a,isAnonymous:N,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:V,createdAt:y,lastLoginAt:A});return L&&Array.isArray(L)&&(H.providerData=L.map(Z=>({...Z}))),g&&(H._redirectEventId=g),H}static async _fromIdTokenResponse(e,n,a=!1){const o=new _o;o.updateFromServerResponse(n);const c=new fs({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await kh(c),c}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ne(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?zT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new _o;p.updateFromIdToken(a);const g=new fs({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;function fi(s){Ei(s instanceof Function,"Expected a class definition");let e=tE.get(s);return e?(Ei(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,tE.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FT.type="NONE";const nE=FT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(s,e,n){return`firebase:${s}:${e}:${n}`}class Eo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,c),this.fullPersistenceKey=mh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ph(this.auth,{idToken:e}).catch(()=>{});return n?fs._fromGetAccountInfoResponse(this.auth,n,e):null}return fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Eo(fi(nE),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||fi(nE);const d=mh(a,e.config.apiKey,e.name);let p=null;for(const y of n)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const S=await Ph(e,{idToken:A}).catch(()=>{});if(!S)break;b=await fs._fromGetAccountInfoResponse(e,S,A)}else b=fs._fromJSON(e,A);y!==c&&(p=b),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Eo(c,e,a):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Eo(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JT(e))return"Blackberry";if(YT(e))return"Webos";if(HT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(KT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function qT(s=pn()){return/firefox\//i.test(s)}function HT(s=pn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(s=pn()){return/crios\//i.test(s)}function QT(s=pn()){return/iemobile/i.test(s)}function KT(s=pn()){return/android/i.test(s)}function JT(s=pn()){return/blackberry/i.test(s)}function YT(s=pn()){return/webos/i.test(s)}function og(s=pn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function q1(s=pn()){var e;return og(s)&&!!((e=window.navigator)!=null&&e.standalone)}function H1(){return HC()&&document.documentMode===10}function XT(s=pn()){return og(s)||KT(s)||YT(s)||JT(s)||/windows phone/i.test(s)||QT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(s,e=[]){let n;switch(s){case"Browser":n=sE(pn());break;case"Worker":n=`${sE(pn())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ar}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(s,e={}){return xa(s,"GET","/v2/passwordPolicy",br(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=6;class J1{constructor(e){var a;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??K1,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iE(this),this.idTokenSubscription=new iE(this),this.beforeStateQueue=new G1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var a,o,c;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ph(this,{idToken:e}),a=await fs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Zn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===p)&&(g!=null&&g.user)&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(pa(this));const n=e?Vt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q1(this),n=new J1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await F1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var n;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&S1(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Uo(s){return Vt(s)}class iE{constructor(e){this.auth=e,this.observer=null,this.addObserver=WC(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X1(s){hd=s}function WT(s){return hd.loadJS(s)}function Z1(){return hd.recaptchaEnterpriseScript}function W1(){return hd.gapiScript}function $1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class ej{constructor(){this.enterprise=new tj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nj="recaptcha-enterprise",$T="NO_RECAPTCHA";class sj{constructor(e){this.type=nj,this.auth=Uo(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{P1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new O1(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,d,p){const g=window.grecaptcha;$_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d($T)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ej().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!n&&$_(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Z1();g.length!==0&&(g+=p),WT(g).then(()=>{o(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function aE(s,e,n,a=!1,o=!1){const c=new sj(s);let d;if(o)d=$T;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function rE(s,e,n,a,o){var c;if((c=s._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await aE(s,e,n,n==="getOobCode");return a(s,d)}else return a(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await aE(s,e,n,n==="getOobCode");return a(s,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(s,e){const n=Hh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(fr(c,e??{}))return o;gs(o,"already-initialized")}return n.initialize({options:e})}function aj(s,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function rj(s,e,n){const a=Uo(s);Ne(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=eS(e),{host:d,port:p}=oj(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ne(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ne(fr(y,a.config.emulator)&&fr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,vr(d)?(vp(`${c}//${d}${g}`),Ap("Auth",!0)):lj()}function eS(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function oj(s){const e=eS(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:oE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:oE(d)}}}function oE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function lj(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function cj(s,e){return xa(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(s,e){return ud(s,"POST","/v1/accounts:signInWithPassword",br(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(s,e){return ud(s,"POST","/v1/accounts:signInWithEmailLink",br(s,e))}async function dj(s,e){return ud(s,"POST","/v1/accounts:signInWithEmailLink",br(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends lg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new pc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new pc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,n,"signInWithPassword",uj);case"emailLink":return hj(e,{email:this._email,oobCode:this._password});default:gs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,a,"signUpPassword",cj);case"emailLink":return dj(e,{idToken:n,email:this._email,oobCode:this._password});default:gs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(s,e){return ud(s,"POST","/v1/accounts:signInWithIdp",br(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="http://localhost";class yr extends lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=n;if(!a||!o)return null;const d=new yr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,bo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:fj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pj(s){const e=Kl(Jl(s)).link,n=e?Kl(Jl(e)).deep_link_id:null,a=Kl(Jl(s)).deep_link_id;return(a?Kl(Jl(a)).link:null)||a||n||e||s}class cg{constructor(e){const n=Kl(Jl(e)),a=n.apiKey??null,o=n.oobCode??null,c=mj(n.mode??null);Ne(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pj(e);try{return new cg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,n){return pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=cg.parseLink(n);return Ne(a,"argument-error"),pc._fromEmailAndCode(e,a.code,a.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends tS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends jc{constructor(){super("facebook.com")}static credential(e){return yr._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yr._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ra.credential(n,a)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends jc{constructor(){super("github.com")}static credential(e){return yr._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends jc{constructor(){super("twitter.com")}static credential(e,n){return yr._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return la.credential(n,a)}catch{return null}}}la.TWITTER_SIGN_IN_METHOD="twitter.com";la.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const c=await fs._fromIdTokenResponse(e,a,o),d=lE(a);return new No({user:c,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=lE(a);return new No({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function lE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends Hs{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Mh(e,n,a,o)}}function nS(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(s,c,e,a):c})}async function gj(s,e,n=!1){const a=await mc(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return No._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(s,e,n=!1){const{auth:a}=s;if(Zn(a.app))return Promise.reject(pa(a));const o="reauthenticate";try{const c=await mc(s,nS(a,o,e,s),n);Ne(c.idToken,a,"internal-error");const d=rg(c.idToken);Ne(d,a,"internal-error");const{sub:p}=d;return Ne(s.uid===p,a,"user-mismatch"),No._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&gs(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sS(s,e,n=!1){if(Zn(s.app))return Promise.reject(pa(s));const a="signIn",o=await nS(s,a,e),c=await No._fromIdTokenResponse(s,a,o);return n||await s._updateCurrentUser(c.user),c}async function vj(s,e){return sS(Uo(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(s){const e=Uo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function iS(s,e,n){return Zn(s.app)?Promise.reject(pa(s)):vj(Vt(s),Bo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Aj(s),a})}function _j(s,e,n,a){return Vt(s).onIdTokenChanged(e,n,a)}function Ej(s,e,n){return Vt(s).beforeAuthStateChanged(e,n)}function ph(s){return Vt(s).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=1e3,Tj=10;class rS extends aS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);H1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Tj):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},bj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rS.type="LOCAL";const Sj=rS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends aS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oS.type="SESSION";const lS=oS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new dd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await wj(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=ug("",20);o.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(){return window}function xj(s){zs().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){return typeof zs().WorkerGlobalScope<"u"&&typeof zs().importScripts=="function"}async function Rj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nj(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function Ij(){return cS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firebaseLocalStorageDb",jj=1,Lh="firebaseLocalStorage",hS="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fd(s,e){return s.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function Dj(){const s=indexedDB.deleteDatabase(uS);return new Dc(s).toPromise()}function lp(){const s=indexedDB.open(uS,jj);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Lh,{keyPath:hS})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Lh)?e(a):(a.close(),await Dj(),e(await lp()))})})}async function cE(s,e,n){const a=fd(s,!0).put({[hS]:e,value:n});return new Dc(a).toPromise()}async function Oj(s,e){const n=fd(s,!1).get(e),a=await new Dc(n).toPromise();return a===void 0?null:a.value}function uE(s,e){const n=fd(s,!0).delete(e);return new Dc(n).toPromise()}const Pj=800,kj=3;class dS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>kj)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(Ij()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await Rj(),!this.activeServiceWorker)return;this.sender=new Cj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Nj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await cE(e,Vh,"1"),await uE(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>cE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>Oj(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=fd(o,!1).getAll();return new Dc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dS.type="LOCAL";const Mj=dS;new Ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(s,e){return e?fi(e):(Ne(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Lj(s){return sS(s.auth,new hg(s),s.bypassAuthState)}function Uj(s){const{auth:e,user:n}=s;return Ne(n,e,"internal-error"),yj(n,new hg(s),s.bypassAuthState)}async function Bj(s){const{auth:e,user:n}=s;return Ne(n,e,"internal-error"),gj(n,new hg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lj;case"linkViaPopup":case"linkViaRedirect":return Bj;case"reauthViaPopup":case"reauthViaRedirect":return Uj;default:gs(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Ic(2e3,1e4);class go extends fS{constructor(e,n,a,o,c){super(e,n,o,c),this.provider=a,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zj.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="pendingRedirect",gh=new Map;class qj extends fS{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const a=await Hj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hj(s,e){const n=Kj(e),a=Qj(s);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function Gj(s,e){gh.set(s._key(),e)}function Qj(s){return fi(s._redirectPersistence)}function Kj(s){return mh(Fj,s.config.apiKey,s.name)}async function Jj(s,e,n=!1){if(Zn(s.app))return Promise.reject(pa(s));const a=Uo(s),o=Vj(a,e),d=await new qj(a,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=10*60*1e3;class Xj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!mS(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(Bs(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yj&&this.cachedEventUids.clear(),this.cachedEventUids.has(hE(e))}saveEventToCache(e){this.cachedEventUids.add(hE(e)),this.lastProcessedEventTime=Date.now()}}function hE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function mS({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Zj(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mS(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(s,e={}){return xa(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eD=/^https?/;async function tD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Wj(s);for(const n of e)try{if(nD(n))return}catch{}gs(s,"unauthorized-domain")}function nD(s){const e=rp(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!eD.test(n))return!1;if($j.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new Ic(3e4,6e4);function dE(){const s=zs().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function iD(s){return new Promise((e,n)=>{var o,c,d;function a(){dE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dE(),n(Bs(s,"network-request-failed"))},timeout:sD.get()})}if((c=(o=zs().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=zs().gapi)!=null&&d.load)a();else{const p=$1("iframefcb");return zs()[p]=()=>{gapi.load?a():n(Bs(s,"network-request-failed"))},WT(`${W1()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw yh=null,e})}let yh=null;function aD(s){return yh=yh||iD(s),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new Ic(5e3,15e3),oD="__/auth/iframe",lD="emulator/auth/iframe",cD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hD(s){const e=s.config;Ne(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?ag(e,lD):`https://${s.config.authDomain}/${oD}`,a={apiKey:e.apiKey,appName:s.name,v:Ar},o=uD.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${Ac(a).slice(1)}`}async function dD(s){const e=await aD(s),n=zs().gapi;return Ne(n,s,"internal-error"),e.open({where:document.body,url:hD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cD,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bs(s,"network-request-failed"),p=zs().setTimeout(()=>{c(d)},rD.get());function g(){zs().clearTimeout(p),o(a)}a.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mD=500,pD=600,gD="_blank",yD="http://localhost";class fE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vD(s,e,n,a=mD,o=pD){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const g={...fD,width:a.toString(),height:o.toString(),top:c,left:d},y=pn().toLowerCase();n&&(p=GT(y)?gD:n),qT(y)&&(e=e||yD,g.scrollbars="yes");const A=Object.entries(g).reduce((S,[N,L])=>`${S}${N}=${L},`,"");if(q1(y)&&p!=="_self")return AD(e||"",p),new fE(null);const b=window.open(e||"",p,A);Ne(b,s,"popup-blocked");try{b.focus()}catch{}return new fE(b)}function AD(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="__/auth/handler",ED="emulator/auth/handler",bD=encodeURIComponent("fac");async function mE(s,e,n,a,o,c){Ne(s.config.authDomain,s,"auth-domain-config-required"),Ne(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:Ar,eventId:o};if(e instanceof tS){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",ZC(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(e instanceof jc){const A=e.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await s._getAppCheckToken(),y=g?`#${bD}=${encodeURIComponent(g)}`:"";return`${TD(s)}?${Ac(p).slice(1)}${y}`}function TD({config:s}){return s.emulator?ag(s,ED):`https://${s.authDomain}/${_D}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="webStorageSupport";class SD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lS,this._completeRedirectFn=Jj,this._overrideRedirectResult=Gj}async _openPopup(e,n,a,o){var d;Ei((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await mE(e,n,a,rp(),o);return vD(e,c,ug())}async _openRedirect(e,n,a,o){await this._originValidation(e);const c=await mE(e,n,a,rp(),o);return xj(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ei(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await dD(e),a=new Xj(e);return n.register("authEvent",o=>(Ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},o=>{var d;const c=(d=o==null?void 0:o[0])==null?void 0:d[jm];c!==void 0&&n(!!c),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XT()||HT()||og()}}const wD=SD;var pE="@firebase/auth",gE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RD(s){mr(new ga("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Ne(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(s)},y=new Y1(a,o,c,g);return aj(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),mr(new ga("auth-internal",e=>{const n=Uo(e.getProvider("auth").getImmediate());return(a=>new CD(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(pE,gE,xD(s)),ks(pE,gE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=5*60,ID=JE("authIdTokenMaxAge")||ND;let yE=null;const jD=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>ID)return;const o=n==null?void 0:n.token;yE!==o&&(yE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DD(s=bp()){const e=Hh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=ij(s,{popupRedirectResolver:wD,persistence:[Mj,Sj,lS]}),a=JE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=jD(c.toString());Ej(n,d,()=>d(n.currentUser)),_j(n,p=>d(p))}}const o=GE("auth");return o&&rj(n,`http://${o}`),n}function OD(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}X1({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Bs("internal-error");c.customData=o,n(c)},a.type="text/javascript",a.charset="UTF-8",OD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="firebasestorage.googleapis.com",PD="storageBucket",kD=2*60*1e3,MD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Hs{constructor(e,n,a=0){super(Dm(e),`Firebase Storage: ${n} (${Dm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qs;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qs||(qs={}));function Dm(s){return"storage/"+s}function VD(){const s="An unknown error occurred, please check the error payload for server response.";return new Gs(qs.UNKNOWN,s)}function LD(){return new Gs(qs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UD(){return new Gs(qs.CANCELED,"User canceled the upload/download.")}function BD(s){return new Gs(qs.INVALID_URL,"Invalid URL '"+s+"'.")}function zD(s){return new Gs(qs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function vE(s){return new Gs(qs.INVALID_ARGUMENT,s)}function gS(){return new Gs(qs.APP_DELETED,"The Firebase app was deleted.")}function FD(s){return new Gs(qs.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=ms.makeFromUrl(e,n)}catch{return new ms(e,"")}if(a.path==="")return a;throw zD(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function c(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(W){W.path_=decodeURIComponent(W.path)}const A="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${b}/${A}/b/${o}/o${S}`,"i"),L={bucket:1,path:3},U=n===pS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",H=new RegExp(`^https?://${U}/${o}/${V}`,"i"),q=[{regex:p,indices:g,postModify:c},{regex:N,indices:L,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let W=0;W<q.length;W++){const ee=q[W],he=ee.regex.exec(e);if(he){const x=he[ee.indices.bucket];let T=he[ee.indices.path];T||(T=""),a=new ms(x,T),ee.postModify(a);break}}if(a==null)throw BD(e);return a}}class qD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(s,e,n){let a=1,o=null,c=null,d=!1,p=0;function g(){return p===2}let y=!1;function A(...V){y||(y=!0,e.apply(null,V))}function b(V){o=setTimeout(()=>{o=null,s(N,g())},V)}function S(){c&&clearTimeout(c)}function N(V,...H){if(y){S();return}if(V){S(),A.call(null,V,...H);return}if(g()||d){S(),A.call(null,V,...H);return}a<64&&(a*=2);let q;p===1?(p=2,q=0):q=(a+Math.random())*1e3,b(q)}let L=!1;function U(V){L||(L=!0,S(),!y&&(o!==null?(V||(p=2),clearTimeout(o),b(0)):V||(p=1)))}return b(0),c=setTimeout(()=>{d=!0,U(!0)},n),U}function GD(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(s){return s!==void 0}function AE(s,e,n,a){if(a<e)throw vE(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>n)throw vE(`Invalid value for '${s}'. Expected ${n} or less.`)}function KD(s){const e=encodeURIComponent;let n="?";for(const a in s)if(s.hasOwnProperty(a)){const o=e(a)+"="+e(s[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var Uh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Uh||(Uh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,a,o,c,d,p,g,y,A,b,S=!0,N=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=A,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,U)=>{this.resolve_=L,this.reject_=U,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new ih(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===Uh.NO_ERROR,g=c.getStatus();if(!p||JD(g,this.additionalRetryCodes_)&&this.retry){const A=c.getErrorCode()===Uh.ABORT;a(!1,new ih(!1,null,A));return}const y=this.successCodes_.indexOf(g)!==-1;a(!0,new ih(y,c))})},n=(a,o)=>{const c=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());QD(g)?c(g):c()}catch(g){d(g)}else if(p!==null){const g=VD();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?gS():UD();d(g)}else{const g=LD();d(g)}};this.canceled_?n(!1,new ih(!1,null,!0)):this.backoffId_=HD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function XD(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function ZD(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function WD(s,e){e&&(s["X-Firebase-GMPID"]=e)}function $D(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function e2(s,e,n,a,o,c,d=!0,p=!1){const g=KD(s.urlParams),y=s.url+g,A=Object.assign({},s.headers);return WD(A,e),XD(A,n),ZD(A,c),$D(A,a),new YD(y,s.method,A,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function n2(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this._service=e,n instanceof ms?this._location=n:this._location=ms.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Bh(e,n)}get root(){const e=new ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return n2(this._location.path)}get storage(){return this._service}get parent(){const e=t2(this._location.path);if(e===null)return null;const n=new ms(this._location.bucket,e);return new Bh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw FD(e)}}function _E(s,e){const n=e==null?void 0:e[PD];return n==null?null:ms.makeFromBucketSpec(n,s)}function s2(s,e,n,a={}){s.host=`${e}:${n}`;const o=vr(e);o&&(vp(`https://${s.host}/b`),Ap("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:c}=a;c&&(s._overrideAuthToken=typeof c=="string"?c:YE(c,s.app.options.projectId))}class i2{constructor(e,n,a,o,c,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=pS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kD,this._maxUploadRetryTime=MD,this._requests=new Set,o!=null?this._bucket=ms.makeFromBucketSpec(o,this._host):this._bucket=_E(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ms.makeFromBucketSpec(this._url,e):this._bucket=_E(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bh(this,e)}_makeRequest(e,n,a,o,c=!0){if(this._deleted)return new qD(gS());{const d=e2(e,this._appId,a,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const EE="@firebase/storage",bE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="storage";function a2(s=bp(),e){s=Vt(s);const a=Hh(s,yS).getImmediate({identifier:e}),o=QE("storage");return o&&r2(a,...o),a}function r2(s,e,n,a={}){s2(s,e,n,a)}function o2(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new i2(n,a,o,e,Ar)}function l2(){mr(new ga(yS,o2,"PUBLIC").setMultipleInstances(!0)),ks(EE,bE,""),ks(EE,bE,"esm2020")}l2();const c2={apiKey:"AIzaSyB6vS968ei7yaV9JDEgXTcxT0JFrKx3INk",authDomain:"simplia-afafd.firebaseapp.com",projectId:"simplia-afafd",storageBucket:"simplia-afafd.firebasestorage.app",messagingSenderId:"512104320996",appId:"1:512104320996:web:d7c77491b153e3ee3001f1"},dg=WE(c2),Ft=DD(dg),De=a1(dg);a2(dg);const u2="/assets/netflix-MaxEsgui.png",h2="/assets/dezzer-DOl5V8MA.png",d2="/assets/disney-Deb_eL61.png",f2="/assets/canva-DZT5cOJB.png",m2="/assets/max-BPkUcXwB.png",p2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUoAAABkCAYAAADg+Hn3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADClJREFUeNrsnU9y47YSxiHX7MO3yy6aE4x8AksnGHmZ1UgnsHQCSSeQ5wSSV1lKcwLTJ7ByAjO77EY5gR960nyPUWSLABoECH6/KpanElIkwcaHbvxpKAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMKeHIjDn15c/hyf/qfjt488FSgbARiGUXTe8vv6z0MfkjVPICB/0ca8N8ogSA4HE8U4f4zdOOejjq7bPLUoLQunDAGf6z7rm6SSYt9oYDyg50KCNkn3Oap5OtjlCgw6hlDTAJXuSJhzZECGWoAkb3bwT6UAsBbhCEVwMZRYWl2b62KEEQUPRzsTi0gFsFEIpxcbh2j4bMQC+RDKzbMhLhmcGfUDbhPL19XWgj2HlyBo0Qmpx+44/cwcTAx4Zc/QCG/XMh1gEkVo3fdywOA3eOZf+UL/KgY8nfeS9Xu/owQhdIa8yQz8QOGPHJp7cUdv3uf7uG4FHgUcZs1BqQ+mr/09lMPXcMv7AdMz49/b6z4M2qL3QI34S+h0S/RymBk54NDiX7Gd0riEWeI4MnyLC0JsEUh/UifzCItcX+mkS3J3+7Rd9TGBAANQD/ZQRCSX1L+pjzQI59ngrEt6Nvtczh/QAgPfBNLYYhJIF61HVnxArFfI+O3iXT0LPgf5JEDXoQ49AKCsiGcq727AnG6KVPWLSOfDIN3iTCQhlRSRD9/fN9LMsDa/JBbzBPUwMeETCvh5QjAGFkuc8blQ8gyILkzCcw5GvjiH3CiYGPIbMhf6zdfgJ1+shlBLCFDDcfos1T0uqa4hLh9BkjrRWoAHmDjY6Rf9kQKHkkDvG5Xull2vCSJnPg5wilRVoyKs8so2aiOWRbTRHCYb1KBcRv/PQZFUEGaI+RhxGX2p9yfBGEEkQSCzr2ug1bNQM8TRrHNq+CP3caYs3UDJ9nvter3drc+GvL3+O+Tl+UX/P2Xxi48wxwg0M6smrST3Q9jqqaZ/lqjWy0U9cX0ob3aM7KB4DoBFmW36sqnmvH5FX9sz4XBew8gYEFUoDHlFi6RnAo6VwzSzutXQQygm+FoBQgjYYgLVIVu43sbznBl8LQChBHa6EP75NOFv0er1723vqa7fKbr5iH58fAFAH6TRrNvMmc4H7ktAuGnjW2LySc4Nbb+UulGoIz5XbwUM+UACSFcogUCXVlfhgKH6ZgUD0DT1QceFgkaIRd0rWOnzveXhAteBGiEY89zbPw0L8hct1eOHcMplyeT9xsX6jYZDGW0PjudEMbqMCz2Rb/3Pv9xAuGKpMpv0pFHp/DFGJ6hYwrxM38VhHUh+Pje29/cTrQl0UD5eeiwV5xgLpYuQ/9pDmrhEp+3pUzWXkzj2Lvuj0oJA2emKr1Jh/bvA7UT1u126yvMeNDcvI38t0dH0ocE/K37l5lefxrelXPO3qu/D9aBrXWEooX8PwLD1LQnowJ4SNVu49DvhtXpvQgCthZbdteRexi2XDwkzC8iLgRZ6DKsg/Kj7PTX3W/1x7CG1JlCnz/K7Fc1cpWtlIin4idjpkEd+pxPfe8bGEsXAQy5euz2/k3Jk7z31xGVf8DXdZPCv/g1tjFug2D6KlIPoSNlruVtBkV0hyQpk7GmLZcq+7tpUDz+1sMpnIhEWyqUpP3/cxge/6w+Pv4lYjgXYrSFIoH4Qq1Iw9kFI0xym34txCd8Gbzlgss0TeozOheAS7FaQjlDySVgj+ZCmaFI5+5471zaU14S0zwHHHWuhMmc+OiPU9dpIDIy0QyU52OfhKszb3+MwD9rw2HP48tzlMr2SC7xqDhAbwdimH4WyjnRVJb0KpvUray6Op/WIGJ2H6rGVh3brDBniXSFRQDo6l+h13quP73PvcCmIqHILXDdPXHKJvYq+E/HyTDtsfVb5FIu8ySOhdqjZKTshQdRxvQsnLoyg5bqg1wBMOzdcRt/SuFYsaolz9nRRkxV6878aJ7nfP99sq97X6KQ3SzVIKwfm7JCf+Nnhd600T0HVh09KrjQo3UkYtIg38TLlLICZsR0xJnOZvTfDnyrpw+P1zgrx6azliZdnjnUWIVq5h39Y4l2ZUPHn8HjcC3hNFNKNE9EGiW4hslez0L8htjZaJJ+mGZm35/OLLw3i6k9eEww65Ok+X72U179fn803ZRWarS8elnIMa94l6CSOXg20ZfOfn6aeiYVdN3ITCcN6j5lY13295GhrFMsJ8Y3HN1CTJBJ/rMgOBPIFR3Swz+ryCvSnT7pZo+sDYVpf6nx+V/YDkXQLaMLH0JslmrqkM2R4glBZGuOdMQSEGev5nAJGIpWlXRG6TiYeTIueWz3hrmoqLzzcV5yy2vr1K4761uDyFSehfHBrWZAQyiFBWPZ2KYOYBHmESwZpyUy/qq8O9bK7d2ho8C7rptVEO6Oh3sbHRrM2T0DlkNm24CpPoo218CGyEVKG2lTx2X1Rzgz40Gr5vy4d1GYiiay2yUbkOmtDzmqw2Gl4SJG7c+gbvvRQqfhJL0y2YL75PxNiI/FSqLgX8znEKZeVFqTWiEPGeRZM+1MVM3o6QB7PmShA7udBvmFQA1/DpD0/hoMk7LKXsU9slNeomUciNai+fTG1LOAlwkO8cXeh9ySg5NJ9yeE4H9RWtPLTQQebwtSEsEzD8g0oL02QvbZ4bOvBcNgi9PXmbBYdy5Zw9EprPyn1Vi8kcPtBhqOEw7L7oUoadPPUXvGqhwR559JxC5v+wp+nSN/IZMgA66iWLiHyKo9ytF8ozornk8DxvwihAp+nKlrwZPnVCQnkimCNLsezDDACIqkGIznkREUqL5VOvngY0ppbPD7FMEA+T2IcdKbqDYTlLe6DRebQhPUrxVoP7SuBVAnFhsxDdAuVsVc5RrmqSEkobcfqEegw8IzlQZ1qB2yyUh4DlHOXgakiPMqY8hF3ppO+cRynRxcN2aproos0j5L8bni+yf5VtIusm8gSICKXl5GTxvWIqcyxNn/+gQKpIbNGwUOb9Zk8tLjOb+ixRl21/w3u4LulR2ojNmFPNi1UKeJPgBPJS1rYX87pjGxvN21pglUUept77xqGcN8q+r/POd3QqKZS2hrHmpL6ZQyFnXNA2LQu8yfSZ2NgYN+I2lX+fQBadB8ty3ljW3YnDs2YujWHTQumy3pMErtzfpm9YyFTAzw4F/Q060glKG5vUsKshZxVfB6gLsbB1aJRe6oxeC9Td0/s++prqJ7bWm/fHIe/MtmO13HeFspAX7On9zqFx1esj9/wnvs9Q4NH30JDOUG4ru+bv/kclEiJ7+oUF1aWyFRHuzWQVfltkTKp2d+y4Hucn5Tzkch4q+Wl5Q24M96wdpBu5hHcvnRTjq5Lp1O3z4buTNu/COlVwVjBLAZDeZXCeUDmtHL29vsdyvhQ9lNphu2LPW+hdJuLNW2YIAEg2vMlEKOxEoI4oP/Mo56odI8l74WSjoNuQzU9TeylOOtP5Ac8rDwV7aEH4kaRRg6DME+7GmaqOT6PzsjKHQ/BYXXb64MluggSCcG+zQ2aLvMofuytCKP257LF5lqVIYu4kkIK2LZmn/pJcZ0J6lkEdmyvPhUsbht1G4rYXEEkgzIoz7XcC9ppHDdfnI2tI0/dtTii5cGkU8FqFna9IH/gaIgkkK28T26RG6lm67ChgwoHr7b4S/gepw1cNFS5Nwi1bhbzB98vZi5yiT7KTFJ4a3Y8pTQOyqM/ljgJTT2VMdZUGx66rA2QVsbxPUigrL5pzAV+zwR09FfKWBXKEKUDdhbc7lqrMezS6Z0Pxa8EypnJdcUN0/45Iz9mr3Tb1rh8CFXDZMTzlfIF03Cj7JYkH9h6fPLX0pmJb1Pj/K8HfqwOtP24y9ZfpO+YeK/OW7eyLMls6d+By23uY+iP9/aVttLZ3yYJVljEl3jVZBlrws38zqbv8PUg/Vnw/+rbe8lL2YmuleFE7Hdk7L16u/z6i37E7cKKKoUFl6l2wsYH6d55JqoAFIhHnb1XW3/4Z0SzrbyHdALFYV++5xTJl0DmhNNm9DiUGpLhCEQAAAIQSAAAglAAAAKEEAAAIJQAAQCgBAABCCQAAEEoAAIBQAgAAgFACAACEEgAAIJQAAAChBAAACCUAALSMDygC0CKaTj4MAAAAAAAAAAAAAAAAAAAAAIid/wowAKLqE3ENPpTHAAAAAElFTkSuQmCC",g2="/assets/boton-simplia-BdJNEcVy.png",vS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABCAAAABqCAYAAABtYCB8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACHJJREFUeNrs3U1uG8kVAOCmYwyCIEC4SeDd0NtsojmB6XUWYZZemT7B0CcwdQLZJ6Cy8mYA6waS9wHEIEC2ZFZxMECkAJ4JPDNSpypqIQ7Dv7G6m83q7wMKLYNSi/26APM9Vb3OMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO6uIwQA0F55nnfD4aAY8etHG35kHsZfw5jGrzudzlQUAYBtKEAAQMvkeT7IbgoN/eym8HAXl2GchfE2jJNOpzMXYQAAAGipWHQIYxLGRV6t8zBGxcoKAAAAoAVFh24YwzBm+W7EgkfPnQAAIlswACDN4sMwHI6ym74Om5xlNz0d/ll8HV3e9nf4qE9E1CvGo+y/fSM2OQ7j0PYMAAAASESe5/0tVjzE14+KXhB3/X29YsvFmy1WRBzZmgEAAAB7rNhucbTFloh+xe9htKEAMqvyPQAAAADVJf4Ha5L+2HRyXHcvhi16Txy5cwAAALAnikS/sU0gNxQizm3JAAAAgIYrCgyN3+awYXtIfK8H7iYAAAA00JriQ2MbPRYNMi9WbBNRhAAAAICGJfKTFUn8cA/ee7fYeqEIAQAAAA1O4CcpJO+pXAcAAAAkp3jEZTJJ+4oihMaUAAAAsMNkfZDiioEVRYhTdxwAAADqT9J7S5o3JrNdYUURYuzOAwAAQL0J+umSBH2Q0PWtakzZd/cBAACgnuR81IbVAStWeczMAAAAAKg+Ke8uScpPE77ega0YAAAAUH9CPlnS96GX+DW/ads1AwAAwC4T8V4bVwOsWPUxMSMAAACgmkR80tZ+CCv6XvTMCgAAACg3AV+2+mHYshjM9IIAAACAapPvcdufBhELLou9IMwMAAAAKMGT2btuGP2/fffDrM2rH6LFXhDfXF3nX128H4f49MwUANhPHSEAgN0JCfUwHH4XxmDxtc8/u5/9+qefZf+4uv5i9KvutGVx6f72Fz+b/P37q8Efv/2w7FtiPP4Qxsnrhw/mZhIANJ8CBADsJsGOBYejMHpb/sjLMA5Dsn3ZgtgMi9h0t/yRGJexWQUAzaYAAQD1J9jxsZLDT/jR+Ff/ZyHZnorN0tg8bkOBBgD2lQIEAOxHgn0rJthfpLjtoITYKEIAQIPdEwIAqC3BHt0xwY7itoQ3CcZmXEJsDlKMDQCkwgoIAKgnwe6Fw3m2fV+DTZLpe1DEpsxHjcZtKsdmHQA0ixUQAFCPF1l5xYfoy8Ri0+TzAQAlUIAAgHoMSj5ft3haxF6Lj9vM7r71YlGveMoIANAgChAAUH2S3c/KXf1w61EC4elXdN4DMw8AmkUBAgCqV1Uy3BOblR6ZdgDQLPerOnGe58PsZg9mT5gBSFx87OPzTqdzvOL1bkW/tyv0n/w55faJGT6nAJC6l+EzyvMmvJEqV0Ac+U8dgJaIhYDJjn4vn0bxAYC2GBULBHbOFgwAqN5lReedCy0AsC+qLEA8F14AWuRwzWvTin7nPIG4TXd03ni/Lk1bAFrgLIyTJryRynpAFPtgj91rANru9cMHZ09m72KyW/aWibeJfCiqwlufUwCgWWzBAIB6lP2Xh8usIX/NuIvXDx9UcR3zcN4TUw4AmkUBAgDqcVjy+V4VyXsKXjX8fABACRQgAKAGrx8+mGflFSFif4OXCcXmrMTrmYbzvTTjAKB5FCAAoL5Ee5zdve9AXPXwLKHVD7exic2rpyXE5vdmGgA0kwIEANSbaD/LPr0IERPsx+Ec00TD8zj79KaU0yI2c7MMAJqpIwQAUL8ns3ejcHiRbf9kjNhUMbmVDytiMw6HL39EbI7DeN6G2ADAPlOAAIDdJdoxwR6G8TSMg8XXf3n/J9nXP1zF5PpVwqse1sVm9PN7956+v77uLfmWeXZTlHll1QMAAAD8uKS7/+dvP1z85V8f8m+urvPCQZtjEq7/PAYhxiSOry7ej4viBAAAAHCHhHuS/6+jFseil/+/nlkCAAAAd0+6BwsJ90WLYzFaiMW5GQIAAADlJd4XC4n3sKVxmC3EYWR2AAAAQHmJ9+I2jNMWxmCwZPuF3g8AAABQYvK9rPdBv2UxOF24/omZAQAAANUn4KctuvaB5pMAAABQTxLeX5KED1ty7bO2b0EBAACAOhPxxVUQF6n3QQjXN7b6AQAAAOpNxpf1gpgkfL0HbbpeAAAAaFJSvmxFwCDB6+yGcd62FR8AAADQpMR8tiQxP0jsOidtKLQAAABAk5PzZVsTzlNZHRCuY7Tk+t648wAAANCMJH3vixDxyR4pF1cAAABgH5P1SUrJ+oriQ3LbSwAAAGAfk/bzFIoQK4oPUd9dBgAAgN0n7t0VRYjZvqwcWLGSIxq6wwAAANCcBH5VEeKiyUl8eG+9ME4VHwAAAGBPrClC/OcJEk3bkhEfqVkUSPaqaAIAAABka7czxMR+1ID3t27Vg4aTAAAAsC/WNHS87Q0x3MF76q0pjuRFUcKjNgEAAGCfxJUEa7Zk3BYiRlUn/fEpFhsKD9HYHQMAAIA9FpP7Fb0WFntEDMsqRhTFj6OiyJFvWPVgywUAtFRHCAAgLXH7Qzi8CGO4xbdPwzgL409hzOO/O53O5ZpzxwJCLFz0w/hNcdxUyIjnPQznPXZ3AAAAIDFb9GGo2swTLgAAAKBdhYjxFlskyhKLHn2RBwA+ZgsGALRIsYXiaXazdaKsfgxxy8ZJGG/jcd0WDgCgvRQgAKCliiaUsQjRD+PzMHofjVXOimMsNsyzm54RU9EEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAR/i3AANrX9iXi01NsAAAAAElFTkSuQmCC",y2="Left",v2="Right",A2="Up",_2="Down",yo={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},cp={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},TE="mousemove",SE="mouseup",E2="touchend",b2="touchmove",T2="touchstart";function S2(s,e,n,a){return s>e?n>0?v2:y2:a>0?_2:A2}function wE(s,e){if(e===0)return s;const n=Math.PI/180*e,a=s[0]*Math.cos(n)+s[1]*Math.sin(n),o=s[1]*Math.cos(n)-s[0]*Math.sin(n);return[a,o]}function w2(s,e){const n=A=>{const b="touches"in A;b&&A.touches.length>1||s((S,N)=>{N.trackMouse&&!b&&(document.addEventListener(TE,a),document.addEventListener(SE,d));const{clientX:L,clientY:U}=b?A.touches[0]:A,V=wE([L,U],N.rotationAngle);return N.onTouchStartOrOnMouseDown&&N.onTouchStartOrOnMouseDown({event:A}),Object.assign(Object.assign(Object.assign({},S),cp),{initial:V.slice(),xy:V,start:A.timeStamp||0})})},a=A=>{s((b,S)=>{const N="touches"in A;if(N&&A.touches.length>1)return b;if(A.timeStamp-b.start>S.swipeDuration)return b.swiping?Object.assign(Object.assign({},b),{swiping:!1}):b;const{clientX:L,clientY:U}=N?A.touches[0]:A,[V,H]=wE([L,U],S.rotationAngle),Z=V-b.xy[0],q=H-b.xy[1],W=Math.abs(Z),ee=Math.abs(q),he=(A.timeStamp||0)-b.start,x=Math.sqrt(W*W+ee*ee)/(he||1),T=[Z/(he||1),q/(he||1)],R=S2(W,ee,Z,q),D=typeof S.delta=="number"?S.delta:S.delta[R.toLowerCase()]||yo.delta;if(W<D&&ee<D&&!b.swiping)return b;const j={absX:W,absY:ee,deltaX:Z,deltaY:q,dir:R,event:A,first:b.first,initial:b.initial,velocity:x,vxvy:T};j.first&&S.onSwipeStart&&S.onSwipeStart(j),S.onSwiping&&S.onSwiping(j);let P=!1;return(S.onSwiping||S.onSwiped||S[`onSwiped${R}`])&&(P=!0),P&&S.preventScrollOnSwipe&&S.trackTouch&&A.cancelable&&A.preventDefault(),Object.assign(Object.assign({},b),{first:!1,eventData:j,swiping:!0})})},o=A=>{s((b,S)=>{let N;if(b.swiping&&b.eventData){if(A.timeStamp-b.start<S.swipeDuration){N=Object.assign(Object.assign({},b.eventData),{event:A}),S.onSwiped&&S.onSwiped(N);const L=S[`onSwiped${N.dir}`];L&&L(N)}}else S.onTap&&S.onTap({event:A});return S.onTouchEndOrOnMouseUp&&S.onTouchEndOrOnMouseUp({event:A}),Object.assign(Object.assign(Object.assign({},b),cp),{eventData:N})})},c=()=>{document.removeEventListener(TE,a),document.removeEventListener(SE,d)},d=A=>{c(),o(A)},p=(A,b)=>{let S=()=>{};if(A&&A.addEventListener){const N=Object.assign(Object.assign({},yo.touchEventOptions),b.touchEventOptions),L=[[T2,n,N],[b2,a,Object.assign(Object.assign({},N),b.preventScrollOnSwipe?{passive:!1}:{})],[E2,o,N]];L.forEach(([U,V,H])=>A.addEventListener(U,V,H)),S=()=>L.forEach(([U,V])=>A.removeEventListener(U,V))}return S},y={ref:A=>{A!==null&&s((b,S)=>{if(b.el===A)return b;const N={};return b.el&&b.el!==A&&b.cleanUpTouch&&(b.cleanUpTouch(),N.cleanUpTouch=void 0),S.trackTouch&&A&&(N.cleanUpTouch=p(A,S)),Object.assign(Object.assign(Object.assign({},b),{el:A}),N)})}};return e.trackMouse&&(y.onMouseDown=n),[y,p]}function C2(s,e,n,a){return!e.trackTouch||!s.el?(s.cleanUpTouch&&s.cleanUpTouch(),Object.assign(Object.assign({},s),{cleanUpTouch:void 0})):s.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(s.cleanUpTouch(),Object.assign(Object.assign({},s),{cleanUpTouch:a(s.el,e)})):s:Object.assign(Object.assign({},s),{cleanUpTouch:a(s.el,e)})}function x2(s){const{trackMouse:e}=s,n=O.useRef(Object.assign({},cp)),a=O.useRef(Object.assign({},yo)),o=O.useRef(Object.assign({},a.current));o.current=Object.assign({},a.current),a.current=Object.assign(Object.assign({},yo),s);let c;for(c in yo)a.current[c]===void 0&&(a.current[c]=yo[c]);const[d,p]=O.useMemo(()=>w2(g=>n.current=g(n.current,a.current),{trackMouse:e}),[e]);return n.current=C2(n.current,a.current,o.current,p),d}const R2="/assets/Tarjeta-2-Cw6nFCrI.png",N2="/assets/Tarjeta-4-BwMfqfOZ.png",I2="/assets/Tarjeta-6-BosoVTPN.png",j2="/assets/Tarjeta-8-CpNLsxqr.png",D2="/assets/paramount-CgaH_kzi.png",O2="/assets/crunchy-C_y8_6MT.png",P2="/assets/prime-BHd_6DZB.png",k2="/assets/directvgo-Ca9hd7U6.png",M2=()=>{const[s,e]=O.useState(0),n=O.useRef(),a=[u2,R2,h2,N2,f2,I2,d2,j2,m2,O2,D2,P2,k2],o=()=>{e(A=>(A+1)%a.length),d()},c=()=>{e(A=>(A-1+a.length)%a.length),d()},d=()=>{clearInterval(n.current),n.current=setInterval(()=>{e(A=>(A+1)%a.length)},2e3)};O.useEffect(()=>(d(),()=>clearInterval(n.current)),[]);const p=x2({onSwipedLeft:o,onSwipedRight:c,trackMouse:!0,preventDefaultTouchmoveEvent:!0}),g=A=>{const b=a.length,S=(s-3+b)%b,N=(s-2+b)%b,L=(s-1+b)%b,U=(s+1)%b,V=(s+2)%b,H=(s+3)%b;return A===s?"activeSlide":A===L?"leftSlide1":A===N?"leftSlide2":A===S?"leftSlide3":A===U?"rightSlide1":A===V?"rightSlide2":A===H?"rightSlide3":"hiddenSlide"},y=()=>{const S=`https://wa.me/573170695865?text=${encodeURIComponent("Hola! Estoy interesado en conocer las membresas de Simplia ")}`;window.open(S,"_blank")};return u.jsx("section",{className:"hero-section",children:u.jsxs("div",{className:"hero-content container",children:[u.jsx("img",{src:p2,alt:"simplia",className:"logo"}),u.jsx("h2",{className:"hero-title",children:"Una sola membresa,"}),u.jsx("h3",{className:"hero-subtitle-box",children:"Para tus servicios favoritos."}),u.jsxs("div",{className:"carousel",...p,children:[u.jsx("button",{className:"carousel-btn prev",onClick:c,children:""}),a.map((A,b)=>u.jsx("div",{className:`slide ${g(b)}`,children:u.jsx("img",{src:A,alt:`card-${b}`})},b)),u.jsx("button",{className:"carousel-btn next",onClick:o,children:""})]}),u.jsx("p",{className:"hero-description",children:"Por un solo precio, descubre lo fcil que es tenerlo todo."}),u.jsx("img",{src:g2,alt:"boton",className:"hero-button-img",onClick:y,style:{cursor:"pointer"}}),u.jsx("img",{src:vS,alt:"Decoracin inferior",className:"hero-divider"})]})})},V2="/assets/Ahorrar-es-simplia-Pcs-oMI9lCQ-.png",L2="/assets/Ahorrar-es-simplia-mobile-CGXHDTK0.png",U2=(s=768)=>{const[e,n]=O.useState(window.innerWidth<s);return O.useEffect(()=>{const a=()=>{n(window.innerWidth<s)};return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[s]),e},B2=()=>{const s=U2();return u.jsx("section",{className:"section-two",children:u.jsx("img",{src:s?L2:V2,alt:"Fondo Simplia"})})},z2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMkAAACtCAYAAAAao1tJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACKVJREFUeNrsnUFu4kgUQM1o9sPsejfOCUKfoOEEIcuWWgqcIMkJEk4QcgKI1FIvQ58A5wRNnyAse9fcIPN/+Mw4FpQNBmJXvSeVQCRgU65Xv35hu6IIAAAAAAAAAAAAAAAAAGANjUN98JfPv5ry0KKK4Zh8/fYhqawkIkUsD10pZ1LaHC54RxZSVJbvUiYizuJdJRE5VIgbxIAKM5YyEFnmR5XEhlMqx5Xj3xKODxwR1xB/YaIMjyKJCKI7MlqzQzMpDxbi5hwzeA+sfV7Y8D/O/Hkipb/NEKyx4w5Mzdq0HNeHSJoASgrTk4e7Ne21U1SUxpYb1A09ZzaoIeyWwwEVFqVpI59uOhWQdtsp8v4/ttxeNoL0EQSqjkYMKeeWwK9oizx3e5VEPvA2k4OoIGMOAdRIln5GlCubnS0viYWry9RLQwSBGosyS710s69IcpUaZr1OpVHdUGOuM8Ou9j4kucgk6gvqGWocTZJoORW8rn1vL4lN+caplxhmgQ88pJ53y0aS9AdMiCLgSTSZWOqgNF1DriKSnKaeP1G94BFJ6nmrjCTZXyoBfOHnhna+U+IOECxIAoAkAEgCgCQASAKAJABIAoAkAEgCAEgCgCQASAKAJABIAoAkAEgCgCQAgCQASAKAJABIAoAkAEgCgCQASAIASAKAJAAl+ZMqqAYvLy/tDX+aNxqNOTWEJKHJoEWXtIgjxy3/U+9ZPU1Ummh5N/RE5OEu/0jihRQqgi6EdGZylKGd+eyFifNdykSkYYElcpJaydGTouveP0u524Mg62iagCMpv2V7j7pdah9JqixGU8qtlN/WcNtH3oVXYWT7z7YfTY4KklRKDosaN5Fj1aQjEdt+IAs5SSUE6dpwKt7Dx2kins0rWiWka5osF7Kf15KzTDhiSHLU6GFDqu6OMmjCrbNUOsWbFJwAiKP/Z8baW8ij79N8RbfTZ0oZSY4VPUZb9vDai+88C2UNex6lVoy1/TgzUYvsi4r1Q97XJ6qQkxxSEB1aPRZslNqoB1JOpFGeSxnvc5pWG7oUbfB/a4SI3i657BqCaVQZcTSR5BDJucpxVVAObbwqx+0xhjcmYEeedgrKolPUP0jqkWSf+ce0QP6hUWJgcozfY181vzFZzk1WFzopMLV8B5CktCB5p49o7/1RI0cV9ttyjo9ShgVE0YjS4mgjySEF0enVTtVmjTT/kXJtUWWRk6dMEQVJDiHIwqLHsMrfJRVVZjmijMhRkGQb7nIE0QZ3UpczcS3Kaa4yyctROPRIUiSKaF7RyxGkU7ezbm34pUMv16RCi+lhJMkTpB0tT+XwSpCMLP0cUXqcTYwkrjzE1YvO6y5IRpTENdxkahhJ1qERJHYk6eeeXdh07kjm8zoMJAl0mOX6Nb3v2+WyJrxrerjNsAtJslFkE0NfTwi0Wa++q15CnxZGkmUU0d6y7chDBj5/f+sANnUCcVTsfDUkCTiKXAdyg4W+Y9h1GXI0CV4SuyZjU7KehHLdhXUE944kvosk4XLp+NsgsLoYOqLJDZKEGUViRy6SFLmsNqBoEjvuMokkRBGiiXGBJOGxaZw9Dy2KZKLJZMv6QhKPh1qbEvb7wDuP75sS+BCHXCFHElevGPSdRGxGb+Ov8EgSDp82vD7jvlTOjuITkoRDa8uhRmg8EUmQZFM+kuCHux5CO4U+SElcyWeos1pr6mHuyEuQJGBYOapYfbSQxH82RRIS9mJ5SRNJwuUnVfAGlpdDEmD4iST0nIfhFEnoOYFhafCSJESSfBzT4XMkCePgZ6NG4tvdUPbEcE20DerctpCXg9P74vai5XSmRpAxPqztUK5fXl50eBWv6imQa/6RxA70EA0K1VXQHQiJOwCSACAJAJIAkLhDZfn8/CuOljNbs28nHxZIEs6B12nfXrS8RU76tG9tBImUe2kQScBitKPl7Zb0sZl6fXUnlYHUz5zhlt8N4Dlavybi6naeU/m/R5MpqM5Diq5JslqzvrmmfrRzeZb/u0USPxtBzxpAkca/kiUkUaaRe63INDcmFJJ4Nra+2/JtGmlGgdRP3mrD6+jJ+7pI4g+jaLcr6ro2RPO9A9l1DZI7JPGnEZRp6JeeV1GZ7xfbMBZJak7ZSOD7kKLsjR1OkaT+xBEcshNpIQmshmwQIEhSEM9/PCv73RZIUn+Sd25EVafsFZlPSFL/KJCUbOgPnldR2ZuET5DED3ZdmMf7KxilExmXiCZD38/jCkYSOZDDHYdd/UDOfu3vkFuoWN6vLRla4n6+pSgqSBB3BpHvqQ2+s4Uor/8fQgcSlCR6QKVoQ7jOaQwq0kcbhoRUP9rwTyL3nWMWFj06oVxfEuT1JDb0GtrJednrSSYhXSuxriPRCCp1ox2J1k+ciR5JaBdfBX1log2lgl5ENEeWMTXBj4kASAKAJABIAoAkAEgCgCQASAKAJACAJABIAoAkAEgCgCQASAKAJABIAgBIAoAkAEgCgCQASAKAJABIAoAkAIAkAEgCgCQASAJQM0liqgw84p99SZJeWfWUegWPSK9Nk5SRJL3gZJd6BR/48vlXnJFkVkaStGGxfHibKgYP6KUF+fpt8+pduZLYm8epl26oX6h5FGnKw2Xqpft9JO4Pqedt2QjDLqgz2tE37fnrOpmlJZFokmQ+aGRjOoC6RRHt4K/SUcQ11NomkijpZZ3VwkcLWwB1EUQT9VEmF7nNe19hSeTD5ibKCt3g1DYMUIcIMs0Ms/pF3tvYYWO9jI26sYFINORQQEWT9JvMEEvbbEfa7OwgkmwQRdFIM9DcJW+MB3AEOTRn1nZ6mYoeWwuysySp8DXK7MAKTfSfOFTwDvwlpR29/aHwvxxEh1jbCFJKklQou4ve/jADUDU0etwXSdL3LkkmtGlY0+gSc0ygImjE0N/4xmVSgMa+98pmu1rIAu8sx8xmZAEAAAAAAAAAAAAAAGBH/hVgAAds2tK7aJQmAAAAAElFTkSuQmCC",F2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMkAAACtCAYAAAAao1tJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAB7tJREFUeNrsnVFu2koUQMcV/4/P/oWuoHQFJSso+YxUKbACyAoIKwisIFSqlM/QFUBWEN4KQv/66a4g795meJ1a1DYY4/FwjmSBIOD4zpy5M7aZMQYAAAAAAAAAAAAAAAAAYAtRGV/6+fJHUx7ahBeOzOrr/dvYS0msFD3ZPsrWka1JeUGFLGX7JttcpFlXKonI0ZKHkRUEwEfmso1FltXRJRFBbuRhkJI19J+KKSM4Ip2U9yZWlrh0SWzX6mHLP6Rpbaqproi1AAV7N21bN6+2jIu1Xp7vKkq0hyCLxM7X1tAZRQSeCaOy3Cbqa2xFWZUlyVNihyrGdRlnFAAOKIuKMkw07B/y1ts3O+7oD0FkJ30EAd+ROnotD33npZYdMpiDSWLT1jApCOGHGokyS4jSkXo9PGQmuXMHPwgCNRZl7rw0suPsYpLIl3RtetqAIFBn+ub3pYnNRfDCmeQq0c3i9C7UOZuoIFPnpcEhJOk6z6eEGQJg4g7i7bWV/SSxA/YNa7IIBJRNlu4gvkgmcT+8JLwQEI/O87Oi3a0N34krBITbK2oXkeS985yLhhASuetzliTNv5gHcDK8IQQASAKAJABIAoAkAEgCgCQASAKAJACAJABIAoAkAEgCgCQASAKAJAAnReMUDvLl5UV/nsnCQodlHUXRGknqLUbLvC4w1EWQ0mKskuiMiNOQhXkTYME1ZdPJvZ/N6+x8CFIe2hDpfLrPEvMbJKmJIOZ1/ZQh9ffojCT+T7YMkMRzQVj1tzo09ovQRAkpkyCIP6I8IIl/WeQGQbyiI2UyRBK/ulkD6qWXY5Qgul0hnALumewzWGvZxvZxV1ZRFDF75e9GSTN216QvT27M77U/JkhSPVcZ7y9lu6CiHwaJo87kuRJZJjnGgZ9CkCSEMUk7I4MgSDmyaEwvTPqcuh3GJNWn/qxCmCJIqaJoIzQL/ThDv8FxTlUunZ9IUv+WDspliSQAJw6SQNnjxiaSAKTTRhIAulsASAIASAKAJABIAoAkAEgCgCQASAKAJACAJABIAoAkAEgCgCQASAKAJABIAgBIAoAkAEgCgCQASAKAJABIAoAkAEgCAEgCgCQASAKAJABIUgEhrLIESFI2bYoYkAQASQCQBABJGJMQYySpjlXG+wPOcJWHje0g7W+iKFoiSYVIAcTysE75k5ZsC0QpTZCFjfG+jRiSHIkvOboDT1KoQ9nofhWXoyVbT2Oao6s1DeGYGwEcw8Sm/GZGRrm1hUxNPw5ryfQzMok/Xa4xddI7rhm4+yWKZpM59dKf7C5lMkcS/+iHMlCsOTMR5DqkAwpGEtvtOkeUygXph3ZQQV1MVFFk+2AH83BcxiEKEpwkjiya7lWWGXW3/Owh2zuJ+U2oB9gI9cCk0LTb1X95eVFhfL4+cpvy/2kF/OJxjJen0Ao0Qj9AO1bxtjBF4jjl7e+nUhHpbgEgCQCSAJwswY1JLp9/dOThSjZ9bNmXN+OSb/fv3s4o9kLx7TnxNYn4TiW+SyTxt/D0Bsc72bpb3m7a17vyd3ozZF8Kk4uOu8VXz8A9mO23xrvxVUkuJL4x3S3/BFn8RZAkWtgLW+iQX5Cs345s6Nj4NpHELx7MbtdCtAAfQirIEgVpWUF2idUm6yCJR33kzh4f1cIfokEmox0F+T+j2LJBEg8YVPTZU8giKkfv1OPbCKAQi4wtmno2LOuMjP09d1ljmLRW+kz23Slpvyt7N0LW+KIIbSSpnvaBvmOZIoi2pLd7djmK0ivYkqcR631tGT+xLRzfPI0Q3S3/aaYIomfL7ioS5BjHfWePEZAkvduR8t7VCRx/2rjhENc6YiSpkAOl8fWe44VToGh84xAu2oaQSWZFBMkoxPgERIhTGqFVRiOSRRCTQYQgSZEJ0K5L/O66kPWjriLTNY2RxI8u12rPwpjJZ1NbOvuDp4uCranPGaSfNfWPvSF0n4xwLZ8NIm5B3OAohXFz+fzjzOQ/XTo3OSdPs5Xo1Of06tvxWSdvBpEyCWYyjmDObkmh9HO0+rFt4YK6S/UIsdUB+LltWNLiprE/10YrpONvBFaYv1p9ySp67l8vhL23LeCjbKus7hVkxlezw8SJ75mV5qfGPdSfHzQCLUy6SMSX7hYAkgAgCQCSACAJAJIAAJIAIAkAkgAgCQCSACAJAJIAIAkAkgAAkgAgCUDVkrCWByDJFh6d56wMBUiSwT+ECwLCbfTjIpKsyCQQKO+d5/8eSpLO50vWGIRgcJecWO4tydf7X9NUrp2XesQW6o409irIpsGPpZ7vL4nFnTR6QDaBAHDXZMmcPyyPJDNnYNMyrFgL9c4iWn87zkvjwpJIKooT2WQkO+oQbqihIHryaeQmADukKJxJlEliEP9gdwhQF0F+rRHpjkVMzpUFcklis0nf6XbpjhZkFKhRBnkyf17G6Nt6nUm048561kaT6NNN8u4QoIIxyMj8eVuVCjLL+x3RHjvdtmyz9uu+IAt41LXqWjlaibd3EmQvSZz0dWe2X4XXscvSvK5ZAXBsPprtK3Jp432RdU3kYJI4styY13POXDsBn9ETT+N9ezlR0b3b1KZjlSvD/V3gD5shQK7TvKVKkhCmZUVBFqhSjmVRMQAAAAAAAAAAAAAAAMCY/wQYAHRjRMyfOoVIAAAAAElFTkSuQmCC",q2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMkAAACtCAYAAAAao1tJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADCBJREFUeNrsnT1sG8kVgJeK41x8wZkX5AIXAbwuL41pIHW87nKVJKQycIDILp3E1AkkIX0kp7pOFHKAq4N4VZBKq9QBTDd3penOyAUOz3Z8F8exMo8aHsYEpZ39I2eG3wcsSEkkl9qdb997s7OzUQQAAAAAAAAAAAAAAAAAMINGHR/68d0nTfXQYvPCnBl8ev/ayElJlBSxelhTy6qWo8n+ggUhkqRqOVFLrwppGhXIsa2WNvsGHKWnll0ly3DukihBdrQg54Y+bTXAPMhK8UWUnblIouuN4xlfSEy9J6FOfZkB+wwWgWqf0i4TtWyqJZ76s6Rh63lTsEYFgogcHbXilF0EjgnT1tlOPJXh3MkjSqOkIPtqZV12BzgsirTbvam6OZcoKznWdzAlSAdBwHVEBLV0pL0av25pcaLKJFE2SvfumvGrrlpxj10AHski7XXf+FVbt+vKIolpXV+tcJ/NDh6K0tXF+6x2XVwSXfxMCh/J4UixwGfMtCvW7bt0JNk0nt8rc1IGwIFoIu3XLBU2Skmiz6ibxTp1CITArvE80T1ghSNJYjwfEEUgoGgyOKed55YkNp6nbF4ICLM9t8pIctt4/pDtCgHxtfH8etnCfQKpFoQaSeKqJAFYSpAEAEkAkAQASQCQBABJAJAEAEkAkAQAZnKJTbBYTk9PzfmiEsu3TeY0GzUaDaZvQpKghEi0CDejs/FCrQo+Ux6GejnRj6mSZ8gWRxJfpFjVYtQ5gXisl8RY92RO3M+RBklcE2Mycbg8LnLi8Kb+Dmv6e0ladqiWPsJQuC9CjFgte2r5l/rxKDqbCM21mfUnc009Ut/zgVrauh4CJKk3aqhFZrV8pJatyJ9bTogwB1oYkTtmbyJJ1XLIUfiRjhqJx/9KU8stshwgC5JUFTke6aNwaA2qjSxIUkaOlk6rjuYohxTXqbHMUxapWXaoWc6gd+tiOaSRbOuUpEqke1Z6m06M59YnBo0TkJPH6/qxqm7myf+9odbVUd8rRRKY1RCTCtOqSVQQKUqfs1DvHxnRpT/je8tyu4J6Sf73Y/WZso6OXi+SwLih7VUQPSbnJdJ5Dh3RR/3UiDjmeZuiyHtbyxpVqEnelkPOdzwoIYgcaWXG/VuqMcmyv8ixVXLkV0tPLevqx/ejs8mii36fSVTZQZLlTq8eFMzrh7oB3lANsuvioENDmFvqxztR8Xmdt9W2Olqmoh5JzgRpR2e3umsWkUM1vBu6AXqRs0vKpJax1AVlWdNRJUaS5ak/DgqkVd/J4ev/Lh0Ihix5aw2JuNJV3EKSsAU5KFB/7Ou0qhfKdtCySAq2HuWbzrapI0oLScIVpJ3jLQNdkHdD7QpV/5d09d6K3r634NKLsoIg1tHjzjJcBagL/K4u7keIsoSS5BREGsl6yNHjouI+Z60SrCgrSybIVg5Bhjp69Jc1JdVRJU938USUJpL4KYjIYXuD+0n9wSQLZ7JID1hnWUVZWRJBWjkFubOs45QuEKWXQ5Q82xtJHBBEjmhHkd2JQgSpTpS2Tm+RxANsR/IiSPWi7IVQyActia5D1hCkFlG6tgcp3+uTlYAFiS3z4kk3L4LkE0XOHfUs65NtJHGTPcs6ZJ15qAqLYjv0fsvntCtISfQEcTZpVnfZL02tANsz83tI4o4gTcsdkuqUAcpFk5FlIZ/oGhFJHEC6HWOLOqRDE69MlL5lfbLtYxEflCR6B2xavHSXOqRyuhZpVxxVP/MMkhSIIllHKtKs+tIum27hTd+iSTCS5IkiNOnaRJGUK814meynNpK4G0V69GbVjs1BaBNJFsMGUcSJaJJaRJPYp56uICTRGzy2iCIU6+5Ekw0kcS+K3KPtOhVNEl+mJPJeEr2hk4yXpVxANXcOLV7TRpL5sFbRDoNqo0kvyj5vsoEkbqRao5DmyPKMrO0e+zDw0WtJdKqVtZH7tFWnU64ESeolqWhHQT0pl9SBw4yXrSJJvWRt4BEnDxdOViRPXB+mEnokIdVaPJ9bvKaFJPXVI1lHoBPa6MJTLptIniDJ4uoRr1Mtfb/4EKblydoPt5GkHm5m/H0YwDCUVR8KWwuyIjrpVk1kbdgQzrAnPhS2FUSSpsv/Y8iSPPQ91TJqrjXPJRlUsD+RJGcDaloU7annDWvVl5zdoniX4SkjJHEriniNcf/1KJBIYhNNnE23Lvm4tQ+fPm998+Y0+vLbV9FXr//33e+vX74U/fJHP4xuq+XKitejftszcvZ24GPQbiJJBdx99ESONtt/ffZyZrfo41evoz8/fR59NnoRvXwzvi+7rycTZ13eKgM5fZZk6GskWfFMELnXeuZ5AyWIPByp97Q9TLUktYpn/Cnx/L7pj3394j7VJNsFapEDJYpv9ctmxjYAJJkZRZKo+KRm3sxBqyKF/J/JRbWK59EESWqkzBVsiUfRZLui18ASSrK24Pe7EEV8jyYpktRL2Z6Pq4FEkZCjyRBJFovTR94cUcSMJl51SOgh8xeJcIIki8X1cVx7c3rPojlvQu2eyydKfZGk7NlzZ0O5vl6kSFTw7qY4+j4mt6Kzk6KpXjr6tnLO4ssZ98Oo3HitvqOCNEvWF3IL6L5PN0XVk0N4dQMlXyKJHHmKNoTd+zeuudqIbG9+eh5lJYNQJNGNvMjRR45aTt6wRxfrVaRLW/qzYNkLdyVKP6coIsgdF6OITrMOKvzIgwCuXkSSikTp6cIvzXjpvquCaCRFiiv8vJi0i8LdFGUcIfRQEzmTfl03EulnH0qR7rAck1G+dcyAImnXie5BgmWWZEoWry6sqiHNmpV2pT71dpFuwTRHUb0XFzX1OoBI4h/qCC/dvUnW6+Ry5L+//M/40mR98Zhcihz94soP1PLO+HkGcpJxR0WTHbY6kvgkSDurDhEh5LLjvzx7OfPvIs6VlefRR++9G/26+W5mx4Ba54D6hHTLF0Gkg2EvS5A/PHl6riDTIn3yz2e29UmLPYAkPhTqx1l1yB//MRpPYmHL3158YyPKuD7h/AmSeC+INPgvVP2RF3nfl9nvi/V3ACRxEullykx3Phv9u/AKLN/bUsIesDuQxLUoIo0yyXqdpFjm5Hp5+cLoAcugjShI4pogbZvXPn7139Lry/EZodzrBEk8F6QV5RjZ+9XrN/P+intMSYQkC0VfUNS1ff0Hl+a++XcDuLERkgQgioxA7tlJ8r3S67t++fu2L+1zFh5JXBJFrnvJHHz54TuXbYaZXCDIJdv3S/TosGeQxDXWI4tLjmWYSVE+eu+K7Us7jAxGEhejydCmPpGGLhEhLz9XUUjuxWJZh6TsESRxVRSpTS5soJIu/eYnV3OlXSLVb39qNdpkQB2CJD7QyUq7pNH/6WcfjKODTeT5/bUf20rVZfOXh6Hyc0i7Tk9P70UZ16BLo//dtffH47FOXnw7Pkk4GfQo8ohIv1KC5OgR65FmIYlPSLew3JwnM0eSHq8PLSJKBiOiCOmWb9FEGu3uHFd5j94sJPFRFIkmwzmsahQ5OiEfkoANh0QRJIHs2qTOBkwUQZIgapMeUQRJIKMh1xypAEm8jyZSvKc1fHSPKIIkFPCL7xRAEphbNOlVXMAPObuOJCFS5eyKCIIkFPAZnLA564OxW4tLuQZyU9Ao3yzzyYzfjSJHb5yKJFCFKOtsBdItACQBQBIAJAEAJAFAEgAkAUASACQBQBIAJAFAEoAlIjaej8pIYt5jI2G7QqCSPCwjyWPj+U22KwTE7aoiSUokgdD4+O6T5lR7TgtL8un9awPDsqb68DabGAJgzXg+1O28VOHeM55vs30hAMx2nDnLjI0k5rXYsYomW2xj8DjV2pkq2nulJVGhaBi9PTPgtlpRi80NHgrSmooiu7p9l44k4w8zaxO1HCMKeCjIsVmLRJbTwlpJomwTQcxJCxAFfBTEnJlmXbfraiTRoqTR2U0yTVEe6BwPwOUa5MGUIJ2sHi2TRoGVttXDwdSvhzol69vaCVCjGCKEtNPNqSJ9Ikgvz+c1Cn4JCV9HM76AIBFHLP2a3QVz5qpapG0mM/421CnWIO+HNkrauhVx7gTcRjIbOY2xXzTLaZT9BkqWWIe2jXMiC8AikMhxWEaOyiSZIUyCLLBAJJ0a2Jz/AAAAAAAAAAAAAAAAgIv5vwADAJ23eEoJ08nrAAAAAElFTkSuQmCC",H2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMkAAACtCAYAAAAao1tJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACOtJREFUeNrsnU1u4kgUgIvR7IdldkNOMOQEDSfoZNlSS4ETQE4AOUHICUJLLWUZ+gTQJwh9gnh2vRvmBJl6ybPaMPyUXTa47O+TLBABHOz6/N5zVdnGAAAAAAAAAAAAAAAAAABsoVHEl37+9LNpH9psXjgyy6+PZ6tSSqJS9OzywS4duzTZX3BCFnb5ZpeZlSY6qSRWjpZ9GKkgAGVkZpdbK8vy6JJYQcb2YbAnasg/tWIfwRHp7PnbRGVZFS6JplZPW/4hCWv3Eup8rAXwzG7a2javt9TF0i67aUVpZBBkvrHySA2dsougZMKILHcb7XWloiyLkuR5Y4Uixk0RZxQAcpRFRBluHNgvXNvtbylXtCaIXUkfQaDs2DZ6Yx/6iZdaWjKY3CTRsDXcFITNDwGJMt0QpWPb9TDPSPKQLH4QBAIWZZZ4aaR1tp8k9ksuNTzFIAiETN/86pqIO8G9I8n1RprF6V0IOZqIIPeJlwZ5SHKZeH7PZoYKMEkW8dq3kk0SLdhjIqIIVCiaLJJFvE8kSX54weaFCvE98fxP33Qr5m+2K1SIZFbU9pEkaRidhlAlnNvzIUlaO8wDqA2/sQkAkAQASQCQBABJAJAEAEkAkAQASQAASQCQBABJAJAEAEkAkAQASQCQBACQBABJAJAEAEkAkAQASQCQBABJAABJAJAEAEkAkAQASQBKzO9V+BGvr69yX8ePZv1WEeCG3KdD7vo0bTQa3IOmapJYOXr2YYQc3shB5s5uT7nh5i2yVCTdsjv0wT48IEiuDO0yt9u2zaYIXBIVpMfuK4Q2ogQuid15QwQpnCaiBCqJ3WlNrUEAUSjcd9DTnbcPuQEqhacbHUdRuraYXyJJGHw8IMeV3ZkRbT9VZL47kL7WXpTQapJdoV8iRxdB0iGneu3St0+npF7VkWRXqrXk3L6XLIhSoXSrdHx6+dky7301HY1oy8fzs0WIolgBDKkXkuQph0gx2lb82r8ZPTLfWmEiRCHdqqMgUuzOzf6zQ9LQnu17L0m9kKSOggxT1FBPGnVyRwZ22uXl9Z1/7DJGFCQpQ4o1zPBREaWZoxxNuzzJ95pfY9feOloRBUlOzV3GzzUzyrU1etiHF/M+cncb16ReSHKqKCKNwKchXHvKIdHjTqPHvqjUokZBklPhW1e0sqZctvHJup8do9GMYh5JTkUeNUU7pRxx9Jg7Rgjpp7kt4sfXWRQkKSna0OYpahnps7gosu+irqIgiTtRDt+xdBRkrOmVa0OTKbcXxxi7VkdRkMSdha8gj+dnq0PRwy4ixyiFdCLH+Jgbom6iIIkjOrzER5QvBUWPkwwNSSlKC0nqQ9aiONrVoKQB2WWeInpEp4genqI86dwVJKlBNJFI0k/5MUmxrralWjpfX6JHx/G7JkUX5wWJ0jY5daYiSRiiTFOIIkf9rv3Mckf0uDNup5bfvsc2yJsyzptxFGUQajRBkuyinO9pGJGmZhdbBOlljB6LMm8TB1Gaxr9D9iQwn8SvkJeG0d8Y5bvaFEPlkEYi1wtzHTovEaNvG98slG3iMB9F0q4ZktS3VtmJDkp8MO699jMVJMQpyTd7JPlAJIHaRY8t0WSl0aQyIElxgkgKdmjEbhKJRlehX9BCf/e+gwCFO3KsDUp0EUQajpy16lZAkPg6Xrv4QSRBkI5Jd6X7haZXchIgvvLKQAvcTkIied83PatWZkHmZv+IgSDTSCJJfo0k7ZD2OHrEgozN+4zDoVk/VdrUmubBvudFJ3+FKMgi1KurIIl/A4kHJaYZ0i5yTOIXbMOX6OMyLEUEnJfpCiyOggi3oe5jJPFrIHL09xqUqFdf6aVYbVOjSisgQSZl7wylJikgemjt4SrHUmuPtXRDG3qWMU3xqeVuAILIvRhvQt7fRJL0jWNo8hvS7nOvlc6poklKQfqh73MkcW8YyUGJLkRae4z3vMe3trhEECQpiyA9U8ygRN9RsU0EoSYpgyDxuCvX6NEPuUhFECJJFgaO75uZAIa0e3BXR0GQJB/eZh7axpFl3FXkue7oGD/Q8ZbgiyoKgiTuEuyLHuceo3a/eP5vs5II8na/yqo2ACQ5zO0WUXyix1p6YrKPjJ0cukTREQXpVvl2fEhyAO3fuFBZFvp4kcecD53dmKWjLTIFD/NAkF9wdstNFGmU4yK+W0b2aqdgmksKXRUZRRCESFI6bIMfa05/qBCX9Oxi2xx6BCGS1EEUSd9mOsJX5oK3E/XPd/lb0TcpRRAkCUqWY68XQaqfbrXQC0GQ5NeO2iqJ7mhAkNqnWwuze2hET+d5fKPpO/PRHB5qUmtBQpTk3uyfpOR7809AkLDTLe2vmNJ2j0I8qmBV9w0RYuEuPdQRbbhwQbrHuL0ckhQTTd6OcCbQqwEGQKSCLNkU4UaSeDzVufG/jyGsE8+JQZDQJYkjilzczbxfMWRKZPFKraYaPahBthB8j7vOBJSlr1NMObvlzhIpaiDJlnqFFAxItwCQBABJAJAEAEkAkAQAkAQASQCQBABJAJAEAEkAkAQASQCQBACQBABJAJAEAEkAkAQASQCQBABJAABJAJAEAEkAkAQASQCQBABJAJBkC002FyDJ//meeM7NcQBJDvAHmwsqRPKgv/KRZEkkgYryV+L5j7wk6Xz+9JO6BKrCZeL5IrMkXx/PIvN+X++YHtsWQsce7EWQ+IC/su08uyTKfeL5gGgCFWCQeD7Lo3CfJgqbll2GbGMIOIpI++0kXrr1lsSGotVGNBnZFXXY3BCgIHLyaZQMAFpSeEcSEWW8UcQ/6QoBQhFEyoSHZC1ilxuXz6bpJ+kn0i5Z0ZyIAgFFkGez3o3R1yzpII2UK+upjWYjp5u4rhDgBDXIyKwPqxJBpq7f0ciw0suNsCVIXvcFWaBEqdWlytHazIjSCJJJkkT4ejDbe+GldlnY5V92F5yAD2b97JVJ1CBXh/pEcpMkIYsU9APDCGEoNxMpC7JmOQ3ftWtok1rl2jC+C8pDXAI4neYtVJINYVoqCrLAKeVY+IoBAAAAAAAAAAAAAAAAxvwnwABPIKXbMU6QDgAAAABJRU5ErkJggg==",G2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMkAAACtCAYAAAAao1tJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABYhJREFUeNrs20Fu2lgAgGGnmv2wzG7ICUpPEOYEpctKlRpOkHCCNCcIOUEYqVKWSU8QeoLQE5TZdem5wbwnvUwdDwnGNgnQ75MsEKkfyPjn+YU0ywAAAAAAAAAW2FvHoB/e/+iEm57DyzObfb7azzcykhTFUdgOw9YPW8f7xQuahu1L2G5CNPMXjSTE0Q03pykQ2EQ3YTsLscyePZIQyKdwc/zErBFfVO494hn1n/jZOMWSrz2SdGl1veAFxWntIk51TaqFhlc3vXRuflywLo7n5Z+rhrJXI5Db0pPPU6ETbxEbFkyM5bx0vuYplNm6IrkrPWEMY7SO3yhAi7HEUE5KH+xvqp63r1Z8ogeBhCcZCoRNF87RUbgZFh7qpiVD1lokado6KQfi8LNFoUxKofTDeX3S5kxyWVz8CIQtDuWm8NBpWmc3iyQMMkjT0z2BsM2G2c+vJu6/BG88k3wsXWb59S7bPJvEQC4KDx23EcmgcP/CYWYHjIuL+PTdSr1I0oL93twswg7NJtPiIr7JTFLceerwskO+Fu7/0fRy697fjis7pHhV1GsSSbEwXxqySyqfz8si6T5SHvwyXjkEIBIQCYgERAIiAZGASEAkgEhAJCASEAmIBEQCIgGRACIBkYBIQCQgEhAJiAREAogERAIiAZGASEAkIBIQCYgEEAmIBEQCIgGRgEhAJCASQCQgEhAJiAREAiIBkYBIAJHAMr85BKt7//1HN9wMwvY6bPF+HrZvYbu5OtifbeCYh2HrtDGmSFh20sUT7TxsRwt+HE/G0/BvpuF2VPUkTCfyedq/zTEvw9ZfMuYwjDn3zrrcaiuQXrj5/kggRfHEvAv//qjimHePBFIe83bFMfsVX2fPuyuStmaQ23TJUtVl2K+/5NN+lTE7aczekkBWHfNWKCJpw/mKgfwXypKf1RnzuuXX2VnyOkXiEFS6vj+quXt30SVS+uTutzxmv8GYvbD/wLstkrqanjxvn2nMt2sYE5FUcthw//4axuxVfGylGcpbLZK6Oi+8/3Od0CIRyU7J1zDm3GEVSV1Nv5meruGEnK0hnNxbLZK6vq7hhP7ScMwvzzQmIlnu6mD/puEn/0XLY8ZP/MmCx28azAZ52h+R1Dasud/ZE38bNWowZr4gvLzB6xwtGhORrDKbTGucgJOw36clM1SdMcdLxhzXGHPiXRZJG6HEE+ldxUua+Gk/rDjmsOUxRxXHzNMMMvTuiqTt9clBulSaLligx0/xg6dmkEdCWeeYswVjnoXtzVOzEj/5/ySrh5KnE3f8q41pJgFEAiIBkYBIQCQgEhAJiAQQCYgERAIiAZGASEAkIBJAJCASEAmIBEQCIgGRgEhAJIBIQCQgEhAJiAREAiIBkQAiAZGASEAkIBIQCYgERAKIBEQCIgGRgEhAJCASEAmIBBAJrD+SjsOFSP7va+F+z+FCJE/73eFihxQ/9PMmkczMJOyo14X739qKpP/h/Q/rEnbFoHB/WjuSz1f783AzLzx05Niy7cKHfQzk/gM/D+d5/UiSi8L9Y7MJO+C4cP+mjYX7pLCw6YbtxDFmi2eReP72Cw+dNY4kTEV5aTY5DU/Ud7jZwkDiL59OixNAWlI0nkliKJ9Ki/jr9ISwLYHEZcJlcS0StlGVfVf5nmRYuOyKT3RrRmGLZpC77OHXGMN0lbTU3opPdpRqzErXdOOqTwgvsAY5zR7+WVUMZFJ1jL0aTzooTVtRvK77Syxs0KXVIMXRLV8RrRJIrUgK09dltvhb+Lh2mYbtH28XL+Awe/jbq6ywBnm37DuR1iIpxBIX9MeZvxBms43jsqDuVc5e02dPU1tcq3zM/H0Xm+N+CVDp17xrjaQUTDeFIhZeMo5p0zAAAAAAAADIsn8FGABNZ6P6VOv+OAAAAABJRU5ErkJggg==",Q2=()=>u.jsxs("section",{className:"section-three",children:[u.jsxs("div",{className:"icons-container",children:[u.jsx("img",{src:z2,alt:"musica"}),u.jsx("img",{src:F2,alt:"series"}),u.jsx("img",{src:q2,alt:"diseo"}),u.jsx("img",{src:H2,alt:"descuentos"}),u.jsx("img",{src:G2,alt:"mas"})]}),u.jsxs("div",{className:"info-box",children:["msica y podcasts, pelculas y series,",u.jsx("br",{}),"edicin y diseo, descuentos, obsequios...",u.jsx("br",{}),"y ms."]}),u.jsx("p",{className:"line-text",children:"Olvidate de pagar una por una."}),u.jsx("p",{className:"highlight-box",children:u.jsx("span",{children:"Con Simplia, lo tienes todo, por mucho menos"})})]}),K2="/assets/Beneficio-bonos-especiales-CJjCdl3I.png",J2="/assets/Beneficio-descentos-exclusivos-CCuydMHM.png",Y2="/assets/Beneficio-obsequios-extra-CxtVQbhn.png",X2="/assets/Beneficio-suscripciones-sorpresa-Cm87JS3T.png",Z2="/assets/Simplia-bonos-mobile-DTULxOKr.png",W2="/assets/Simplia-descuentos-mobile-CX8jHqZP.png",$2="/assets/simplia-obsequios-mobile-DziPYaWE.png",eO="/assets/simplis-suscripciones-mobile-C2AaIorQ.png",tO=()=>{const[s,e]=O.useState(window.innerWidth<768);O.useEffect(()=>{const a=()=>e(window.innerWidth<768);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const n={card1:s?Z2:K2,card2:s?W2:J2,card3:s?$2:Y2,card4:s?eO:X2};return u.jsxs("section",{className:"section-four",children:[u.jsxs("h2",{className:"section-title",children:["Y si adems de pagar menos... ",u.jsx("span",{children:"te damos ms?"})]}),u.jsxs("div",{className:"cards-container",children:[u.jsx("img",{src:n.card2,alt:"Descuentos-Exclusivos"}),u.jsx("img",{src:n.card4,alt:"Suscripciones-Sorpresa"}),u.jsx("img",{src:n.card1,alt:"Bonos-extra"}),u.jsx("img",{src:n.card3,alt:"Obsequios-Extra"})]}),u.jsx("div",{className:"botton-message",children:"Porque aqui no solo ahorras, ganas"})]})},nO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZoAAABQCAYAAAAgArMFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACfFJREFUeNrsnU+MFEUUh3uN64G/e4AE0Agka2QviIEgJqIkeFAvLCSYcBBYrrKoN9kLN/CogFdBPJBIApzkIoJgohKJGy9LspugJiKJexgUvXixfs009s7W6+7q6Vl2pr8vaSYZerqrq2rfr957VdVRBAAAAAAAAAAAAB76qrjIntt3h93HK+7YQJUCAHQ9X7vj4tm1K8YfudA4gXnXfRxxxwDtAgDQc/zsjhEnOFfnXGicwEhYLrhjG+0AANDzfOjE5r05E5qmyFyJCJMBANSJ005sRsr88LESvzmCyAAA1I79ztHY33GPxt1kW9ObAQCA+tFwx1rn2TQ66dG8Qz0DANQWpU6CvZpQoRmmngEAas2OjglNM2wGAAD1JlgLHqPOAACgkyA0AACA0AAAAEIDAACA0AAAAEIDAAAIDQAAAEIDAAAIDQAAIDQAAAAIDQAAIDQAAIDQAAAAIDQAAIDQAAAAIDQAADBnPE4VQBmmb/w467ul656J+pcsmtNy/Pvn/ejercnojxvjD7/rX7woGhgajJZtfp6GeoQkbdMK7YLQQBdz/a1D3u/Xj41GS4eeafv6v1y4FP3+5fXojjssdJ/VO1+Pj06Kjsoy9em56N7EZOZ5q17dGg3u251r3HS9X89fmvX907sePEsWPx097soxlVnvRc6xyhBKuswTJ09FEyc+Kfzb5c16WvbC89Gq7S8F9xuJi55DR1bbqF1WuiOvbgGhgXnGHx4vI/7j/+t+297LD+8fjf757W7uuTIuP7lj4uQn0dDBA7GRrxJd/9u3xwqVRdxpCqMM6MYPxqIFT67wnqfr+epPBje/TFPe36brvcg5VhlCKVLmvD6kTwlUXr2lkfCr3SU2RdtF99jkro+X09uQo4FMNCK+5jylooY9PbLVKP47JwpFDE9RL+by8IHgsiSG8/LwSK4HBOH1pvZVO6u9Q9taban+pX4GCA3UkJvOiwkJu1gj12t7D7UtNhIZlacdVAaVBbEpV2++Nkz+LyucWmhA4/pZu+0LCA10GUmcvQricJob7ZZFobuqjFCW0YR8D7WVB7mnyXnX52B+QY4GZqFwRpYwKMm/avvWOFGs2V1/u/NlbDSqtcJaMiCrd71eKhb/Q47IKKGsvMTCZh6hMTEVT1owc1ZNo6ncQzeg+h5YVzwpXySfUso7vXw92tjirWYJg8qhpL/6idpG7RL3E3cdS+jVLupbcz17ERAamGMUxrAMgQzHxmNjMwzBMv3jjP36sUOxoVBS2BKM1746FzzKtcRLBuzFj4/OMqwSM01CkCf0rZEj0nWHRg90zChXiURm62fHK72mnn3o4IhXhKfOnPOGTOPpyk4o0jPpQq6fDDLWN3M63skRXTYIgGIQOoNZf+gacfrQDKQtzrBnjTYlNjIylqcUGmaxREvG7uUzxzOFQoZN59jX/pwG93hPEojlhueZzJKTiFsDAEvE0veQcFr3sPofIDTQI2iUaXkzRUeZMjKWAITE4JMRtI/nxkYLhVckSJbwpRd5wkzyPD0r+a/fZYlMkf4UD3a+RGx6CUJnMIN7t6a83ysPEhJmknH3JfB9ixbtskyaxiwk16Oy+0JB3TL7rOHqwVqM66PdMFuWV7vgyZWZ7WiJutWOahvf4EP9UGFaQGigB5n+3p9AD10EOLBu0PSYintXfo8j1ADJoMmz8QmLQkDzfbGgDH8VCzlb23nCJ+4Tk6ZXq1BXMtiwyrM8sC7jfI9HaOJ+WNAzAoQGeoSFgUnzKra8sehfsjj4N08sZhZTq+CHitfQaL7hD51coVmL0PuQowGAXDayTQwgNFCdt7DIGAGHJc6njdFyyIjXOrdMbqVh5ntW0ug5/UEi07r5pdVPpgO9JKtfdcO0cygOoTOYgUJevhk/+m4oIGZuzRpaGGDYrXCdrq0cQtrYPVgI+M1MY7h40cP1NNZMum4waHHSfNcbj0Rktl885a0jre3xhd7UNiGejzl77SkGAAgN9CzaGt6aoVU0cZ5sFe9jZUAiX/eSsfOJhHYJ1pqdtEBqY8ZWw6VyW+s90pMK+o0cTp7AZiXq+yvKC0mchypOjCtpn57g8cv5L2bVk56t4erPJzRqR99zxwthDx4oNPVc/cnyTtUPoXcgdAazPBprlK9V9nlhq7y9xEJnjGk7Eh9ayNkqZtqxoHUSgs6xhCAtelZSOhFYC62iz6rL+YpERuL18DCmJVur/612LLqXXPK6B8uDm891BwgNeNAeUzKWeUciIpbRSYyIjLzPkGj0n7WlfOhanKyyCK3TuZl6T45G0S/m7FyQNmbpvEPiPVkC6xOb+P0rxu7W3bYGRHXhM+6qW98W/q311yoi6ge+sFi8xY2rtywxClmLA90BobMaUHTnZIVTtNhPBsR6e2WyF5WO9JoJJduzRrHx1iYlDIgMmvIs1lY0yY6/Oi8k/5MOuyUM7nvT3ONL70xJ3yPveat84Zs8svPPFheupB1D0W4L1zwLQ7VVj2+QoPa0NsiUQGk/s9YNQfOmVCdvaAU8GqgBm44dzvUMkrUYWdvWpA172cS7Yv55oZTk7ZRFyiJD5vM4BvfuznzmoveI8x9dOBVYZfYtuNSz+gRY7ekT7NbfpvtJFqp79TtAaKAmJJtWVrFdu296bAgqg8pSRdxe17KMY3Kfdq/fzTsPW4sy5TX6wodq1yqet8o2BoQGulBsynoi1hqMdgxRu7mPvGS1nnlLwTyPb4TfTn3NZ69GTJw4ZXqIaueyg5Kk3hAZhAZqLDZaS6F4fIghkfHR76qMt+v+EgEZtXaMuXJPNw/bL1OTmKnsIaKWPG8vGMv1Y6Pe7xX6sqatl2nvJG/XK/UGNn1FT9xz++4293GFKpu/+GYHhY4sswxFsquvNjxs3JqaMVlAvx1wxkIjYhnouRjVa1bTg9lyUzPi/0kCWlN4tR5D71DxJbmLhH2Ul4nDRvEz/z8BILmHpkgXeV7rBW7pJPt0nMdo/9UF6Xa0rrl884bMPJJV3mQRbF6dJW3TaFnHFL+Vdd1gs214k2a3cnbtir6Q8xEaqAUSxeSlXTM8NicWGDuAzgoN05uhFhCaAXh0kKMBAACEBgAAEBoAAACEBgAAEBoAAEBoAAAAEBoAAEBoAAAAoQEAAEBoAAAAoQEAAIQGAAAAoQEAgJ4WmnGqCwCg9vzcMaE5u3ZFA7EBAKg9Fzvp0YiPqGMAgFoTrANBQuO8mtNl3CYAAOgJTjsdCNaAMpMBdrqjQX0DANQKCcx7ZX4YLDROzcabN0NsAADqIzI7m7n6YPrK3nXP7bsb3Mcpd2ygDQAAehYl/0fKikxbQpMSnP3uY4c7hmkPAICeoNEUmE+dwFxt92J9VZbMic4a97GGNgIA6FrG2/FeAAAAAAAAAAAAoDD/CTAAocfK4qGsMNMAAAAASUVORK5CYII=",CE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZoAAABQCAYAAAAgArMFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACe1JREFUeNrsnUFwFMcVhgcbARaxgx2ocELKzeJEGV8F3IJPBnyiSk7BhfhmSE4hcfngxL65nJuDDyG2CCfAN9snG3R1qjihHBEnqqQ4CkQysbCd/ne3i9Fuv5nu2VlJu/N9VVNbtZqd6enXen93v9c9WQYAAAAAAAAAAAABttVxkZnT90+4j6PuOESVAgAMPTfd8ens1f23N11onMCcdx9vu2MPdgEAGDnuuuOsE5yvNlxonMBIWG644xh2AAAYeT5wYnNhw4SmIzJfZkyTAQA0ictObM5W+eFTFX7zNiIDANA4zriBxpmBj2jcTY51RjMAANA8lt3xCzeyWR7kiOZN6hkAoLEodJI8qkkVmhPUMwBAo3l1YELTmTYDAIBmk6wFT1FnAAAwSBAaAABAaAAAAKEBAABAaAAAAKEBAACEBgAAAKEBAACEBgAAEBoAAACEBgAAEBoAAEBoAAAAEBoAAEBoAAAAEBoAANgwtlMFUIWpgzt6vlu4u5atrv64oeUYH9+WTUyOZVNTT8qzsvpDdm/hcTZ/5zsMtYl423SDXRAaGGIuvvV88PsrHz/MFpzj7ZfpI89kh1/e2TosdJ+5W99mcze/HajoqCy/fGU8m5gobsL/+Pp/2Refr5Y6N11v+uiunu/nbj5qPU8RM68/mx2Y3F5Y7zHnWGVIJV/mU6/9JDv52u7o387Pt+vpn3fWXN09Sm43Epfpo8+0nqXINrKLjrK6BYQGttooY2pH+J9/d38zpBq9nPv1c9nefU+XnivnMuGcqhzc9Wv/zb74bLXWZ9T1z/9mT1RZhBdGOdBLHz7Ilha/D563z10vVH9yuGVIQEK/zdd7zDlWGVKJKXNZG9KnBKqs3vJI+GV3iU2sXU65e1z6ywNGOSMOMRooRI7j4h+ej3bs+Z6tevEShRjHEzuK+eN7P0sui3ecf3K/LRsBQXq9yb6ys+ydamvZUu1L7QwQGmgg5954Lmnaxeq5Xnzrhb7FRiKj8vSDyqCyIDbV6i1kQ/+3ounUGNTO+rUvIDQwZLTiBe6oAzn2mV89W71Xram7mpxQkdOEkhFqwIb6ri7hrrPNwdaCrh30oOmMImFQkN8HipXdtXfv0y1no16tNa0lBzJ361GluXjFh4pQQHn+zlq2tNSOIxzolMWMWXWcpmIPw4Dqe2EhPu6yGBFPqTY6VaLCg3Wj1SJhUFxHAX+1E9lGdmm3k12m0Msualsbnb0ICA1sMArQWo5AjuPSh//pcQRz7pj95GFrnl5BYUswLry5lNzLtcRLDuyD95d7AtUSMyUhaCRkxYh03evXVqKC3JuNRObdd/5d6zVvuGdXskZIhI+/sjs4ZdpKV3ZCkc+kS7m+72SMjz/Mzv92Tzg5Ysg6ARAHU2fQ84/e7rn2ogwkOfai3qbERk7GGimlTrNYoiVn9+473xQKhRybzrE4fnwcgwdGTxIIn+bc0z46WXIScasDYIlY/h4STuseVvsDhAZGBDkQazQT28uUk7EEIGUO3vegQ1xxghYzvSJBsoTvxYM7MLhB2Ujv8OGd5u+KRCamPbU7OzsxwgjB1BmsY2JiLPi94iAp00yalgoF8EOLFs2yTI6Zziwl1nPLlT00FTQs2WeyibUYN0S/02xFo1of/7HseN0QdcuOalehzoeeWdO0gNDACPLiwbBzn09cBHjPCF6nLEi0zk11QHJoGtmEhEUjuK2+WFCOv46FnN12PpX1rl1RwN4a1Wqqy3c2rPJY02FFI85pqx1e4/8RoYFG4TO6UhzIoKiSkbS6+gNG7BLxVPG6ETFaSU2uuDfAdgJbB2I0AFCK4ilsEwMIDdQzWlj50ewBJ/WYjUB7So/XWg9yoEJsxYo9LQ5BevOmtgc3epTIdG9+aY0qpxITLKx2tYRdRgqmzmAdmsoIZfy85L6LzSYSVlbSYsIUnDVdp/IphpB3dn4hYB69LsCvp7Ey6YbBobWD5o82RWR+/7t/BetIa3tCIiG7p4x8XnrZyl5jqhOhgZFFq7KtDK3YwLnfKj58/fhAvu4lZxcSCW3CqDU7TxzfY1fu7T0iqXJb6z3yZVkxYjhlAlsUqF9dqcdZSpxTRD6qbue/W7fL8/SRXT315NPLQ0Kjugs9t+yussbE0dSerMw/tUMYHZg6g66e6mOzl69V9mUpwWV7iaVmjFkORws5u9NitWNBdxKCzonJXrOC0l5gLbSKvqgutyoSGQnCkyMc6LdW/1t2jN1Lzr/uwRrBLZAkgNDAcOFTVssOLyKW0/FORE4+5Eg0mijaUj51LU5RWYTW6ejwPXH1ost2Lsg7s3zcwY+eLIENiY3qwdrdetjWgKguQs5ddRvawr+7/rpFRO0gNAWrdqN6KxKjlLU4MBwwddYAivak6p5O0WI/ORDr7ZX+PTM68msmFGwv6sW2tzZJdyByaIqzWFvR+B1/dV5K/Cc/7ebRfaw9vvTOlPw9yp5Xb/WsC43IPvn7z6PP93ZMRbst6DlDgnor0EmQPa0NMiVQEujuDUHLkkr8G1qBEQ00gI8CG2eGHKA/yqZKZj9+WDnwrqmdsqmUvZ23U8aURY4sNOL4/LOVwmeOvYcc/TCmAqvMoQWXetZTAQGWPWXXInwMK2bdjupe7Q4QGmgIftPKOrZrD6XHptDehPGbWubtdS3LOfr79Hv9Yd552FqU2Yp1BaYPZdc6nrdOGwNCA0MoNlVHItYajH4cUb+xj7JgtX/1QBWBVT31U19beVQjrHiUF5uqnRJfb4gMQgMNFhutpVBPN8WRyPnod3XOt/tgv5xaP85csadzb/zU/LvETGVPETX/vKPgLK8YIz5NfVm7b1ext+ypdjUq9QY20e+znTl9/5j7+JIq27qEsoNSWCzIJPKjAQV/pw6OZQcmxtYlC/iUVPWG5aA3olfv36KpnYTz8/8+AK0UXqVH6x0qoSB3zLSP4jJHnHPVJo/5BAB/Dz1rzPPKQe8LrOfJB9lb2X81bJ6Zt6N1zbI4klVevwi2rM68bbrXMbXfyrrW2qSVN2kOL7NX9ye9Cx2hgUYgh+df2rVuxHZ3DWcHMGChIb0ZGgFTMwCbBzEaAABAaAAAAKEBAABAaAAAAKEBAACEBgAAAKEBAACEBgAAEBoAAACEBgAAEBoAAEBoAAAAEBoAABhpoblNdQEANJ67AxOa2av7lxEbAIDG8+kgRzTiz9QxAECjSdaBJKFxo5rLVYZNAAAwElx2OpCsAVWSAU66Y5n6BgBoFBKYC1V+mCw0Ts1ud26G2AAANEdkTnZi9clsq3rXmdP3D7mPv7rjEDYAABhZFPw/W1Vk+hKanOCccR+vuuME9gAAGAmWOwLzNycwX/V7sW11lsyJzqT7mMRGAABDy+1+Ri8AAAAAAAAAAAAQzf8FGACL1aSnmmNspQAAAABJRU5ErkJggg==",fg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATAAAAAmCAYAAABDA8fBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeJJREFUeNrs3D9uE0EUB+DdxBZtaFDoHIk+5gb4BqZMhXMC4ASpqQInwKnSmhMkuUFooIzLQOWOPwKZN8pSRrJnV97I+33S00hRZoqX0S8z65WLAgAAAAAAAAAAAAAAAOiAUgto0tHN7TiGYdRh1F7UVdQ8anZ+sL/QIQQYDzG4JjGcRA3u+ZUUXh+i3gsyBBgPJbjSKes0arLilOuokRCjCTtaQE0f1wivorpeXlTBBwKM1k5fb2IYZ0wdVsEHAozWnNSYO44AHGohdfRyJy6Xy7T5XAM66t23xfDzj1+1/v6Pd3dexz46081uK8vycmMBFhsubdqL6hpARz171C8iwGqt8bTfmxTrPT9jC0WmzGMYRZDNN3GFnAgvvv78XXuNLw2swVYY5P4jywkwH38DTcvKlbWvkHHMm8aR79AprNv6ZTko7n9pdSVPertp017rZuelq+N0IwFWhdhbPe+26hWK0zprfP/zdxZ76Vg3yeU1CnLNGljjShsRYGzc+cF+9rH//7Uh1pjqJAKMtqRHCbkf6rzUPgQYbZ7CUniNMkLsOOZ6eI8Ao/UQS0H0POpylWtjcfdNFK6ONMLX6dCYo5vbFzG8ikrjoPrxogq3T4ILAAAAAAAAAAAAANgK/wQYAOpxalBLtUxgAAAAAElFTkSuQmCC",sO="/assets/Plan-simplia-esencial-B99pznet.png",iO="/assets/Plan-simplia-conectado-DetFygli.png",aO="/assets/Plan-simplia-total-Cgo3GSya.png",rO="/assets/boton-cuentas-completas-Bsm4VBZB.png",Om="/assets/boton-obsequios-0VqWQQvf.png",oO="/assets/popup-obsequio-conectado-u5APigu_.png",lO="/assets/popup-obsequio-esencial-DucPmM2q.png",cO="/assets/popup-obsequio-total-Dwn1eG3b.png",uO=({type:s="success",title:e,message:n,code:a,onClose:o,duration:c=5e3})=>{O.useEffect(()=>{if(c&&o){const p=setTimeout(()=>{o()},c);return()=>clearTimeout(p)}},[c,o]);const d={success:"",error:"",info:"",warning:""};return u.jsxs("div",{className:`toast toast-${s}`,children:[u.jsx("div",{className:"toast-icon",children:d[s]}),u.jsxs("div",{className:"toast-content",children:[u.jsx("div",{className:"toast-title",children:e}),u.jsx("div",{className:"toast-message",children:n}),a&&u.jsx("div",{className:"toast-code",children:a})]}),o&&u.jsx("button",{className:"toast-close",onClick:o,children:""})]})},AS=({distribuidor:s,onClose:e,onSubmit:n,planPreseleccionado:a=""})=>{const[o,c]=O.useState({nombre:"",telefono:"",email:"",producto:a||""}),[d,p]=O.useState(!1),[g,y]=O.useState(!1),[A,b]=O.useState({}),S=V=>{c({...o,[V.target.name]:V.target.value})},N=()=>{var Z;const V=((Z=s==null?void 0:s.id)==null?void 0:Z.toUpperCase().substring(0,3))||"SIM",H=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${V}-${H}`},L=(V,H,Z,q=null)=>{b({type:V,title:H,message:Z,code:q}),y(!0)},U=async V=>{V.preventDefault(),p(!0);try{const H=N();if(await sg(jt(De,"leads"),{distribuidorId:(s==null?void 0:s.id)||"default",codigoUnico:H,nombreCliente:o.nombre,telefono:o.telefono,email:o.email,productoInteres:o.producto,fechaHora:new Date().toISOString(),estado:"pendiente"}),s!=null&&s.id&&s.id!=="default"){const Z=ct(De,"distribuidores",s.id);await ds(Z,{"estadisticas.leads":cd(1)})}console.log(" Lead guardado con cdigo:",H),L("success","Registro exitoso! ","Redirigiendo a WhatsApp...",H),setTimeout(()=>{y(!1),e(),setTimeout(()=>{n({...o,codigo:H})},300)},2500)}catch(H){console.error("Error al guardar lead:",H),L("error","Error al procesar","Hubo un problema. Por favor intenta de nuevo."),p(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"modal-overlay",onClick:d?void 0:e,children:u.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[u.jsx("button",{className:"modal-close",onClick:e,disabled:d,children:""}),u.jsx("h3",{children:"Hablemos! "}),u.jsx("p",{className:"modal-subtitle",children:"Completa el formulario para continuar"}),u.jsxs("form",{onSubmit:U,children:[u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"text",name:"nombre",placeholder:"Tu nombre completo *",value:o.nombre,onChange:S,required:!0,disabled:d})}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"tel",name:"telefono",placeholder:"Tu WhatsApp (ej: 3001234567) *",value:o.telefono,onChange:S,required:!0,disabled:d})}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"email",name:"email",placeholder:"Tu email (opcional)",value:o.email,onChange:S,disabled:d})}),u.jsx("div",{className:"form-group",children:u.jsxs("select",{name:"producto",value:o.producto,onChange:S,required:!0,disabled:d,children:[u.jsx("option",{value:"",children:"Selecciona un plan *"}),u.jsx("option",{value:"Plan Esencial ",children:"Plan Esencial "}),u.jsx("option",{value:"Plan Conectado ",children:"Plan Conectado "}),u.jsx("option",{value:"Plan Total ",children:"Plan Total "}),u.jsx("option",{value:"Cuentas Completas ",children:"Cuentas Completas "}),u.jsx("option",{value:"Otro",children:"Otro"})]})}),u.jsx("button",{type:"submit",className:"btn-submit",disabled:d,children:d?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"spinner"}),"Procesando..."]}):"Continuar a WhatsApp"})]})]})}),g&&u.jsx("div",{className:"toast-container",children:u.jsx(uO,{type:A.type,title:A.title,message:A.message,code:A.code,onClose:()=>y(!1),duration:null})})]})},hO=()=>{const[s,e]=O.useState(window.innerWidth<768),[n,a]=O.useState(!1),[o,c]=O.useState(null),[d,p]=O.useState(!1),[g,y]=O.useState(null),[A,b]=O.useState(!1),[S,N]=O.useState("");O.useEffect(()=>{const j=()=>e(window.innerWidth<768);window.addEventListener("resize",j);const P=I=>{I.key==="Escape"&&(n&&R(),d&&D(),A&&b(!1))};return window.addEventListener("keydown",P),()=>{window.removeEventListener("resize",j),window.removeEventListener("keydown",P)}},[n,d,A]);const L={esencial:{title:` Plan Esencial
PANTALLAS`,subtitle:"Disfruta de tus plataformas favoritas con un plan diseado para uso personal, sin compartir y sin complicaciones.",sections:[{title:" Netflix  Plan Bsico",items:[" Cuenta propia (no compartida)"," Incluye correo y contrasea"," Disponible para uso en Colombia"]},{title:" Disney+ Premium",items:[" Acceso premium mediante activacin por enlace"," Exclusivo para Smart TV que generen cdigo de activacin"," No funciona en dispositivos sin opcin de ingresar cdigo"]},{title:" Bonos y Obsequios Incluidos",subtitle:"Con tu Plan Esencial recibes acceso gratuito por 1 mes a:",items:["Canva","Crunchyroll","Deezer","Canales deportivos seleccionados","Luego del primer mes, cada plataforma tiene un costo de solo $2.000 COP."]}]},conectado:{title:` Plan Conectado
PANTALLAS`,subtitle:"Disfruta de tus plataformas favoritas con un plan diseado para uso personal, sin compartir y sin complicaciones.",sections:[{title:" Netflix  Plan Bsico",items:[" Cuenta propia (no compartida)"," Incluye correo y contrasea"," Funciona en Colombia"]},{title:" Disney+ Premium PANTALLAS",items:[" Acceso premium mediante activacin por enlace"," Compatible nicamente con Smart TV que generen cdigo de activacin"," No funciona en dispositivos que no permitan ingresar cdigo"]},{title:" Prime Video",items:[" Activacin mediante enlace"," Solo compatible con Smart TV que generen cdigo"," No disponible para dispositivos sin ingreso por cdigo"]},{title:" Bonos y Obsequios Incluidos",subtitle:"Con tu Plan Conectado recibes acceso gratuito por 2 meses a:",items:["Canva","Crunchyroll","Deezer","Canales deportivos seleccionados","Luego del segundo mes, cada plataforma tiene un costo de solo $2.000 COP."]}]},total:{title:` Plan Total
PANTALLAS`,subtitle:"Disfruta de todas tus plataformas favoritas con un plan completo, personal y sin compartir.",sections:[{title:" Netflix  Plan Bsico",items:[" Cuenta propia (no compartida)"," Incluye correo y contrasea"," Funciona en Colombia"]},{title:" Disney+ Premium",items:[" Acceso premium mediante activacin por enlace"," Compatible nicamente con Smart TV que generen cdigo de activacin"," No funciona en dispositivos que no permitan ingresar cdigo"," Incluye 1 pantalla"]},{title:" Prime Video",items:[" Activacin mediante enlace"," Solo compatible con Smart TV que generen cdigo"," No disponible en dispositivos sin ingreso por cdigo"," Incluye 1 pantalla"]},{title:" Max",items:[" Activacin mediante enlace"," Solo compatible con Smart TV que generen cdigo"," No disponible en dispositivos sin ingreso por cdigo"," Incluye 1 pantalla"]},{title:" Paramount+",items:[" Se entrega usuario y contrasea"," Incluye 1 pantalla"]},{title:" Bonos y Obsequios Incluidos",subtitle:"Con tu Plan Total recibes acceso gratuito por 3 meses a:",items:["Canva","Crunchyroll","Deezer","Canales deportivos seleccionados","Luego del tercer mes, cada plataforma tiene un costo de solo $2.000 COP."]}]}},U=()=>{y(L.esencial),p(!0)},V=()=>{y(L.conectado),p(!0)},H=()=>{y(L.total),p(!0)},Z=()=>{window.open("https://forms.gle/JKk6RM1AByfaQWAb8","_blank")},q=()=>{N("Plan Esencial "),b(!0)},W=()=>{N("Plan Conectado "),b(!0)},ee=()=>{N("Plan Total "),b(!0)},he=()=>{c(oO),a(!0)},x=()=>{c(lO),a(!0)},T=()=>{c(cO),a(!0)},R=()=>{a(!1),c(null)},D=()=>{p(!1),y(null)};return u.jsxs("section",{className:"section-five",id:"membresias",children:[u.jsx("h2",{className:"section-title",children:"Membresias"}),u.jsx("img",{src:fg,alt:"subtitle-linea"}),u.jsxs("div",{className:"plans-container",children:[u.jsxs("div",{className:"plan-card",children:[u.jsx("img",{src:iO,alt:"essencial",className:"plan-image"}),u.jsx("span",{className:"conocer-mas-link",onClick:U,children:"*Conocer ms*"}),u.jsx("button",{className:"plan-button",onClick:q,children:u.jsx("img",{src:CE,alt:"boton morado"})}),u.jsx("button",{className:"obsequios-button",onClick:he,children:u.jsx("img",{src:Om,alt:"Obsequios"})})]}),u.jsxs("div",{className:"plan-card",children:[u.jsx("img",{src:sO,alt:"conectado",className:"plan-image"}),u.jsx("span",{className:"conocer-mas-link",onClick:V,children:"*Conocer ms*"}),u.jsx("button",{className:"plan-button",onClick:W,children:u.jsx("img",{src:nO,alt:"boton verde"})}),u.jsx("button",{className:"obsequios-button",onClick:x,children:u.jsx("img",{src:Om,alt:"Obsequios"})})]}),u.jsxs("div",{className:"plan-card",children:[u.jsx("img",{src:aO,alt:"total",className:"plan-image"}),u.jsx("span",{className:"conocer-mas-link",onClick:H,children:"*Conocer ms*"}),u.jsx("button",{className:"plan-button",onClick:ee,children:u.jsx("img",{src:CE,alt:"boton morado"})}),u.jsx("button",{className:"obsequios-button",onClick:T,children:u.jsx("img",{src:Om,alt:"Obsequios"})})]})]}),u.jsxs("div",{className:"cuentas-completas-section",children:[u.jsxs("h3",{className:"cuentas-completas-title",children:["Ests interesado en Adquirir ",u.jsx("br",{})," Cuentas completas?"]}),u.jsx("button",{className:"cuentas-completas-button",onClick:Z,children:u.jsx("img",{src:rO,alt:"Cuentas completas"})})]}),n&&u.jsx("div",{className:"popup-overlay",onClick:R,children:u.jsxs("div",{className:"popup-content",onClick:j=>j.stopPropagation(),children:[u.jsx("button",{className:"popup-close",onClick:R,children:""}),u.jsx("img",{src:o,alt:"Obsequios",className:"popup-image"})]})}),d&&g&&u.jsx("div",{className:"popup-overlay",onClick:D,children:u.jsxs("div",{className:"popup-info-content",onClick:j=>j.stopPropagation(),children:[u.jsx("button",{className:"popup-close",onClick:D,children:""}),u.jsxs("div",{className:"popup-info-body",children:[u.jsx("h2",{className:"plan-info-title",children:g.title}),u.jsx("p",{className:"plan-info-subtitle",children:g.subtitle}),g.sections.map((j,P)=>u.jsxs("div",{className:"plan-info-section",children:[u.jsx("h3",{className:"section-title",children:j.title}),j.subtitle&&u.jsx("p",{className:"section-subtitle",children:j.subtitle}),u.jsx("ul",{className:"section-items",children:j.items.map((I,Ee)=>u.jsx("li",{children:I},Ee))})]},P))]})]})}),A&&u.jsx(AS,{onClose:()=>b(!1),planPreseleccionado:S})]})},dO="/assets/Simplia-Netflix-BfGCCIE6.png",fO="/assets/Simplia%20Disney-BUoNVmSW.png",mO="/assets/Simplia-Canva-D7Wv-tQp.png",pO="/assets/Simplia-Max-4ut87NER.png",gO="/assets/Simplia-paramount-QQw9T0Bn.png",yO="/assets/Simplia-Prime-video-D3qYaKLd.png",vO="/assets/Simplia-Spotify-IfzURdBm.png",AO="/assets/Simpli-crunchyroll-LIIzTbFI.png",_O="/assets/GUIA-NETFLIX-CwuoS_O_.jpg",EO="/assets/GUIA-DISNEY-C60AzB2J.jpg",bO="/assets/GUIA-CANVA-98uTM0pA.jpeg",TO="/assets/GUIA-MAX-DSHTnqry.jpg",SO="/assets/GUIA-PARAMOUNT-HVyRomUf.jpeg",wO="/assets/GUIA-PRIME-Bq3HgGpL.jpeg",CO="/assets/GUIA-DEZZER-DC4oh814.jpg",xO="/assets/GUIA-CRUNCHY-C1dXOWlK.jpeg",RO=[{img:fO,alt:"Disney",guia:EO},{img:dO,alt:"Netflix",guia:_O,className:"netflix-card"},{img:pO,alt:"Max",guia:TO},{img:yO,alt:"Prime Video",guia:wO},{img:vO,alt:"Spotify",guia:CO},{img:gO,alt:"Paramount+",guia:SO},{img:mO,alt:"Canva",guia:bO},{img:AO,alt:"Crunchyroll",guia:xO}],NO=()=>{const[s,e]=O.useState({visible:!1,guia:null});return u.jsxs("section",{className:"section-six",children:[u.jsx("h2",{className:"section-title",children:"Modo de Uso"}),u.jsx("img",{src:fg,alt:"subtitle-linea"}),u.jsxs("p",{className:"section-subtitle",children:["Como usar correctamente las ",u.jsx("br",{}),"Plataformas disponibles con tu membresa"]}),u.jsx("div",{className:"guides-grid",children:RO.map(({img:n,alt:a,guia:o,className:c},d)=>u.jsx("img",{src:n,alt:a,className:c||"",onClick:()=>e({visible:!0,guia:o})},d))}),s.visible&&u.jsx("div",{className:"popup-overlay",onClick:()=>e({visible:!1,guia:null}),children:u.jsxs("div",{className:"popup-content",onClick:n=>n.stopPropagation(),children:[u.jsx("img",{src:s.guia,alt:"Gua"}),u.jsx("button",{className:"close-btn",onClick:()=>e({visible:!1,guia:null}),children:""})]})})]})},IO="/assets/Paso-1-simplia-CNwkSQa4.png",jO="/assets/Paso-2-simplia-IWYzd_aX.png",DO="/assets/Paso-3-simplia-BwaNXl0x.png",OO="/assets/Paso-4-simplia-BpEG9Fz8.png",PO="/assets/Boton-ver-membresias-BGYUaf0c.png",kO=()=>u.jsxs("section",{className:"section-seven",children:[u.jsx("h2",{className:"section-title",children:"Como adquirir tu membresia"}),u.jsx("img",{src:fg,alt:"subtitle-linea"}),u.jsxs("div",{className:"steps-grid",children:[u.jsx("img",{src:IO,alt:"paso 1"}),u.jsx("img",{src:jO,alt:"paso 2"}),u.jsx("img",{src:DO,alt:"paso 3"}),u.jsx("img",{src:OO,alt:"paso 4"})]}),u.jsx("div",{className:"btn-container",children:u.jsx("img",{src:PO,alt:"boton membresia",className:"btn-img",onClick:()=>{const s=document.getElementById("membresias");s&&s.scrollIntoView({behavior:"smooth"})}})}),u.jsx("img",{src:vS,alt:"Decoracin inferior",className:"hero-divider"})]}),Pm="/assets/usuario-CLIOWyOi.png",MO=[{nombre:"Laura G.",comentario:"Gracias a Simplia, ahora tengo todas mis plataformas favoritas por un solo precio. me encanta!",foto:Pm},{nombre:"Carlos C.",comentario:"El servicio es excelente, y el ahorro es real. Totalmente recomendado!",foto:Pm},{nombre:"Diana R.",comentario:"Nunca pens que fuera tan fcil. me ayudaron en todo y funciona perfecto.",foto:Pm}],VO=()=>u.jsxs("section",{className:"section-eigth",children:[u.jsxs("h2",{className:"testimonials-title",children:["Estamos orgullosos de lo que nuestros ",u.jsx("br",{}),"miembros tienen para decir:"]}),u.jsx("div",{className:"testimonials-grid",children:MO.map((s,e)=>u.jsxs("div",{className:"testimonial-card",children:[u.jsx("img",{src:s.foto,alt:s.nombre,className:"testimonial-avatar"}),u.jsx("h3",{children:s.nombre}),u.jsx("p",{children:s.comentario})]},e))})]}),LO="/assets/Boton-quiero-mi-membresia-D8HgCY-q.png",UO=[{pregunta:"Qu plataformas incluye?",respuesta:"manejamos tres planes actualmente. Cada plan cuenta con un grupo selecto de suscripciones premium originales, que puedes revisar en la seccin de membresas."},{pregunta:"Cmo recibo mis accesos?",respuesta:"Actualmente, todos tus accesos y consultas los puedes gestionar a travs de nuestro WhatsApp, donde tenemos asesores disponibles para atenderte."},{pregunta:"Puedo cancelar cuando quiera?",respuesta:"No manejamos clusulas de permanencia en ninguno de nuestros planes. T decides si deseas renovar la suscripcin o dejarla vencer."},{pregunta:"Qu pasa si tengo dudas?",respuesta:"Puedes comunicarte con nosotros siempre que lo necesites a travs de nuestro WhatsApp."},{pregunta:"Cules son los regalos o descuentos?",respuesta:"Cada mes estaremos ofreciendo descuentos en diferentes empresas o franquicias para que disfrutes an ms de tu membresa, sin olvidar que contars con tus plataformas preferidas."},{pregunta:"Cuntos perfiles o dispositivos puedo usar por plataforma?",respuesta:"Cada suscripcin cuenta con una pantalla de un producto digital disponible para un dispositivo. Te recomendamos revisar las guas para comprender el funcionamiento especfico de cada producto."}],BO=()=>{const[s,e]=O.useState(null),n=a=>{e(o=>o===a?null:a)};return u.jsxs("section",{className:"section-nine",children:[u.jsx("h2",{className:"faq-title",children:"Preguntas Frecuentes"}),u.jsx("div",{className:"faq-container",children:UO.map((a,o)=>u.jsxs("div",{className:"faq-item",children:[u.jsxs("div",{className:"faq-question",onClick:()=>n(o),children:[u.jsx("span",{children:a.pregunta}),u.jsx("span",{className:"faq-toggle",children:s===o?"":"+"})]}),s===o&&u.jsx("div",{className:"faq-answer",children:u.jsx("p",{children:a.respuesta})})]},o))}),u.jsx("div",{className:"faq-btn-container",children:u.jsx("img",{src:LO,alt:"quiero mi membresia",className:"faq-btn",onClick:()=>{const a=document.getElementById("membresias");a&&a.scrollIntoView({behavior:"smooth"})}})})]})},zO=({distribuidor:s})=>{const[e,n]=O.useState(!1),a=o=>{n(!1);const c=`Hola, soy ${o.nombre}
Mi cdigo es: ${o.codigo}
Estoy interesado en: ${o.producto}`,d=`https://wa.me/${s.whatsapp}?text=${encodeURIComponent(c)}`;window.open(d,"_blank")};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"whatsapp-button-container",onClick:()=>n(!0),children:[u.jsx("svg",{className:"whatsapp-icon",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fill:"currentColor",d:"M16 0C7.164 0 0 7.163 0 16c0 2.826.736 5.48 2.014 7.79L.07 31.906l8.347-2.19A15.936 15.936 0 0 0 16 32c8.836 0 16-7.163 16-16S24.836 0 16 0zm8.256 22.817c-.343.962-2.01 1.764-3.286 1.997-.875.156-2.02.282-5.873-1.262-4.932-1.977-8.112-6.97-8.357-7.293-.243-.323-1.992-2.65-1.992-5.057 0-2.405 1.26-3.588 1.706-4.078.447-.49 1.12-.735 1.782-.735.213 0 .407.01.583.02.525.027.788.063 1.134.88.447 1.05 1.528 3.726 1.66 3.994.134.27.224.583.045.906-.178.323-.268.524-.536.807-.267.284-.561.633-.803.85-.267.242-.546.504-.234.99.312.485 1.387 2.286 2.98 3.704 2.053 1.826 3.783 2.396 4.317 2.665.536.27.848.224 1.16-.134.312-.357 1.34-1.56 1.698-2.096.358-.535.715-.446 1.205-.268.49.18 3.11 1.467 3.645 1.736.536.27.893.402 1.027.625.134.224.134 1.29-.208 2.252z"})}),u.jsx("span",{className:"whatsapp-tooltip",children:"Necesitas ayuda?"})]}),e&&u.jsx(AS,{distribuidor:s,onClose:()=>n(!1),onSubmit:a})]})},FO=()=>u.jsxs("div",{className:"not-found-page",children:[u.jsx("div",{className:"particle"}),u.jsx("div",{className:"particle"}),u.jsx("div",{className:"particle"}),u.jsxs("div",{className:"not-found-content",children:[u.jsx("div",{className:"not-found-icon",children:""}),u.jsx("h1",{children:"404"}),u.jsx("h2",{children:"Pgina no encontrada"}),u.jsx("p",{children:"El distribuidor que buscas no existe o ha sido desactivado. Verifica que la URL sea correcta."})]})]}),qO=()=>{const{distribuidorId:s}=Ow(),[e,n]=O.useState(null),[a,o]=O.useState(!0),[c,d]=O.useState(!1),[p,g]=O.useState(!1);O.useEffect(()=>{s?(y(),A()):o(!1)},[s]);const y=async()=>{try{console.log(" Buscando distribuidor con ID:",s);const b=jt(De,"distribuidores"),S=ma(b,Ps("id","==",s)),N=await rn(S);if(N.empty){console.log(" Distribuidor no encontrado"),d(!0),o(!1);return}const L=N.docs[0],U={...L.data(),uid:L.id};if(console.log(" Distribuidor encontrado:",U),!U.activo){console.log(" Distribuidor inactivo"),d(!0),o(!1);return}n(U),o(!1)}catch(b){console.error(" Error al cargar distribuidor:",b),d(!0),o(!1)}},A=async()=>{if(!(p||!s))try{const b=jt(De,"distribuidores"),S=ma(b,Ps("id","==",s)),N=await rn(S);if(N.empty)return;const U=N.docs[0].id,V=ct(jt(De,"clicks"));await Dh(V,{distribuidorId:U,timestamp:new Date,userAgent:navigator.userAgent,fecha:new Date().toISOString()});const H=ct(De,"distribuidores",U);await ds(H,{"estadisticas.clicks":cd(1)}),console.log(" Click registrado para distribuidor:",U),g(!0)}catch(b){console.error("Error al registrar click:",b)}};return a?u.jsxs("div",{className:"loading-page",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:[u.jsx("div",{className:"loading-spinner",style:{width:"50px",height:"50px",border:"4px solid rgba(255, 255, 255, 0.3)",borderTop:"4px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),u.jsx("p",{style:{marginTop:"20px",fontSize:"18px"},children:"Cargando..."})]}):c?u.jsx(FO,{}):u.jsxs(u.Fragment,{children:[u.jsx(M2,{distribuidor:e}),u.jsx(B2,{}),u.jsx(Q2,{}),u.jsx(tO,{}),u.jsx(hO,{}),u.jsx(NO,{}),u.jsx(kO,{}),u.jsx(VO,{}),u.jsx(BO,{}),u.jsx(zO,{distribuidor:e})]})},HO=()=>{const[s,e]=O.useState(""),[n,a]=O.useState(""),[o,c]=O.useState(""),[d,p]=O.useState(!1),g=Oo(),y=async A=>{A.preventDefault(),c(""),p(!0);try{const S=(await iS(Ft,s,n)).user.uid;console.log(" Usuario autenticado con UID:",S);const N=ct(De,"admins",S),L=await _i(N);if(!L.exists()){console.error(" Usuario no encontrado en coleccin admins"),c("No tienes permisos de administrador"),await Ft.signOut(),p(!1);return}const U=L.data();if(U.role!=="admin"){console.error(" Usuario sin rol de admin:",U.role),c("No tienes permisos de administrador"),await Ft.signOut(),p(!1);return}console.log(" Admin verificado:",U.email),g("/admin/dashboard")}catch(b){console.error(" Error al iniciar sesin:",b),b.code==="auth/user-not-found"?c("Email no registrado"):b.code==="auth/wrong-password"?c("Contrasea incorrecta"):b.code==="auth/invalid-email"?c("Email invlido"):b.code==="auth/invalid-credential"?c("Email o contrasea incorrectos"):b.code==="auth/too-many-requests"?c("Demasiados intentos fallidos. Intenta ms tarde."):c("Error al iniciar sesin. Intenta de nuevo.")}finally{p(!1)}};return u.jsx("div",{className:"admin-login-container",children:u.jsxs("div",{className:"login-box",children:[u.jsx("h1",{children:"Simplia Admin"}),u.jsx("p",{className:"login-subtitle",children:"Panel de Administracin"}),u.jsxs("form",{onSubmit:y,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:s,onChange:A=>e(A.target.value),placeholder:"admin@simpliacol.com",required:!0,disabled:d,autoComplete:"email"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Contrasea"}),u.jsx("input",{type:"password",value:n,onChange:A=>a(A.target.value),placeholder:"",required:!0,disabled:d,autoComplete:"current-password"})]}),o&&u.jsxs("p",{className:"error-message",children:[" ",o]}),u.jsx("button",{type:"submit",className:"btn-login",disabled:d,children:d?"Iniciando sesin...":"Iniciar Sesin"})]})]})})},GO=({onCreado:s})=>{const[e,n]=O.useState({nombre:"",whatsapp:"",email:"",codigoDescuento:""}),[a,o]=O.useState(""),[c,d]=O.useState(""),[p,g]=O.useState(!1),[y,A]=O.useState(!1),[b,S]=O.useState({type:"",message:""});O.useEffect(()=>{U(),L()},[]);const N=()=>{const x=Date.now().toString(36),T="abcdefghijklmnopqrstuvwxyz0123456789";let R="";for(let j=0;j<4;j++)R+=T.charAt(Math.floor(Math.random()*T.length));return(x+R).toLowerCase().slice(-8)},L=()=>{const x="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789";let T="";for(let R=0;R<10;R++)T+=x.charAt(Math.floor(Math.random()*x.length));return d(T),T},U=()=>{const x=N();o(x),console.log(" ID generado:",x)},V=x=>{const{name:T,value:R}=x.target;if(T==="whatsapp"){const D=R.replace(/\D/g,"");n({...e,[T]:D});return}n({...e,[T]:R})},H=(x,T)=>{S({type:x,message:T}),A(!0),setTimeout(()=>{A(!1)},5e3)},Z=()=>e.nombre.trim()?e.whatsapp.trim()?e.whatsapp.length<10?(H("error","El WhatsApp debe tener al menos 10 dgitos"),!1):e.email.trim()?e.email.includes("@")?c.length<6?(H("error","La contrasea debe tener al menos 6 caracteres"),!1):!0:(H("error","El email no es vlido"),!1):(H("error","El email es obligatorio para el login"),!1):(H("error","El WhatsApp es obligatorio"),!1):(H("error","El nombre es obligatorio"),!1),q=async x=>{if(x.preventDefault(),!!Z()){g(!0),Ft.currentUser;try{console.log(" Creando distribuidor con ID:",a);const T=e.email.trim().toLowerCase(),R=c;console.log(" Creando usuario en Firebase Auth...");let D,j;try{const F=await(await fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyB6vS968ei7yaV9JDEgXTcxT0JFrKx3INk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:T,password:R,returnSecureToken:!0})})).json();if(F.error)throw new Error(F.error.message);j=F.localId,console.log(" Usuario creado con UID:",j)}catch(ge){console.error(" Error en Firebase Auth:",ge),ge.message.includes("EMAIL_EXISTS")?H("error"," Este email ya est registrado"):ge.message.includes("WEAK_PASSWORD")?H("error"," La contrasea debe tener al menos 6 caracteres"):ge.message.includes("INVALID_EMAIL")?H("error"," Email invlido"):H("error",` Error: ${ge.message}`),g(!1);return}const P={id:a,uid:j,codigoDistribuidor:a,nombre:e.nombre.trim(),whatsapp:e.whatsapp.trim(),email:T,codigoDescuento:e.codigoDescuento.trim().toUpperCase()||null,activo:!0,rol:"distribuidor",fechaCreacion:new Date().toISOString(),datosPago:{tipoCuenta:"",banco:"",numeroCuenta:"",titular:e.nombre.trim()},comisiones:{saldoDisponible:0,totalGanado:0,totalPagado:0},estadisticas:{clicks:0,leads:0,conversiones:0}};console.log(" Guardando datos en Firestore...");const I=ct(De,"distribuidores",j);await Dh(I,P),console.log(" Documento creado en Firestore"),H("success"," Distribuidor creado exitosamente!");const Ee=` CREDENCIALES DE ACCESO - SIMPLIA

 Nombre: ${e.nombre}
 Email: ${T}
 Contrasea: ${R}

 Panel: https://simpliacol.com/distribuidor/login
 URL Referencia: https://simpliacol.com/${a}
${e.codigoDescuento?` Cdigo: ${e.codigoDescuento.toUpperCase()}`:""}
`;navigator.clipboard.writeText(Ee),H("success"," Credenciales copiadas al portapapeles"),setTimeout(()=>{n({nombre:"",whatsapp:"",email:"",codigoDescuento:""}),U(),L(),s&&s()},3e3)}catch(T){console.error(" Error general:",T),H("error",` Error: ${T.message}`)}finally{g(!1)}}},W=()=>{const x=`https://simpliacol.com/${a}`;navigator.clipboard.writeText(x),H("success"," URL copiada al portapapeles")},ee=()=>{navigator.clipboard.writeText(a),H("success"," ID copiado al portapapeles")},he=()=>{if(!e.email){H("error"," Primero ingresa el email del distribuidor");return}const x=` CREDENCIALES DE ACCESO - SIMPLIA

 Email: ${e.email}
 Contrasea: ${c}

 Panel: https://simpliacol.com/distribuidor/login
 URL: https://simpliacol.com/${a}`;navigator.clipboard.writeText(x),H("success"," Credenciales copiadas")};return u.jsxs("div",{className:"crear-distribuidor-wrapper",children:[u.jsxs("div",{className:"crear-distribuidor-container",children:[u.jsxs("div",{className:"crear-distribuidor-header",children:[u.jsx("h2",{children:" Crear Nuevo Distribuidor"}),u.jsx("p",{className:"subtitle-crear",children:"Completa la informacin para crear un nuevo distribuidor"})]}),u.jsxs("form",{onSubmit:q,className:"form-crear",children:[u.jsxs("div",{className:"form-section",children:[u.jsxs("label",{className:"section-title",children:[u.jsx("span",{className:"icon",children:""}),"ID nico del Distribuidor"]}),u.jsxs("div",{className:"id-generator",children:[u.jsxs("div",{className:"id-display-wrapper",children:[u.jsx("code",{className:"id-display",children:a}),u.jsx("button",{type:"button",onClick:ee,className:"btn-copy-inline",title:"Copiar ID",children:""})]}),u.jsx("button",{type:"button",onClick:U,className:"btn-regenerar",children:" Generar Nuevo"})]}),u.jsxs("div",{className:"url-preview",children:[u.jsxs("span",{children:["URL: ",u.jsxs("strong",{children:["simpliacol.com/",a]})]}),u.jsx("button",{type:"button",onClick:W,className:"btn-copiar",children:" Copiar URL"})]})]}),u.jsxs("div",{className:"form-section credenciales-section",children:[u.jsxs("label",{className:"section-title",children:[u.jsx("span",{className:"icon",children:""}),"Credenciales de Acceso al Panel"]}),u.jsxs("div",{className:"credenciales-info",children:[u.jsxs("div",{className:"credencial-item",children:[u.jsx("span",{className:"credencial-label",children:"Email (Usuario):"}),u.jsx("span",{className:"credencial-value",children:e.email||"Ingresa el email abajo"})]}),u.jsxs("div",{className:"credencial-item",children:[u.jsx("span",{className:"credencial-label",children:"Contrasea:"}),u.jsxs("div",{className:"password-display",children:[u.jsx("code",{className:"credencial-value",children:c}),u.jsx("button",{type:"button",onClick:L,className:"btn-regenerar-password",title:"Generar nueva contrasea",children:""})]})]}),u.jsxs("div",{className:"credencial-item",children:[u.jsx("span",{className:"credencial-label",children:"URL Panel:"}),u.jsx("span",{className:"credencial-value",children:"simpliacol.com/distribuidor/login"})]})]}),u.jsx("button",{type:"button",onClick:he,className:"btn-copiar-credenciales",disabled:!e.email,children:" Copiar Todas las Credenciales"}),u.jsxs("div",{className:"credenciales-warning",children:[" ",u.jsx("strong",{children:"Importante:"})," Guarda estas credenciales antes de continuar."]})]}),u.jsxs("div",{className:"form-section",children:[u.jsxs("label",{className:"section-title",children:[u.jsx("span",{className:"icon",children:""}),"Informacin del Distribuidor"]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"nombre",children:"Nombre completo *"}),u.jsx("input",{type:"text",id:"nombre",name:"nombre",value:e.nombre,onChange:V,placeholder:"Ej: Juan Prez Garca",required:!0,disabled:p})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"whatsapp",children:["WhatsApp *",u.jsx("span",{className:"hint",children:"(con cdigo de pas)"})]}),u.jsxs("div",{className:"input-with-prefix",children:[u.jsx("span",{className:"prefix",children:"+"}),u.jsx("input",{type:"tel",id:"whatsapp",name:"whatsapp",value:e.whatsapp,onChange:V,placeholder:"573001234567",required:!0,disabled:p,maxLength:"15"})]}),u.jsx("small",{className:"input-hint",children:"Ejemplo: 573001234567"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email * (para login)"}),u.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:V,placeholder:"distribuidor@email.com",required:!0,disabled:p}),u.jsx("small",{className:"input-hint",children:"Este email ser su usuario de acceso"})]})]})]}),u.jsxs("div",{className:"form-section",children:[u.jsxs("label",{className:"section-title",children:[u.jsx("span",{className:"icon",children:""}),"Cdigo de Descuento (Opcional)"]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"codigoDescuento",children:"Cdigo promocional"}),u.jsx("input",{type:"text",id:"codigoDescuento",name:"codigoDescuento",value:e.codigoDescuento,onChange:V,placeholder:"Ej: PROMO10",disabled:p,maxLength:"20",style:{textTransform:"uppercase"}})]})]}),u.jsxs("div",{className:"resumen-card",children:[u.jsx("h4",{children:" Resumen"}),u.jsxs("div",{className:"resumen-content",children:[u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"resumen-label",children:"Nombre:"}),u.jsx("span",{className:"resumen-value",children:e.nombre||""})]}),u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"resumen-label",children:"WhatsApp:"}),u.jsxs("span",{className:"resumen-value",children:["+",e.whatsapp||""]})]}),u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"resumen-label",children:"Email:"}),u.jsx("span",{className:"resumen-value",children:e.email||""})]}),u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"resumen-label",children:"Contrasea:"}),u.jsx("code",{className:"resumen-value",children:c})]}),u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"resumen-label",children:"URL:"}),u.jsxs("span",{className:"resumen-value",children:["simpliacol.com/",a]})]})]})]}),u.jsx("button",{type:"submit",className:"btn-crear-distribuidor",disabled:p,children:p?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"spinner-small"}),"Creando..."]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),"Crear Distribuidor"]})})]})]}),y&&u.jsxs("div",{className:`notification-toast notification-${b.type}`,children:[u.jsx("span",{className:"notification-icon",children:b.type==="success"?"":""}),u.jsx("span",{className:"notification-message",children:b.message}),u.jsx("button",{className:"notification-close",onClick:()=>A(!1),children:""})]})]})},QO=({onUpdate:s,leadsSinAtender:e})=>{var Ht,Tn,Nn,bt,ts;const[n,a]=O.useState([]),[o,c]=O.useState([]),[d,p]=O.useState({}),[g,y]=O.useState(!0),[A,b]=O.useState(null),[S,N]=O.useState(!1),[L,U]=O.useState(!1),[V,H]=O.useState({type:"",message:""}),[Z,q]=O.useState(!1),[W,ee]=O.useState(null),[he,x]=O.useState({}),[T,R]=O.useState(!1),[D,j]=O.useState(null),[P,I]=O.useState(""),[Ee,ge]=O.useState(!1);O.useEffect(()=>{ye(),oe(),ce()},[]);const F=(le,_e)=>{H({type:le,message:_e}),U(!0),setTimeout(()=>{U(!1)},4e3)},oe=async()=>{try{const le=ct(De,"configuracion","comisiones"),_e=await _i(le);_e.exists()&&x(_e.data().planes||{})}catch(le){console.error(" Error al cargar configuracin de comisiones:",le)}},ce=async()=>{try{const le=jt(De,"leads"),_e=ma(le,Ps("estado","in",["pendiente","contactado"])),Te=await rn(_e),Ge={};Te.forEach(ut=>{const Wt=ut.data().distribuidorId;Wt&&(Ge[Wt]=(Ge[Wt]||0)+1)}),p(Ge),console.log(" Leads sin atender por distribuidor:",Ge)}catch(le){console.error("Error al cargar leads sin atender:",le)}},ye=async()=>{try{const le=jt(De,"distribuidores"),_e=await rn(le),Te=[];_e.forEach(Ge=>{const ut=Ge.data();Te.push({...ut,uid:Ge.id,docId:Ge.id})}),Te.sort((Ge,ut)=>{const In=new Date(Ge.fechaCreacion||0);return new Date(ut.fechaCreacion||0)-In}),a(Te),console.log(" Distribuidores cargados:",Te)}catch(le){console.error(" Error al cargar distribuidores:",le),F("error","Error al cargar distribuidores")}finally{y(!1)}},M=async le=>{try{const _e=jt(De,"leads"),Te=await rn(_e),Ge=[];Te.forEach(ut=>{const In=ut.data();In.distribuidorId===le&&Ge.push({id:ut.id,...In})}),Ge.sort((ut,In)=>new Date(In.fechaHora)-new Date(ut.fechaHora)),c(Ge),N(!0),console.log(" Leads cargados:",Ge)}catch(_e){console.error(" Error al cargar leads:",_e),F("error","Error al cargar leads")}},te=le=>{const _e=`https://simpliacol.com/${le}`;navigator.clipboard.writeText(_e),F("success",` URL copiada: ${_e}`)},fe=async(le,_e)=>{try{const Te=ct(De,"distribuidores",le);await ds(Te,{activo:!_e}),a(n.map(Ge=>Ge.uid===le?{...Ge,activo:!_e}:Ge)),F("success",` Distribuidor ${_e?"desactivado":"activado"}`)}catch(Te){console.error(" Error al actualizar estado:",Te),F("error"," Error al actualizar estado")}},de=le=>{ee(le),q(!0)},be=async()=>{if(W)try{await y1(ct(De,"distribuidores",W.uid)),a(n.filter(le=>le.uid!==W.uid)),F("success"," Distribuidor eliminado exitosamente"),setTimeout(()=>{ye()},1e3)}catch(le){console.error(" Error al eliminar distribuidor:",le),F("error"," Error al eliminar distribuidor")}finally{q(!1),ee(null)}},ie=()=>{q(!1),ee(null)},me=le=>{b(le),M(le.uid)},Me=()=>{N(!1),b(null),c([]),ce(),s&&s()},Ce=()=>{const le="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789";let _e="";for(let Te=0;Te<8;Te++)_e+=le.charAt(Math.floor(Math.random()*le.length));return _e},ft=le=>{j(le),I(Ce()),R(!0)},Je=async()=>{if(!P||P.trim().length<6){F("error","La contrasea debe tener al menos 6 caracteres");return}ge(!0);try{const _e=await(await fetch("https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyB6vS968ei7yaV9JDEgXTcxT0JFrKx3INk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({localId:D.uid,password:P.trim(),returnSecureToken:!1})})).json();if(_e.error)throw new Error(_e.error.message);const Te=ct(De,"distribuidores",D.uid);await ds(Te,{ultimoCambioPassword:new Date().toISOString(),passwordCambiadaPorAdmin:!0}),F("success",` Contrasea de ${D.nombre} actualizada`);const Ge=`Email: ${D.email}
Contrasea: ${P}`;navigator.clipboard.writeText(Ge),F("success"," Credenciales copiadas al portapapeles"),R(!1),j(null),I(""),await ye()}catch(le){console.error("Error al cambiar contrasea:",le),F("error"," Error al cambiar la contrasea")}finally{ge(!1)}},gn=async(le,_e,Te)=>{var Ge;try{const ut=ct(De,"leads",le),In=Te.estado,Wt={estado:_e};if(_e==="compra_ejecutada"&&In!=="compra_ejecutada"&&!((Ge=Te.comision)!=null&&Ge.monto)){const Gt=he[Te.productoInteres]||0;Wt.comision={monto:Gt,montoOriginal:Gt,pagada:!1,fechaPago:null,comprobantePagoId:null},Wt.fechaCompra=new Date().toISOString();const Lt=ct(De,"distribuidores",Te.distribuidorId),yn=await _i(Lt);if(yn.exists()){const Qt=yn.data().comisiones||{saldoDisponible:0,totalGanado:0,totalPagado:0};await ds(Lt,{"comisiones.saldoDisponible":Qt.saldoDisponible+Gt,"comisiones.totalGanado":Qt.totalGanado+Gt,"estadisticas.conversiones":cd(1)}),F("success",` Estado actualizado - Comisin: ${mt(Gt)}`)}}else F("success"," Estado actualizado");await ds(ut,Wt),c(o.map(Gt=>Gt.id===le?{...Gt,...Wt}:Gt)),await ce(),s&&s()}catch(ut){console.error(" Error al actualizar estado:",ut),F("error"," Error al actualizar estado")}},ln=le=>le?new Date(le).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",mt=le=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(le);if(g)return u.jsx("div",{className:"loading-container",children:u.jsx("p",{children:"Cargando distribuidores..."})});if(S&&A){const le=((Ht=A.comisiones)==null?void 0:Ht.saldoDisponible)||0,_e=((Tn=A.comisiones)==null?void 0:Tn.totalGanado)||0;return u.jsxs("div",{className:"leads-container",children:[u.jsx("button",{onClick:Me,className:"btn-volver",children:" Volver a Distribuidores"}),u.jsxs("div",{className:"distribuidor-info",children:[u.jsxs("h2",{children:["Leads de: ",A.nombre]}),u.jsxs("p",{children:[u.jsx("strong",{children:"ID:"})," ",u.jsx("code",{children:A.id})," |",u.jsx("strong",{children:" WhatsApp:"})," ",A.whatsapp]}),u.jsxs("div",{className:"stats-mini",children:[u.jsxs("span",{children:[" Clicks: ",((Nn=A.estadisticas)==null?void 0:Nn.clicks)||0]}),u.jsxs("span",{children:[" Leads: ",((bt=A.estadisticas)==null?void 0:bt.leads)||0]}),u.jsxs("span",{children:[" Conversiones: ",((ts=A.estadisticas)==null?void 0:ts.conversiones)||0]}),u.jsxs("span",{className:"saldo-badge",children:[" Saldo: ",mt(le)]}),u.jsxs("span",{children:[" Total Ganado: ",mt(_e)]})]})]}),o.length===0?u.jsx("div",{className:"empty-state",children:u.jsx("p",{children:"No hay leads registrados para este distribuidor."})}):u.jsx("div",{className:"tabla-leads",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Cdigo"}),u.jsx("th",{children:"Cliente"}),u.jsx("th",{children:"Telfono"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Producto"}),u.jsx("th",{children:"Comisin"}),u.jsx("th",{children:"Fecha"}),u.jsx("th",{children:"Estado"}),u.jsx("th",{children:"Acciones"})]})}),u.jsx("tbody",{children:o.map(Te=>{var Ge;return u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:Te.codigoUnico})}),u.jsx("td",{children:Te.nombreCliente}),u.jsx("td",{children:u.jsx("a",{href:`https://wa.me/${Te.telefono}`,target:"_blank",rel:"noopener noreferrer",children:Te.telefono})}),u.jsx("td",{children:Te.email||"-"}),u.jsx("td",{children:Te.productoInteres}),u.jsx("td",{children:(Ge=Te.comision)!=null&&Ge.monto?u.jsxs("span",{className:"comision-monto",children:[mt(Te.comision.monto),Te.comision.pagada&&u.jsx("span",{className:"badge-pagada",children:" "})]}):u.jsx("span",{style:{color:"#ccc"},children:"-"})}),u.jsx("td",{style:{fontSize:"12px"},children:ln(Te.fechaHora)}),u.jsx("td",{children:u.jsx("span",{className:`badge badge-${Te.estado||"pendiente"}`,children:Te.estado==="pendiente"?" Pendiente":Te.estado==="contactado"?" Contactado":Te.estado==="compra_ejecutada"?" Ejecutada":Te.estado==="cancelado"?" Cancelado":" Cerrado"})}),u.jsx("td",{children:u.jsxs("select",{value:Te.estado||"pendiente",onChange:ut=>gn(Te.id,ut.target.value,Te),className:"select-estado",children:[u.jsx("option",{value:"pendiente",children:"Pendiente"}),u.jsx("option",{value:"contactado",children:"Contactado"}),u.jsx("option",{value:"compra_ejecutada",children:"Compra Ejecutada"}),u.jsx("option",{value:"cancelado",children:"Cancelado"})]})})]},Te.id)})})]})})]})}return u.jsxs("div",{className:"ver-distribuidores-container",children:[u.jsx("h2",{children:"Distribuidores Registrados"}),u.jsxs("p",{className:"subtitle",children:["Total: ",n.length]}),n.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("p",{children:"No hay distribuidores registrados."}),u.jsx("p",{children:'Crea uno usando el botn "+ Crear Distribuidor"'})]}):u.jsx("div",{className:"tabla-distribuidores",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nombre"}),u.jsx("th",{children:"ID"}),u.jsx("th",{children:"WhatsApp"}),u.jsx("th",{children:"Clicks"}),u.jsx("th",{children:"Leads"}),u.jsx("th",{children:"Ventas"}),u.jsx("th",{children:"Saldo"}),u.jsx("th",{children:"Cdigo Desc."}),u.jsx("th",{children:"Estado"}),u.jsx("th",{children:"Acciones"})]})}),u.jsx("tbody",{children:n.map(le=>{var _e,Te,Ge,ut;return u.jsxs("tr",{className:le.activo?"":"inactivo",children:[u.jsx("td",{children:u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[u.jsxs("div",{children:[u.jsx("strong",{children:le.nombre||"Sin nombre"}),u.jsx("br",{}),u.jsx("small",{style:{color:"#999"},children:le.email||"Sin email"})]}),d[le.uid]>0&&u.jsxs("span",{className:"badge-leads-nuevos",children:[d[le.uid]," nuevo",d[le.uid]>1?"s":""]})]})}),u.jsx("td",{children:u.jsx("code",{style:{background:"#f5f5f5",padding:"4px 8px",borderRadius:"4px",fontSize:"13px"},children:le.id})}),u.jsx("td",{children:le.whatsapp||"N/A"}),u.jsx("td",{className:"stat-cell",children:((_e=le.estadisticas)==null?void 0:_e.clicks)||0}),u.jsx("td",{className:"stat-cell",children:((Te=le.estadisticas)==null?void 0:Te.leads)||0}),u.jsx("td",{className:"stat-cell",children:((Ge=le.estadisticas)==null?void 0:Ge.conversiones)||0}),u.jsx("td",{className:"stat-cell saldo-cell",children:mt(((ut=le.comisiones)==null?void 0:ut.saldoDisponible)||0)}),u.jsx("td",{children:le.codigoDescuento?u.jsx("span",{className:"codigo-descuento",children:le.codigoDescuento}):u.jsx("span",{style:{color:"#ccc"},children:"-"})}),u.jsx("td",{children:u.jsx("span",{className:`badge ${le.activo?"badge-activo":"badge-inactivo"}`,children:le.activo?" Activo":" Inactivo"})}),u.jsx("td",{children:u.jsxs("div",{className:"acciones-buttons",children:[u.jsxs("button",{onClick:()=>me(le),className:"btn-accion btn-ver",title:"Ver leads",style:{position:"relative"},children:["",d[le.uid]>0&&u.jsx("span",{className:"badge-count-mini",children:d[le.uid]})]}),u.jsx("button",{onClick:()=>te(le.id),className:"btn-accion btn-copiar",title:"Copiar URL",children:""}),u.jsx("button",{onClick:()=>ft(le),className:"btn-accion btn-password",title:"Cambiar contrasea",children:""}),u.jsx("button",{onClick:()=>fe(le.uid,le.activo),className:`btn-accion ${le.activo?"btn-desactivar":"btn-activar"}`,title:le.activo?"Desactivar":"Activar",children:le.activo?"":""}),u.jsx("button",{onClick:()=>de(le),className:"btn-accion btn-eliminar",title:"Eliminar",children:""})]})})]},le.uid)})})]})}),Z&&W&&u.jsx("div",{className:"confirm-dialog-overlay",children:u.jsxs("div",{className:"confirm-dialog",children:[u.jsx("div",{className:"confirm-dialog-icon",children:""}),u.jsx("h3",{children:"Eliminar distribuidor?"}),u.jsxs("p",{children:["Ests seguro de eliminar al distribuidor ",u.jsxs("strong",{children:['"',W.nombre,'"']}),"?"]}),u.jsx("p",{className:"confirm-dialog-warning",children:"Esta accin no se puede deshacer."}),u.jsxs("div",{className:"confirm-dialog-buttons",children:[u.jsx("button",{onClick:ie,className:"btn-dialog-cancel",children:"Cancelar"}),u.jsx("button",{onClick:be,className:"btn-dialog-confirm",children:"S, eliminar"})]})]})}),T&&D&&u.jsx("div",{className:"modal-overlay",onClick:()=>!Ee&&R(!1),children:u.jsxs("div",{className:"modal-password-admin",onClick:le=>le.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:" Cambiar Contrasea"}),u.jsx("button",{onClick:()=>R(!1),className:"btn-close-modal",disabled:Ee,children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"distribuidor-info-password",children:[u.jsx("h4",{children:D.nombre}),u.jsx("p",{children:D.email})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Nueva contrasea *"}),u.jsxs("div",{className:"password-generator",children:[u.jsx("input",{type:"text",value:P,onChange:le=>I(le.target.value),placeholder:"Mnimo 6 caracteres",disabled:Ee}),u.jsx("button",{onClick:()=>I(Ce()),className:"btn-regenerar-password",disabled:Ee,type:"button",children:""})]}),u.jsx("small",{children:"La contrasea se copiar automticamente al portapapeles"})]}),u.jsxs("div",{className:"password-preview",children:[u.jsxs("div",{className:"preview-item",children:[u.jsx("span",{className:"preview-label",children:"Email:"}),u.jsx("span",{className:"preview-value",children:D.email})]}),u.jsxs("div",{className:"preview-item",children:[u.jsx("span",{className:"preview-label",children:"Password:"}),u.jsx("span",{className:"preview-value password-value",children:P})]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{onClick:()=>R(!1),className:"btn-modal-cancelar",disabled:Ee,children:"Cancelar"}),u.jsx("button",{onClick:Je,className:"btn-modal-confirmar",disabled:Ee||!P||P.length<6,children:Ee?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"spinner-small"}),"Cambiando..."]}):u.jsx(u.Fragment,{children:" Cambiar Contrasea"})})]})]})}),L&&u.jsxs("div",{className:`notification-toast notification-${V.type}`,children:[u.jsx("span",{className:"notification-icon",children:V.type==="success"?"":""}),u.jsx("span",{className:"notification-message",children:V.message}),u.jsx("button",{className:"notification-close",onClick:()=>U(!1),children:""})]})]})},KO=()=>{const[s,e]=O.useState({"Plan Esencial ":1e4,"Plan Conectado ":15e3,"Plan Total ":3e4}),[n,a]=O.useState(!0),[o,c]=O.useState(!1),[d,p]=O.useState(!1),[g,y]=O.useState({type:"",message:""}),[A,b]=O.useState({});O.useEffect(()=>{N()},[]);const S=(Z,q)=>{y({type:Z,message:q}),p(!0),setTimeout(()=>{p(!1)},4e3)},N=async()=>{var Z;try{const q=ct(De,"configuracion","comisiones"),W=await _i(q);if(W.exists()){const ee=W.data();e(ee.planes||s)}else await Dh(q,{planes:s,ultimaActualizacion:new Date().toISOString(),actualizadoPor:((Z=Ft.currentUser)==null?void 0:Z.email)||"admin",historial:[]})}catch(q){console.error(" Error al cargar comisiones:",q),S("error"," Error al cargar configuracin")}finally{a(!1)}},L=(Z,q)=>{const W=parseInt(q)||0,ee=s[Z];if(e({...s,[Z]:W}),W!==ee)b({...A,[Z]:{anterior:ee,nuevo:W}});else{const he={...A};delete he[Z],b(he)}},U=async()=>{var Z,q;if(Object.keys(A).length===0){S("error","No hay cambios para guardar");return}c(!0);try{const W=ct(De,"configuracion","comisiones"),ee=await _i(W),he=ee.exists()?ee.data().historial||[]:[];await Dh(W,{planes:s,ultimaActualizacion:new Date().toISOString(),actualizadoPor:((Z=Ft.currentUser)==null?void 0:Z.email)||"admin",historial:[...he,{fecha:new Date().toISOString(),usuario:((q=Ft.currentUser)==null?void 0:q.email)||"admin",cambios:A}]}),S("success"," Comisiones actualizadas correctamente"),b({})}catch(W){console.error(" Error al guardar:",W),S("error"," Error al guardar cambios")}finally{c(!1)}},V=()=>{N(),b({}),S("success","Cambios descartados")},H=Z=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(Z);return n?u.jsx("div",{className:"loading-container",children:u.jsx("p",{children:"Cargando configuracin..."})}):u.jsxs("div",{className:"configuracion-comisiones-container",children:[u.jsxs("div",{className:"config-header",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Configuracin de Comisiones"}),u.jsx("p",{className:"subtitle",children:"Ajusta las comisiones para cada plan. Los cambios solo afectarn nuevas ventas."})]}),Object.keys(A).length>0&&u.jsxs("div",{className:"cambios-pendientes-badge",children:[Object.keys(A).length," cambio(s) sin guardar"]})]}),u.jsx("div",{className:"comisiones-grid",children:Object.entries(s).map(([Z,q])=>{const W=A[Z];return u.jsxs("div",{className:`comision-card ${W?"tiene-cambios":""}`,children:[u.jsxs("div",{className:"comision-card-header",children:[u.jsx("h3",{children:Z}),W&&u.jsx("span",{className:"badge-cambio",children:"Modificado"})]}),u.jsxs("div",{className:"comision-input-group",children:[u.jsx("label",{children:"Comisin por venta:"}),u.jsxs("div",{className:"input-with-currency",children:[u.jsx("span",{className:"currency-symbol",children:"$"}),u.jsx("input",{type:"number",value:q,onChange:ee=>L(Z,ee.target.value),disabled:o,min:"0",step:"1000"}),u.jsx("span",{className:"currency-label",children:"COP"})]})]}),u.jsxs("div",{className:"comision-preview",children:[u.jsx("span",{className:"preview-label",children:"Vista previa:"}),u.jsx("span",{className:"preview-value",children:H(q)})]}),W&&u.jsxs("div",{className:"cambio-detalle",children:[u.jsxs("span",{className:"valor-anterior",children:["Anterior: ",H(W.anterior)]}),u.jsx("span",{className:"flecha",children:""}),u.jsxs("span",{className:"valor-nuevo",children:["Nuevo: ",H(W.nuevo)]})]})]},Z)})}),u.jsxs("div",{className:"config-actions",children:[u.jsx("button",{onClick:U,className:"btn-guardar-config",disabled:o||Object.keys(A).length===0,children:o?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"spinner-small"}),"Guardando..."]}):u.jsx(u.Fragment,{children:" Guardar Cambios"})}),Object.keys(A).length>0&&u.jsx("button",{onClick:V,className:"btn-descartar-config",disabled:o,children:" Descartar Cambios"})]}),u.jsxs("div",{className:"config-info-box",children:[u.jsx("h4",{children:" Informacin importante"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[" Los cambios solo afectarn a ",u.jsx("strong",{children:"nuevas ventas"})]}),u.jsxs("li",{children:[" Las comisiones de ventas ya completadas ",u.jsx("strong",{children:"no cambiarn"})]}),u.jsx("li",{children:" Se guarda un historial de todos los cambios realizados"})]})]}),d&&u.jsxs("div",{className:`notification-toast notification-${g.type}`,children:[u.jsx("span",{className:"notification-icon",children:g.type==="success"?"":""}),u.jsx("span",{className:"notification-message",children:g.message}),u.jsx("button",{className:"notification-close",onClick:()=>p(!1),children:""})]})]})},JO=({onUpdate:s})=>{var M,te,fe,de,be;const[e,n]=O.useState([]),[a,o]=O.useState(!0),[c,d]=O.useState(null),[p,g]=O.useState(!1),[y,A]=O.useState({type:"",message:""}),[b,S]=O.useState(!1),[N,L]=O.useState(null),[U,V]=O.useState({imagen:null,imagenBase64:null,imagenPreview:null,referencia:"",observaciones:""}),[H,Z]=O.useState(!1),[q,W]=O.useState(!1),[ee,he]=O.useState(null);O.useEffect(()=>{T()},[]);const x=(ie,me)=>{A({type:ie,message:me}),g(!0),setTimeout(()=>{g(!1)},4e3)},T=async()=>{try{const ie=jt(De,"solicitudesRetiro"),me=await rn(ie),Me=[];me.forEach(Ce=>{Me.push({id:Ce.id,...Ce.data()})}),Me.sort((Ce,ft)=>Ce.estado==="pendiente"&&ft.estado!=="pendiente"?-1:Ce.estado!=="pendiente"&&ft.estado==="pendiente"?1:new Date(ft.fechaSolicitud)-new Date(Ce.fechaSolicitud)),n(Me)}catch(ie){console.error("Error al cargar solicitudes:",ie),x("error","Error al cargar solicitudes")}finally{o(!1)}},R=ie=>{L(ie),S(!0),V({imagen:null,imagenBase64:null,imagenPreview:null,referencia:`PAGO-${Date.now()}`,observaciones:""})},D=ie=>{he(ie),W(!0)},j=ie=>new Promise((me,Me)=>{const Ce=new FileReader;Ce.onload=ft=>{const Je=new Image;Je.onload=()=>{const gn=document.createElement("canvas"),ln=gn.getContext("2d");let mt=Je.width,Ht=Je.height;const Tn=1200;mt>Tn&&(Ht=Ht*Tn/mt,mt=Tn),gn.width=mt,gn.height=Ht,ln.drawImage(Je,0,0,mt,Ht);const Nn=gn.toDataURL("image/jpeg",.8),bt=Math.round(Nn.length*.75/1024);console.log(` Imagen comprimida: ${bt}KB`),me(Nn)},Je.onerror=Me,Je.src=ft.target.result},Ce.onerror=Me,Ce.readAsDataURL(ie)}),P=async ie=>{const me=ie.target.files[0];if(me){if(!me.type.startsWith("image/")){x("error","Por favor selecciona una imagen vlida");return}if(me.size>10*1024*1024){x("error","La imagen no debe superar 10MB");return}try{x("success"," Comprimiendo imagen...");const Me=await j(me);V({...U,imagen:me,imagenBase64:Me,imagenPreview:Me}),x("success"," Imagen lista para subir")}catch(Me){console.error("Error al procesar imagen:",Me),x("error"," Error al procesar la imagen")}}},I=async()=>{var ie,me,Me,Ce,ft;if(!U.imagenBase64){x("error","Debes subir una imagen del comprobante");return}if(!U.referencia.trim()){x("error","Debes ingresar una referencia de pago");return}Z(!0);try{const Je=N,gn=Date.now();console.log(" Iniciando procesamiento de pago...");const ln=_1(De),mt=Je.monto,Ht=Je.leadsIncluidos;Ht.forEach(_e=>{const Te=ct(De,"leads",_e.leadId);ln.update(Te,{"comision.pagada":!0,"comision.fechaPago":new Date().toISOString()})});const Tn=await sg(jt(De,"pagosComisiones"),{distribuidorId:Je.distribuidorId,distribuidorNombre:Je.distribuidorNombre,distribuidorEmail:Je.distribuidorEmail,monto:mt,leadsIncluidos:Ht,metodoPago:"Transferencia Bancaria",banco:((ie=Je.datosPago)==null?void 0:ie.banco)||"No especificado",numeroCuenta:((me=Je.datosPago)==null?void 0:me.numeroCuenta)||"No especificado",referenciaPago:U.referencia.trim(),observaciones:U.observaciones.trim()||`Pago procesado desde solicitud de retiro ${Je.id}`,fechaPago:new Date().toISOString(),realizadoPor:((Me=Ft.currentUser)==null?void 0:Me.email)||"admin",estado:"completado",solicitudId:Je.id,comprobante:{imagenBase64:U.imagenBase64,nombreArchivo:`comprobante_${Je.distribuidorId}_${gn}.jpg`,fechaSubida:new Date().toISOString(),subidoPor:((Ce=Ft.currentUser)==null?void 0:Ce.email)||"admin",tipoImagen:"image/jpeg"}});console.log(" Pago registrado con ID:",Tn.id);const Nn=ct(De,"distribuidores",Je.distribuidorId),bt=await rn(jt(De,"distribuidores"));let ts=null;if(bt.forEach(_e=>{_e.id===Je.distribuidorId&&(ts=_e.data())}),ts){const _e=ts.comisiones||{saldoDisponible:0,totalGanado:0,totalPagado:0};ln.update(Nn,{"comisiones.saldoDisponible":Math.max(0,_e.saldoDisponible-mt),"comisiones.totalPagado":(_e.totalPagado||0)+mt})}Ht.forEach(_e=>{const Te=ct(De,"leads",_e.leadId);ln.update(Te,{"comision.comprobantePagoId":Tn.id})});const le=ct(De,"solicitudesRetiro",Je.id);ln.update(le,{estado:"procesada",fechaProcesamiento:new Date().toISOString(),procesadoPor:((ft=Ft.currentUser)==null?void 0:ft.email)||"admin",pagoId:Tn.id,comprobante:{imagenBase64:U.imagenBase64,referencia:U.referencia.trim(),fechaSubida:new Date().toISOString()}}),await ln.commit(),console.log(" Todas las operaciones completadas exitosamente"),x("success",` Pago procesado exitosamente - ${ge(mt)}`),S(!1),L(null),V({imagen:null,imagenBase64:null,imagenPreview:null,referencia:"",observaciones:""}),await T(),s&&s()}catch(Je){console.error(" Error al procesar solicitud:",Je),console.error("Detalles del error:",Je.message),x("error",` Error al procesar pago: ${Je.message}`)}finally{Z(!1)}},Ee=async ie=>{var Me;const me=window.prompt("Ingresa el motivo del rechazo:");if(!(!me||me.trim()==="")){d(ie.id);try{const Ce=ct(De,"solicitudesRetiro",ie.id);await ds(Ce,{estado:"rechazada",motivoRechazo:me.trim(),fechaRechazo:new Date().toISOString(),rechazadoPor:((Me=Ft.currentUser)==null?void 0:Me.email)||"admin"}),x("success"," Solicitud rechazada correctamente"),await T(),s&&s()}catch(Ce){console.error("Error al rechazar solicitud:",Ce),x("error"," Error al rechazar solicitud")}finally{d(null)}}},ge=ie=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(ie),F=ie=>ie?new Date(ie).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(a)return u.jsx("div",{className:"loading-container",children:u.jsx("p",{children:"Cargando solicitudes..."})});const oe=e.filter(ie=>ie.estado==="pendiente"),ce=e.filter(ie=>ie.estado==="procesada"),ye=e.filter(ie=>ie.estado==="rechazada");return u.jsxs("div",{className:"solicitudes-retiro-container",children:[u.jsx("h2",{children:" Solicitudes de Retiro"}),u.jsxs("p",{className:"subtitle",children:[oe.length," solicitud(es) pendiente(s)"]}),oe.length>0&&u.jsxs("div",{className:"solicitudes-section",children:[u.jsx("h3",{children:" Pendientes de Aprobacin"}),u.jsx("div",{className:"solicitudes-grid",children:oe.map(ie=>{var me,Me;return u.jsxs("div",{className:"solicitud-card pendiente",children:[u.jsxs("div",{className:"solicitud-header",children:[u.jsxs("div",{children:[u.jsx("h4",{children:ie.distribuidorNombre}),u.jsx("p",{className:"solicitud-email",children:ie.distribuidorEmail})]}),u.jsx("div",{className:"solicitud-monto",children:ge(ie.monto)})]}),u.jsxs("div",{className:"solicitud-body",children:[u.jsxs("div",{className:"solicitud-info-grid",children:[u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"Fecha Solicitud:"}),u.jsx("span",{className:"value",children:F(ie.fechaSolicitud)})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"Leads Incluidos:"}),u.jsx("span",{className:"value",children:ie.leadsIncluidos.length})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"Banco:"}),u.jsx("span",{className:"value",children:((me=ie.datosPago)==null?void 0:me.banco)||"No especificado"})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"Cuenta:"}),u.jsx("span",{className:"value",children:((Me=ie.datosPago)==null?void 0:Me.numeroCuenta)||"No especificado"})]})]}),u.jsxs("div",{className:"solicitud-leads",children:[u.jsx("strong",{children:"Leads incluidos en este pago:"}),u.jsx("ul",{children:ie.leadsIncluidos.map((Ce,ft)=>u.jsxs("li",{children:[u.jsx("code",{children:Ce.codigoUnico})," - ",Ce.nombreCliente," (",ge(Ce.comision),")"]},ft))})]})]}),u.jsxs("div",{className:"solicitud-actions",children:[u.jsxs("button",{onClick:()=>Ee(ie),className:"btn-rechazar",disabled:c===ie.id,children:[c===ie.id?"":""," Rechazar"]}),u.jsx("button",{onClick:()=>R(ie),className:"btn-aprobar",disabled:c===ie.id,children:" Aprobar y Subir Comprobante"})]})]},ie.id)})})]}),oe.length===0&&u.jsx("div",{className:"empty-state",children:u.jsx("p",{children:" No hay solicitudes pendientes"})}),ce.length>0&&u.jsxs("div",{className:"solicitudes-section",children:[u.jsx("h3",{children:" Procesadas"}),u.jsx("div",{className:"tabla-solicitudes",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Distribuidor"}),u.jsx("th",{children:"Monto"}),u.jsx("th",{children:"Referencia"}),u.jsx("th",{children:"Fecha Solicitud"}),u.jsx("th",{children:"Fecha Procesamiento"}),u.jsx("th",{children:"Comprobante"})]})}),u.jsx("tbody",{children:ce.map(ie=>{var me,Me;return u.jsxs("tr",{children:[u.jsxs("td",{children:[u.jsx("strong",{children:ie.distribuidorNombre}),u.jsx("br",{}),u.jsx("small",{children:ie.distribuidorEmail})]}),u.jsx("td",{className:"monto-procesado",children:ge(ie.monto)}),u.jsx("td",{children:u.jsx("code",{children:((me=ie.comprobante)==null?void 0:me.referencia)||"N/A"})}),u.jsx("td",{children:F(ie.fechaSolicitud)}),u.jsx("td",{children:F(ie.fechaProcesamiento)}),u.jsx("td",{children:(Me=ie.comprobante)!=null&&Me.imagenBase64?u.jsx("button",{onClick:()=>D(ie),className:"btn-ver-comprobante",children:" Ver"}):u.jsx("span",{style:{color:"#999"},children:"Sin comprobante"})})]},ie.id)})})]})})]}),ye.length>0&&u.jsxs("div",{className:"solicitudes-section",children:[u.jsx("h3",{children:" Rechazadas"}),u.jsx("div",{className:"tabla-solicitudes",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Distribuidor"}),u.jsx("th",{children:"Monto"}),u.jsx("th",{children:"Fecha Solicitud"}),u.jsx("th",{children:"Fecha Rechazo"}),u.jsx("th",{children:"Motivo Rechazo"})]})}),u.jsx("tbody",{children:ye.map(ie=>u.jsxs("tr",{children:[u.jsxs("td",{children:[u.jsx("strong",{children:ie.distribuidorNombre}),u.jsx("br",{}),u.jsx("small",{children:ie.distribuidorEmail})]}),u.jsx("td",{className:"monto-rechazado",children:ge(ie.monto)}),u.jsx("td",{children:F(ie.fechaSolicitud)}),u.jsx("td",{children:F(ie.fechaRechazo)}),u.jsx("td",{children:u.jsx("small",{children:ie.motivoRechazo})})]},ie.id))})]})})]}),b&&N&&u.jsx("div",{className:"modal-overlay",onClick:()=>!H&&S(!1),children:u.jsxs("div",{className:"modal-comprobante",onClick:ie=>ie.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:" Subir Comprobante de Pago"}),u.jsx("button",{onClick:()=>S(!1),className:"btn-close-modal",disabled:H,children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"pago-info-resumen",children:[u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Distribuidor:"}),u.jsx("span",{className:"value",children:N.distribuidorNombre})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Monto a pagar:"}),u.jsx("span",{className:"value destacado",children:ge(N.monto)})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Cuenta:"}),u.jsxs("span",{className:"value",children:[(M=N.datosPago)==null?void 0:M.banco," - ",(te=N.datosPago)==null?void 0:te.numeroCuenta]})]})]}),u.jsx("div",{className:"upload-section",children:u.jsxs("label",{className:"upload-label",children:[u.jsx("span",{className:"label-text",children:"Comprobante de pago *"}),u.jsxs("div",{className:`upload-area ${U.imagenPreview?"has-image":""}`,children:[U.imagenPreview?u.jsxs("div",{className:"image-preview",children:[u.jsx("img",{src:U.imagenPreview,alt:"Preview"}),u.jsx("button",{onClick:ie=>{ie.preventDefault(),V({...U,imagen:null,imagenBase64:null,imagenPreview:null})},className:"btn-remove-image",type:"button",children:" Cambiar imagen"})]}):u.jsxs("div",{className:"upload-placeholder",children:[u.jsx("span",{className:"upload-icon",children:""}),u.jsx("p",{children:"Click para seleccionar imagen"}),u.jsx("small",{children:"JPG, PNG o WEBP (mx. 10MB - se comprimir automticamente)"})]}),u.jsx("input",{type:"file",accept:"image/*",onChange:P,disabled:H,style:{display:"none"}})]})]})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Referencia de pago *"}),u.jsx("input",{type:"text",value:U.referencia,onChange:ie=>V({...U,referencia:ie.target.value}),placeholder:"Ej: PAGO-20250121-001",disabled:H})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Observaciones (opcional)"}),u.jsx("textarea",{value:U.observaciones,onChange:ie=>V({...U,observaciones:ie.target.value}),placeholder:"Notas adicionales sobre el pago...",rows:"3",disabled:H})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{onClick:()=>S(!1),className:"btn-modal-cancelar",disabled:H,children:"Cancelar"}),u.jsx("button",{onClick:I,className:"btn-modal-confirmar",disabled:H||!U.imagenBase64||!U.referencia.trim(),children:H?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"spinner-small"}),"Procesando..."]}):u.jsx(u.Fragment,{children:" Procesar Pago"})})]})]})}),q&&ee&&u.jsx("div",{className:"modal-overlay-dist",onClick:()=>W(!1),children:u.jsxs("div",{className:"modal-comprobante-dist",onClick:ie=>ie.stopPropagation(),children:[u.jsxs("div",{className:"modal-header-dist",children:[u.jsx("h3",{children:" Comprobante de Pago"}),u.jsx("button",{onClick:()=>W(!1),className:"btn-close-modal-dist",children:""})]}),u.jsxs("div",{className:"modal-body-dist",children:[u.jsxs("div",{className:"comprobante-info",children:[u.jsxs("div",{className:"info-row-dist",children:[u.jsx("span",{className:"label",children:"Monto:"}),u.jsx("span",{className:"value destacado",children:ge(ee.monto)})]}),u.jsxs("div",{className:"info-row-dist",children:[u.jsx("span",{className:"label",children:"Referencia:"}),u.jsx("span",{className:"value",children:u.jsx("code",{children:(fe=ee.comprobante)==null?void 0:fe.referencia})})]}),u.jsxs("div",{className:"info-row-dist",children:[u.jsx("span",{className:"label",children:"Fecha de pago:"}),u.jsx("span",{className:"value",children:F(ee.fechaProcesamiento)})]}),((de=ee.comprobante)==null?void 0:de.observaciones)&&u.jsxs("div",{className:"info-row-dist observaciones",children:[u.jsx("span",{className:"label",children:"Observaciones:"}),u.jsx("span",{className:"value",children:ee.comprobante.observaciones})]})]}),(be=ee.comprobante)!=null&&be.imagenBase64?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"comprobante-imagen-container",children:u.jsx("img",{src:ee.comprobante.imagenBase64,alt:"Comprobante de pago",className:"comprobante-imagen"})}),u.jsx("a",{href:ee.comprobante.imagenBase64,download:`comprobante_${ee.distribuidorNombre}_${ee.comprobante.referencia}.jpg`,className:"btn-descargar-comprobante",children:" Descargar Comprobante"})]}):u.jsx("div",{className:"sin-comprobante",children:u.jsx("p",{children:" Este pago no tiene comprobante adjunto"})})]}),u.jsx("div",{className:"modal-footer-dist",children:u.jsx("button",{onClick:()=>W(!1),className:"btn-cerrar-modal-dist",children:"Cerrar"})})]})}),p&&u.jsxs("div",{className:`notification-toast notification-${y.type}`,children:[u.jsx("span",{className:"notification-icon",children:y.type==="success"?"":""}),u.jsx("span",{className:"notification-message",children:y.message}),u.jsx("button",{className:"notification-close",onClick:()=>g(!1),children:""})]})]})},YO=({onNavigateToDistribuidor:s})=>{const[e,n]=O.useState(""),[a,o]=O.useState([]),[c,d]=O.useState(!1),[p,g]=O.useState(!1),[y,A]=O.useState({}),[b,S]=O.useState(!1),[N,L]=O.useState({type:"",message:""});O.useEffect(()=>{U()},[]);const U=async()=>{try{const T=ct(De,"configuracion","comisiones"),R=await _i(T);R.exists()&&A(R.data().planes||{})}catch(T){console.error("Error al cargar comisiones:",T)}},V=(T,R)=>{L({type:T,message:R}),S(!0),setTimeout(()=>S(!1),4e3)},H=async T=>{if(T.preventDefault(),!e.trim()){o([]),g(!1);return}d(!0),o([]);try{const R=e.trim().toLowerCase();let D=[];const j=jt(De,"distribuidores"),P=await rn(j);P.forEach(oe=>{const ce=oe.data(),ye=oe.id.toLowerCase(),M=(ce.nombre||"").toLowerCase(),te=(ce.email||"").toLowerCase();(ye.includes(R)||M.includes(R)||te.includes(R))&&D.push({tipo:"distribuidor",id:oe.id,nombre:ce.nombre,email:ce.email,whatsapp:ce.whatsapp,estadisticas:ce.estadisticas,comisiones:ce.comisiones,activo:ce.activo})});const I=jt(De,"leads"),Ee=await rn(I),ge=[],F=new Set;Ee.forEach(oe=>{const ce=oe.data(),ye=(ce.codigoUnico||"").toLowerCase(),M=(ce.nombreCliente||"").toLowerCase(),te=(ce.telefono||"").toLowerCase();(ye.includes(R)||M.includes(R)||te.includes(R))&&(ge.push({tipo:"lead",id:oe.id,codigoUnico:ce.codigoUnico,nombreCliente:ce.nombreCliente,telefono:ce.telefono,email:ce.email,productoInteres:ce.productoInteres,estado:ce.estado,distribuidorId:ce.distribuidorId,fechaHora:ce.fechaHora,comision:ce.comision}),ce.distribuidorId&&F.add(ce.distribuidorId))});for(const oe of F){const ce=P.docs.find(ye=>ye.id===oe);if(ce){const ye=ce.data();D.find(M=>M.id===oe)||D.push({tipo:"distribuidor_por_lead",id:ce.id,nombre:ye.nombre,email:ye.email,whatsapp:ye.whatsapp,estadisticas:ye.estadisticas,comisiones:ye.comisiones,activo:ye.activo,leadsRelacionados:ge.filter(M=>M.distribuidorId===oe)})}}D.push(...ge),o(D),g(!0)}catch(R){console.error("Error al buscar:",R),V("error","Error al realizar la bsqueda")}finally{d(!1)}},Z=async(T,R,D)=>{var j;try{const P=ct(De,"leads",T),I=D.estado,Ee={estado:R};if(R==="compra_ejecutada"&&I!=="compra_ejecutada"&&!((j=D.comision)!=null&&j.monto)){const ge=y[D.productoInteres]||0;Ee.comision={monto:ge,montoOriginal:ge,pagada:!1,fechaPago:null,comprobantePagoId:null},Ee.fechaCompra=new Date().toISOString();const F=ct(De,"distribuidores",D.distribuidorId),oe=await _i(F);if(oe.exists()){const ce=oe.data().comisiones||{saldoDisponible:0,totalGanado:0,totalPagado:0};await ds(F,{"comisiones.saldoDisponible":ce.saldoDisponible+ge,"comisiones.totalGanado":ce.totalGanado+ge,"estadisticas.conversiones":cd(1)}),V("success",` Estado actualizado - Comisin: ${x(ge)}`)}}else V("success"," Estado actualizado correctamente");await ds(P,Ee),o(a.map(ge=>ge.tipo==="lead"&&ge.id===T?{...ge,...Ee}:ge))}catch(P){console.error("Error al actualizar estado:",P),V("error"," Error al actualizar estado")}},q=T=>{s&&(s(T),W())},W=()=>{n(""),o([]),g(!1)},ee=(T,R)=>{navigator.clipboard.writeText(T),V("success",R||" Copiado al portapapeles")},he=T=>{if(!T)return"N/A";try{return new Date(T).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"N/A"}},x=T=>!T||isNaN(T)?"$0":new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(T);return u.jsxs("div",{className:"buscador-global",children:[u.jsxs("form",{onSubmit:H,className:"buscador-form",children:[u.jsxs("div",{className:"buscador-input-wrapper",children:[u.jsx("span",{className:"buscador-icon",children:""}),u.jsx("input",{type:"text",value:e,onChange:T=>n(T.target.value),placeholder:"Buscar por cdigo de distribuidor, cdigo de lead, telfono o nombre...",className:"buscador-input"}),e&&u.jsx("button",{type:"button",onClick:W,className:"btn-limpiar-busqueda",children:""})]}),u.jsx("button",{type:"submit",className:"btn-buscar",disabled:c,children:c?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"spinner-small"}),"Buscando..."]}):" Buscar"})]}),p&&u.jsx("div",{className:"resultados-busqueda",children:a.length===0?u.jsx("div",{className:"sin-resultados",children:u.jsxs("p",{children:[' No se encontraron resultados para "',e,'"']})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"resultados-header",children:[u.jsxs("h3",{children:[" Resultados de bsqueda (",a.length,")"]}),u.jsx("button",{onClick:W,className:"btn-cerrar-resultados",children:"Cerrar"})]}),u.jsx("div",{className:"resultados-lista",children:a.map((T,R)=>{var D,j,P,I,Ee;return T.tipo==="distribuidor"||T.tipo==="distribuidor_por_lead"?u.jsxs("div",{className:"resultado-item distribuidor-item",children:[u.jsxs("div",{className:"resultado-header",children:[u.jsxs("div",{className:"resultado-tipo-badge distribuidor-badge",children:[" DISTRIBUIDOR",T.tipo==="distribuidor_por_lead"&&u.jsx("span",{className:"badge-secundario",children:"va lead"})]}),u.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[u.jsx("span",{className:`estado-badge ${T.activo?"activo":"inactivo"}`,children:T.activo?" Activo":" Inactivo"}),u.jsx("button",{onClick:()=>q(T.id),className:"btn-ver-distribuidor",title:"Ver detalles completos",children:" Ver Detalles"})]})]}),u.jsxs("div",{className:"resultado-contenido",children:[u.jsxs("div",{className:"resultado-info-principal",children:[u.jsx("h4",{children:T.nombre}),u.jsxs("div",{className:"info-grid",children:[u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"ID:"}),u.jsx("code",{onClick:()=>ee(T.id," ID copiado"),className:"clickable-code",title:"Click para copiar",children:T.id})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{children:T.email})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"WhatsApp:"}),u.jsx("a",{href:`https://wa.me/${T.whatsapp}`,target:"_blank",rel:"noopener noreferrer",className:"link-whatsapp",children:T.whatsapp})]})]})]}),u.jsxs("div",{className:"resultado-stats",children:[u.jsxs("div",{className:"stat-mini",children:[u.jsx("span",{className:"stat-label",children:"Clicks:"}),u.jsx("span",{className:"stat-valor",children:((D=T.estadisticas)==null?void 0:D.clicks)||0})]}),u.jsxs("div",{className:"stat-mini",children:[u.jsx("span",{className:"stat-label",children:"Leads:"}),u.jsx("span",{className:"stat-valor",children:((j=T.estadisticas)==null?void 0:j.leads)||0})]}),u.jsxs("div",{className:"stat-mini",children:[u.jsx("span",{className:"stat-label",children:"Ventas:"}),u.jsx("span",{className:"stat-valor",children:((P=T.estadisticas)==null?void 0:P.conversiones)||0})]}),u.jsxs("div",{className:"stat-mini saldo",children:[u.jsx("span",{className:"stat-label",children:"Saldo:"}),u.jsx("span",{className:"stat-valor",children:x(((I=T.comisiones)==null?void 0:I.saldoDisponible)||0)})]})]}),T.leadsRelacionados&&T.leadsRelacionados.length>0&&u.jsxs("div",{className:"leads-relacionados",children:[u.jsx("h5",{children:" Leads relacionados con tu bsqueda:"}),T.leadsRelacionados.map((ge,F)=>u.jsxs("div",{className:"lead-mini",children:[u.jsx("code",{children:ge.codigoUnico})," - ",ge.nombreCliente," (",ge.telefono,")"]},F))]})]})]},R):T.tipo==="lead"?u.jsxs("div",{className:"resultado-item lead-item",children:[u.jsxs("div",{className:"resultado-header",children:[u.jsx("div",{className:"resultado-tipo-badge lead-badge",children:" LEAD"}),u.jsxs("span",{className:`badge badge-${T.estado||"pendiente"}`,children:[T.estado==="pendiente"&&" Pendiente",T.estado==="contactado"&&" Contactado",T.estado==="compra_ejecutada"&&" Ejecutada",T.estado==="cancelado"&&" Cancelado"]})]}),u.jsxs("div",{className:"resultado-contenido",children:[u.jsxs("div",{className:"resultado-info-principal",children:[u.jsx("h4",{children:T.nombreCliente}),u.jsxs("div",{className:"info-grid",children:[u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"Cdigo:"}),u.jsx("code",{onClick:()=>ee(T.codigoUnico," Cdigo copiado"),className:"clickable-code",title:"Click para copiar",children:T.codigoUnico})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"Telfono:"}),u.jsx("a",{href:`https://wa.me/${T.telefono}`,target:"_blank",rel:"noopener noreferrer",className:"link-whatsapp",children:T.telefono})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{children:T.email||"N/A"})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"Producto:"}),u.jsx("span",{className:"producto-tag",children:T.productoInteres})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"label",children:"Fecha:"}),u.jsx("span",{children:he(T.fechaHora)})]}),((Ee=T.comision)==null?void 0:Ee.monto)>0&&u.jsxs("div",{className:"info-item comision-info",children:[u.jsx("span",{className:"label",children:"Comisin:"}),u.jsxs("span",{className:"comision-valor",children:[x(T.comision.monto),T.comision.pagada&&u.jsx("span",{className:"badge-pagada",children:"  Pagada"})]})]})]})]}),u.jsxs("div",{className:"lead-acciones",children:[u.jsxs("div",{className:"accion-item",children:[u.jsx("span",{className:"accion-label",children:"Cambiar estado:"}),u.jsxs("select",{value:T.estado||"pendiente",onChange:ge=>Z(T.id,ge.target.value,T),className:"select-estado-buscador",children:[u.jsx("option",{value:"pendiente",children:" Pendiente"}),u.jsx("option",{value:"contactado",children:" Contactado"}),u.jsx("option",{value:"compra_ejecutada",children:" Compra Ejecutada"}),u.jsx("option",{value:"cancelado",children:" Cancelado"})]})]}),T.distribuidorId&&u.jsx("button",{onClick:()=>q(T.distribuidorId),className:"btn-ver-distribuidor-lead",children:" Ver Distribuidor"})]})]})]},R):null})})]})}),b&&u.jsxs("div",{className:`notification-toast notification-${N.type}`,children:[u.jsx("span",{className:"notification-icon",children:N.type==="success"?"":""}),u.jsx("span",{className:"notification-message",children:N.message}),u.jsx("button",{className:"notification-close",onClick:()=>S(!1),children:""})]})]})},XO=()=>{const[s,e]=O.useState("distribuidores"),[n,a]=O.useState({totalDistribuidores:0,totalClicks:0,totalLeads:0,totalConversiones:0,saldoPendiente:0,totalPagado:0,solicitudesPendientes:0,leadsSinAtender:0}),o=Oo();O.useEffect(()=>{c();const g=setInterval(()=>{c()},3e4);return()=>clearInterval(g)},[]);const c=async()=>{try{const g=jt(De,"distribuidores"),y=await rn(g);let A=0,b=0,S=0,N=0;y.forEach(ee=>{var x,T,R,D;const he=ee.data();A+=((x=he.estadisticas)==null?void 0:x.clicks)||0,b+=((T=he.estadisticas)==null?void 0:T.leads)||0,S+=((R=he.comisiones)==null?void 0:R.saldoDisponible)||0,N+=((D=he.comisiones)==null?void 0:D.totalPagado)||0});const L=jt(De,"leads"),U=await rn(L);let V=0,H=0;U.forEach(ee=>{const he=ee.data();(he.estado==="compra_ejecutada"||he.estado==="cerrado")&&V++,(he.estado==="pendiente"||he.estado==="contactado")&&H++});const Z=jt(De,"solicitudesRetiro"),q=await rn(Z);let W=0;q.forEach(ee=>{ee.data().estado==="pendiente"&&W++}),a({totalDistribuidores:y.size,totalClicks:A,totalLeads:U.size,totalConversiones:V,saldoPendiente:S,totalPagado:N,solicitudesPendientes:W,leadsSinAtender:H})}catch(g){console.error("Error al cargar estadsticas:",g)}},d=async()=>{try{await ph(Ft),o("/admin/login")}catch(g){console.error("Error al cerrar sesin:",g)}},p=g=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(g);return u.jsxs("div",{className:"admin-dashboard",children:[u.jsxs("header",{className:"admin-header",children:[u.jsxs("div",{className:"header-info",children:[u.jsx("h1",{children:" Simplia Admin"}),u.jsx("p",{className:"header-subtitle",children:"Panel de Control"})]}),u.jsx("button",{onClick:d,className:"btn-logout",children:" Cerrar Sesin"})]}),u.jsx("div",{className:"buscador-global-container",children:u.jsx(YO,{onNavigateToDistribuidor:g=>{e("distribuidores")}})}),u.jsxs("div",{className:"stats-container",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Total Distribuidores"}),u.jsx("p",{className:"stat-number",children:n.totalDistribuidores})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Clicks Totales"}),u.jsx("p",{className:"stat-number",children:n.totalClicks.toLocaleString()})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Leads Totales"}),u.jsx("p",{className:"stat-number",children:n.totalLeads})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Ventas Completadas"}),u.jsx("p",{className:"stat-number",children:n.totalConversiones})]})]}),n.leadsSinAtender>0&&u.jsxs("div",{className:"stat-card stat-card-warning pulse",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Leads Sin Atender"}),u.jsx("p",{className:"stat-number",children:n.leadsSinAtender})]})]}),u.jsxs("div",{className:"stat-card stat-card-success",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Saldo Pendiente"}),u.jsx("p",{className:"stat-number",children:p(n.saldoPendiente)})]})]}),u.jsxs("div",{className:"stat-card stat-card-info",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Total Pagado"}),u.jsx("p",{className:"stat-number",children:p(n.totalPagado)})]})]}),n.solicitudesPendientes>0&&u.jsxs("div",{className:"stat-card stat-card-warning",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Solicitudes Pendientes"}),u.jsx("p",{className:"stat-number",children:n.solicitudesPendientes})]})]})]}),u.jsxs("div",{className:"admin-nav",children:[u.jsxs("button",{className:s==="distribuidores"?"active":"",onClick:()=>e("distribuidores"),children:[" Distribuidores",n.leadsSinAtender>0&&u.jsx("span",{className:"badge-count",children:n.leadsSinAtender})]}),u.jsx("button",{className:s==="crear"?"active":"",onClick:()=>e("crear"),children:" Crear Distribuidor"}),u.jsxs("button",{className:s==="solicitudes"?"active":"",onClick:()=>e("solicitudes"),children:[" Solicitudes de Retiro",n.solicitudesPendientes>0&&u.jsx("span",{className:"badge-count",children:n.solicitudesPendientes})]}),u.jsx("button",{className:s==="comisiones"?"active":"",onClick:()=>e("comisiones"),children:" Configurar Comisiones"})]}),u.jsxs("div",{className:"admin-content",children:[s==="crear"&&u.jsx(GO,{onCreado:()=>{e("distribuidores"),c()}}),s==="distribuidores"&&u.jsx(QO,{onUpdate:c,leadsSinAtender:n.leadsSinAtender}),s==="comisiones"&&u.jsx(KO,{}),s==="solicitudes"&&u.jsx(JO,{onUpdate:c})]})]})},ZO=()=>{const[s,e]=O.useState(""),[n,a]=O.useState(""),[o,c]=O.useState(""),[d,p]=O.useState(!1),g=Oo(),y=async A=>{A.preventDefault(),c(""),p(!0);try{console.log(" Intentando login con:",s);const S=(await iS(Ft,s,n)).user.uid;console.log(" Usuario autenticado con UID:",S);const N=ct(De,"distribuidores",S),L=await _i(N);if(!L.exists()){console.error(" No existe en distribuidores"),c("No tienes permisos de distribuidor"),await Ft.signOut(),p(!1);return}const U=L.data();if(console.log(" Distribuidor encontrado:",U),!U.activo){console.error(" Distribuidor inactivo"),c("Tu cuenta est inactiva. Contacta al administrador."),await Ft.signOut(),p(!1);return}console.log(" Login exitoso, redirigiendo..."),g("/distribuidor/dashboard")}catch(b){console.error(" Error en login:",b),b.code==="auth/user-not-found"||b.code==="auth/wrong-password"||b.code==="auth/invalid-credential"?c("Email o contrasea incorrectos"):b.code==="auth/invalid-email"?c("Email invlido"):b.code==="auth/too-many-requests"?c("Demasiados intentos. Intenta ms tarde."):c("Error al iniciar sesin. Intenta de nuevo.")}finally{p(!1)}};return u.jsx("div",{className:"distribuidor-login-container",children:u.jsxs("div",{className:"login-box",children:[u.jsxs("div",{className:"login-logo",children:[u.jsx("h1",{children:" Simplia"}),u.jsx("p",{className:"login-subtitle",children:"Panel de Distribuidor"})]}),u.jsxs("form",{onSubmit:y,children:[o&&u.jsxs("div",{className:"error-message",children:[" ",o]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:s,onChange:A=>e(A.target.value),placeholder:"tu@email.com",required:!0,disabled:d})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Contrasea"}),u.jsx("input",{type:"password",value:n,onChange:A=>a(A.target.value),placeholder:"",required:!0,disabled:d})]}),u.jsx("button",{type:"submit",className:"btn-login",disabled:d,children:d?"Iniciando sesin...":"Iniciar Sesin"})]}),u.jsx("div",{className:"login-footer",children:u.jsx("p",{children:"Problemas para acceder? Contacta al administrador"})})]})})},WO=({distribuidorId:s})=>{const[e,n]=O.useState([]),[a,o]=O.useState(!0);O.useEffect(()=>{c()},[s]);const c=async()=>{try{const y=jt(De,"leads"),A=ma(y,Ps("distribuidorId","==",s)),b=await rn(A),S=[];b.forEach(N=>{S.push({id:N.id,...N.data()})}),S.sort((N,L)=>new Date(L.fechaHora)-new Date(N.fechaHora)),n(S)}catch(y){console.error("Error al cargar leads:",y)}finally{o(!1)}},d=y=>y?new Date(y).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",p=y=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(y),g=y=>{const A={pendiente:{emoji:"",texto:"Pendiente",clase:"badge-pendiente"},contactado:{emoji:"",texto:"Contactado",clase:"badge-contactado"},compra_ejecutada:{emoji:"",texto:"Completada",clase:"badge-completada"},cancelado:{emoji:"",texto:"Cancelado",clase:"badge-cancelado"}};return A[y]||A.pendiente};return a?u.jsx("div",{className:"loading-container",children:u.jsx("p",{children:"Cargando leads..."})}):u.jsxs("div",{className:"mis-leads-container",children:[u.jsx("h2",{children:" Mis Leads"}),u.jsxs("p",{className:"subtitle",children:["Total de leads: ",e.length]}),e.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("p",{children:"An no tienes leads registrados"}),u.jsx("p",{children:"Comparte tu enlace para empezar a recibir clientes"})]}):u.jsx("div",{className:"tabla-leads",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Cdigo"}),u.jsx("th",{children:"Cliente"}),u.jsx("th",{children:"Telfono"}),u.jsx("th",{children:"Producto"}),u.jsx("th",{children:"Estado"}),u.jsx("th",{children:"Comisin"}),u.jsx("th",{children:"Fecha"})]})}),u.jsx("tbody",{children:e.map(y=>{var b;const A=g(y.estado);return u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:y.codigoUnico})}),u.jsxs("td",{children:[u.jsx("strong",{children:y.nombreCliente}),y.email&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),u.jsx("small",{children:y.email})]})]}),u.jsx("td",{children:u.jsx("a",{href:`https://wa.me/${y.telefono}`,target:"_blank",rel:"noopener noreferrer",className:"link-whatsapp",children:y.telefono})}),u.jsx("td",{children:y.productoInteres}),u.jsx("td",{children:u.jsxs("span",{className:`badge ${A.clase}`,children:[A.emoji," ",A.texto]})}),u.jsx("td",{children:(b=y.comision)!=null&&b.monto?u.jsxs("span",{className:`comision-monto ${y.comision.pagada?"pagada":""}`,children:[p(y.comision.monto),y.comision.pagada&&u.jsx("span",{className:"badge-pagado",children:" Pagado"})]}):u.jsx("span",{className:"sin-comision",children:"Sin comisin"})}),u.jsx("td",{children:d(y.fechaHora)})]},y.id)})})]})})]})},$O=({distribuidorId:s})=>{var he;const[e,n]=O.useState([]),[a,o]=O.useState([]),[c,d]=O.useState([]),[p,g]=O.useState(!0),[y,A]=O.useState(null),[b,S]=O.useState(!1),[N,L]=O.useState("todos");O.useEffect(()=>{U()},[s]);const U=async()=>{try{const x=jt(De,"leads"),T=ma(x,Ps("distribuidorId","==",s),Ps("estado","==","compra_ejecutada")),R=await rn(T),D=[];R.forEach(ye=>{var te;const M=ye.data();((te=M.comision)==null?void 0:te.monto)>0&&D.push({id:ye.id,...M})}),D.sort((ye,M)=>new Date(M.fechaCompra)-new Date(ye.fechaCompra)),n(D);const j=jt(De,"pagosComisiones"),P=ma(j,Ps("distribuidorId","==",s)),I=await rn(P),Ee=[];I.forEach(ye=>{Ee.push({id:ye.id,...ye.data()})}),Ee.sort((ye,M)=>new Date(M.fechaPago)-new Date(ye.fechaPago)),o(Ee);const ge=jt(De,"solicitudesRetiro"),F=ma(ge,Ps("distribuidorId","==",s)),oe=await rn(F),ce=[];oe.forEach(ye=>{ce.push({id:ye.id,...ye.data()})}),ce.sort((ye,M)=>{const te=ye.fechaSolicitud?new Date(ye.fechaSolicitud):new Date(0);return(M.fechaSolicitud?new Date(M.fechaSolicitud):new Date(0))-te}),d(ce)}catch(x){console.error("Error al cargar comisiones:",x)}finally{g(!1)}},V=x=>{A(x),S(!0)},H=x=>{if(!x)return"N/A";try{return new Date(x).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"N/A"}},Z=x=>!x||isNaN(x)?"$0":new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(x),q=e.filter(x=>{var T;return!((T=x.comision)!=null&&T.pagada)});c.filter(x=>x.estado==="pendiente");const W=c.filter(x=>x.estado==="rechazada"),ee=()=>N==="todos"?[...a,...W].sort((x,T)=>{const R=x.fechaPago?new Date(x.fechaPago):new Date(x.fechaSolicitud);return(T.fechaPago?new Date(T.fechaPago):new Date(T.fechaSolicitud))-R}):N==="aprobados"?a:N==="rechazados"?W:[];return p?u.jsx("div",{className:"loading-container",children:u.jsx("p",{children:"Cargando comisiones..."})}):u.jsxs("div",{className:"mis-comisiones-container",children:[u.jsx("h2",{children:" Mis Comisiones"}),u.jsxs("div",{className:"comisiones-section",children:[u.jsx("h3",{children:" Comisiones Pendientes de Pago"}),q.length===0?u.jsx("div",{className:"empty-state-small",children:u.jsx("p",{children:"No tienes comisiones pendientes"})}):u.jsx("div",{className:"tabla-comisiones",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Cdigo Lead"}),u.jsx("th",{children:"Cliente"}),u.jsx("th",{children:"Producto"}),u.jsx("th",{children:"Comisin"}),u.jsx("th",{children:"Fecha Venta"})]})}),u.jsxs("tbody",{children:[q.map(x=>{var T;return u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:x.codigoUnico})}),u.jsx("td",{children:x.nombreCliente}),u.jsx("td",{children:x.productoInteres}),u.jsx("td",{className:"comision-pendiente",children:Z(((T=x.comision)==null?void 0:T.monto)||0)}),u.jsx("td",{children:H(x.fechaCompra)})]},x.id)}),u.jsxs("tr",{className:"total-row",children:[u.jsx("td",{colSpan:"3",style:{textAlign:"right",fontWeight:700},children:"TOTAL PENDIENTE:"}),u.jsx("td",{className:"total-pendiente",colSpan:"2",children:Z(q.reduce((x,T)=>{var R;return x+(((R=T.comision)==null?void 0:R.monto)||0)},0))})]})]})]})})]}),u.jsxs("div",{className:"comisiones-section",children:[u.jsx("h3",{children:" Historial de Solicitudes"}),u.jsxs("div",{className:"historial-filtros",children:[u.jsxs("button",{className:N==="todos"?"active":"",onClick:()=>L("todos"),children:["Todos (",a.length+W.length,")"]}),u.jsxs("button",{className:N==="aprobados"?"active":"",onClick:()=>L("aprobados"),children:[" Aprobados (",a.length,")"]}),u.jsxs("button",{className:N==="rechazados"?"active":"",onClick:()=>L("rechazados"),children:[" Rechazados (",W.length,")"]})]}),ee().length===0?u.jsx("div",{className:"empty-state-small",children:u.jsxs("p",{children:[N==="todos"&&"An no tienes historial",N==="aprobados"&&"An no has recibido pagos",N==="rechazados"&&"No tienes solicitudes rechazadas"]})}):u.jsx("div",{className:"historial-pagos-grid",children:ee().map(x=>{var R,D;const T=x.estado==="rechazada";return u.jsxs("div",{className:"pago-card "+(T?"rechazada":""),children:[u.jsxs("div",{className:"pago-card-header",children:[u.jsx("span",{className:"pago-fecha",children:H(T?x.fechaRechazo:x.fechaPago)}),u.jsx("span",{className:T?"badge badge-cancelado":"badge badge-completada",children:T?" Rechazado":" Pagado"})]}),u.jsxs("div",{className:"pago-card-body",children:[u.jsx("div",{className:"pago-monto",children:Z(x.monto)}),u.jsxs("div",{className:"pago-detalles",children:[!T&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"pago-detalle",children:[u.jsx("span",{className:"label",children:"Mtodo:"}),u.jsx("span",{className:"value",children:x.metodoPago})]}),u.jsxs("div",{className:"pago-detalle",children:[u.jsx("span",{className:"label",children:"Referencia:"}),u.jsx("span",{className:"value",children:u.jsx("code",{children:x.referenciaPago})})]})]}),T&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"pago-detalle",children:[u.jsx("span",{className:"label",children:"Fecha Solicitud:"}),u.jsx("span",{className:"value",children:H(x.fechaSolicitud)})]}),x.motivoRechazo&&u.jsxs("div",{className:"pago-detalle motivo-rechazo",children:[u.jsx("span",{className:"label",children:"Motivo:"}),u.jsx("span",{className:"value",children:x.motivoRechazo})]})]}),u.jsxs("div",{className:"pago-detalle",children:[u.jsx("span",{className:"label",children:"Leads incluidos:"}),u.jsx("span",{className:"value",children:((R=x.leadsIncluidos)==null?void 0:R.length)||0})]}),!T&&((D=x.comprobante)==null?void 0:D.imagenBase64)&&u.jsxs("div",{className:"pago-detalle comprobante-disponible",children:[u.jsx("span",{className:"label",children:"Comprobante:"}),u.jsx("button",{onClick:()=>V(x),className:"btn-ver-comprobante-dist",children:" Ver Comprobante"})]})]})]})]},x.id)})})]}),u.jsxs("div",{className:"resumen-comisiones",children:[u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"resumen-label",children:"Total Comisiones Generadas:"}),u.jsx("span",{className:"resumen-valor",children:Z(e.reduce((x,T)=>{var R;return x+(((R=T.comision)==null?void 0:R.monto)||0)},0))})]}),u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"resumen-label",children:"Total Pagado:"}),u.jsx("span",{className:"resumen-valor pagado",children:Z(a.reduce((x,T)=>x+T.monto,0))})]}),u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"resumen-label",children:"Pendiente de Pago:"}),u.jsx("span",{className:"resumen-valor pendiente",children:Z(q.reduce((x,T)=>{var R;return x+(((R=T.comision)==null?void 0:R.monto)||0)},0))})]})]}),b&&y&&u.jsx("div",{className:"modal-overlay-dist",onClick:()=>S(!1),children:u.jsxs("div",{className:"modal-comprobante-dist",onClick:x=>x.stopPropagation(),children:[u.jsxs("div",{className:"modal-header-dist",children:[u.jsx("h3",{children:" Comprobante de Pago"}),u.jsx("button",{onClick:()=>S(!1),className:"btn-close-modal-dist",children:""})]}),u.jsxs("div",{className:"modal-body-dist",children:[u.jsxs("div",{className:"comprobante-info",children:[u.jsxs("div",{className:"info-row-dist",children:[u.jsx("span",{className:"label",children:"Monto:"}),u.jsx("span",{className:"value destacado",children:Z(y.monto)})]}),u.jsxs("div",{className:"info-row-dist",children:[u.jsx("span",{className:"label",children:"Referencia:"}),u.jsx("span",{className:"value",children:u.jsx("code",{children:y.referenciaPago})})]}),u.jsxs("div",{className:"info-row-dist",children:[u.jsx("span",{className:"label",children:"Fecha de pago:"}),u.jsx("span",{className:"value",children:H(y.fechaPago)})]}),y.observaciones&&u.jsxs("div",{className:"info-row-dist observaciones",children:[u.jsx("span",{className:"label",children:"Observaciones:"}),u.jsx("span",{className:"value",children:y.observaciones})]})]}),(he=y.comprobante)!=null&&he.imagenBase64?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"comprobante-imagen-container",children:u.jsx("img",{src:y.comprobante.imagenBase64,alt:"Comprobante de pago",className:"comprobante-imagen"})}),u.jsx("a",{href:y.comprobante.imagenBase64,download:`comprobante_${y.referenciaPago}.jpg`,className:"btn-descargar-comprobante",children:" Descargar Comprobante"})]}):u.jsx("div",{className:"sin-comprobante",children:u.jsx("p",{children:" Este pago no tiene comprobante adjunto"})})]}),u.jsx("div",{className:"modal-footer-dist",children:u.jsx("button",{onClick:()=>S(!1),className:"btn-cerrar-modal-dist",children:"Cerrar"})})]})})]})},eP=({distribuidor:s,onRetiroSolicitado:e})=>{var T,R,D,j;const[n,a]=O.useState([]),[o,c]=O.useState([]),[d,p]=O.useState(!0),[g,y]=O.useState(!1),[A,b]=O.useState(!1),[S,N]=O.useState({type:"",message:""});O.useEffect(()=>{U()},[s]);const L=(P,I)=>{N({type:P,message:I}),b(!0),setTimeout(()=>{b(!1)},4e3)},U=async()=>{try{const P=jt(De,"leads"),I=ma(P,Ps("distribuidorId","==",s.id),Ps("estado","==","compra_ejecutada")),Ee=await rn(I),ge=[];Ee.forEach(F=>{var ce,ye;const oe=F.data();((ce=oe.comision)==null?void 0:ce.monto)>0&&!((ye=oe.comision)!=null&&ye.pagada)&&ge.push({id:F.id,...oe})}),ge.sort((F,oe)=>new Date(F.fechaCompra)-new Date(oe.fechaCompra)),a(ge)}catch(P){console.error("Error al cargar leads:",P)}finally{p(!1)}},V=P=>{o.includes(P)?c(o.filter(I=>I!==P)):c([...o,P])},H=()=>{o.length===n.length?c([]):c(n.map(P=>P.id))},Z=()=>n.filter(P=>o.includes(P.id)).reduce((P,I)=>{var Ee;return P+(((Ee=I.comision)==null?void 0:Ee.monto)||0)},0),q=async()=>{var P,I;if(o.length===0){L("error","Selecciona al menos una comisin");return}if(!((P=s.datosPago)!=null&&P.banco)||!((I=s.datosPago)!=null&&I.numeroCuenta)){L("error","Configura tus datos de pago primero");return}y(!0);try{const Ee=Z(),ge=n.filter(F=>o.includes(F.id)).map(F=>({leadId:F.id,codigoUnico:F.codigoUnico,nombreCliente:F.nombreCliente,producto:F.productoInteres,comision:F.comision.monto,fechaVenta:F.fechaCompra}));await sg(jt(De,"solicitudesRetiro"),{distribuidorId:s.id,distribuidorNombre:s.nombre,distribuidorEmail:s.email,monto:Ee,leadsIncluidos:ge,datosPago:s.datosPago,estado:"pendiente",fechaSolicitud:new Date().toISOString()}),L("success"," Solicitud enviada correctamente. El administrador procesar tu pago pronto."),c([]),setTimeout(()=>{e&&e()},2e3)}catch(Ee){console.error("Error al solicitar retiro:",Ee),L("error"," Error al enviar solicitud")}finally{y(!1)}},W=P=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(P),ee=P=>P?new Date(P).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric"}):"N/A";if(d)return u.jsx("div",{className:"loading-container",children:u.jsx("p",{children:"Cargando informacin..."})});const he=Z(),x=((T=s.comisiones)==null?void 0:T.saldoDisponible)||0;return u.jsxs("div",{className:"solicitar-retiro-container",children:[u.jsx("h2",{children:" Solicitar Retiro"}),!((R=s.datosPago)!=null&&R.banco)&&u.jsxs("div",{className:"alerta-configurar",children:[" ",u.jsx("strong",{children:"Debes configurar tus datos de pago antes de solicitar un retiro"}),u.jsx("p",{children:'Ve a la seccin "Datos de Pago" para completar tu informacin bancaria.'})]}),u.jsxs("div",{className:"saldo-info-card",children:[u.jsxs("div",{className:"saldo-disponible",children:[u.jsx("span",{className:"label",children:"Saldo Disponible:"}),u.jsx("span",{className:"monto",children:W(x)})]}),((D=s.datosPago)==null?void 0:D.banco)&&u.jsxs("div",{className:"datos-pago-resumen",children:[u.jsx("strong",{children:"Datos de pago configurados:"}),u.jsxs("p",{children:[s.datosPago.banco," - ",s.datosPago.numeroCuenta]})]})]}),n.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("p",{children:"No tienes comisiones pendientes para retirar"}),u.jsx("p",{children:'Las comisiones aparecern aqu cuando tus leads sean marcados como "Compra Ejecutada"'})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"seleccion-header",children:[u.jsxs("button",{onClick:H,className:"btn-seleccionar-todos",children:[o.length===n.length?"":""," ","Seleccionar todos (",n.length,")"]}),o.length>0&&u.jsxs("div",{className:"seleccion-info",children:[u.jsxs("span",{children:[o.length," seleccionado(s)"]}),u.jsx("span",{className:"monto-seleccionado",children:W(he)})]})]}),u.jsx("div",{className:"tabla-retiro",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{width:"50px"},children:u.jsx("input",{type:"checkbox",checked:o.length===n.length,onChange:H})}),u.jsx("th",{children:"Cdigo"}),u.jsx("th",{children:"Cliente"}),u.jsx("th",{children:"Producto"}),u.jsx("th",{children:"Comisin"}),u.jsx("th",{children:"Fecha Venta"})]})}),u.jsx("tbody",{children:n.map(P=>{var I;return u.jsxs("tr",{className:o.includes(P.id)?"seleccionado":"",onClick:()=>V(P.id),style:{cursor:"pointer"},children:[u.jsx("td",{children:u.jsx("input",{type:"checkbox",checked:o.includes(P.id),onChange:()=>V(P.id),onClick:Ee=>Ee.stopPropagation()})}),u.jsx("td",{children:u.jsx("code",{children:P.codigoUnico})}),u.jsx("td",{children:P.nombreCliente}),u.jsx("td",{children:P.productoInteres}),u.jsx("td",{className:"comision-cell",children:W(((I=P.comision)==null?void 0:I.monto)||0)}),u.jsx("td",{children:ee(P.fechaCompra)})]},P.id)})})]})}),o.length>0&&((j=s.datosPago)==null?void 0:j.banco)&&u.jsx("div",{className:"retiro-footer",children:u.jsx("button",{onClick:q,className:"btn-solicitar-retiro",disabled:g,children:g?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"spinner-small"}),"Enviando solicitud..."]}):u.jsxs(u.Fragment,{children:[" Solicitar Retiro de ",W(he)]})})})]}),A&&u.jsxs("div",{className:`notification-toast notification-${S.type}`,children:[u.jsx("span",{className:"notification-icon",children:S.type==="success"?"":""}),u.jsx("span",{className:"notification-message",children:S.message}),u.jsx("button",{className:"notification-close",onClick:()=>b(!1),children:""})]})]})},tP=({distribuidor:s,onDatosActualizados:e})=>{const[n,a]=O.useState({banco:"",tipoCuenta:"",numeroCuenta:"",titular:""}),[o,c]=O.useState(!1),[d,p]=O.useState(!1),[g,y]=O.useState({type:"",message:""});O.useEffect(()=>{s!=null&&s.datosPago&&a({banco:s.datosPago.banco||"",tipoCuenta:s.datosPago.tipoCuenta||"",numeroCuenta:s.datosPago.numeroCuenta||"",titular:s.datosPago.titular||s.nombre})},[s]);const A=(L,U)=>{y({type:L,message:U}),p(!0),setTimeout(()=>{p(!1)},4e3)},b=L=>{const{name:U,value:V}=L.target;if(U==="numeroCuenta"){const H=V.replace(/\D/g,"");a({...n,[U]:H});return}a({...n,[U]:V})},S=async L=>{if(L.preventDefault(),!n.banco||!n.tipoCuenta||!n.numeroCuenta||!n.titular){A("error","Por favor completa todos los campos");return}if(n.numeroCuenta.length<8){A("error","El nmero de cuenta debe tener al menos 8 dgitos");return}c(!0);try{const U=ct(De,"distribuidores",s.id);await ds(U,{datosPago:{banco:n.banco,tipoCuenta:n.tipoCuenta,numeroCuenta:n.numeroCuenta,titular:n.titular,fechaActualizacion:new Date().toISOString()}}),A("success"," Datos de pago actualizados correctamente"),e&&setTimeout(()=>{e()},1e3)}catch(U){console.error("Error al actualizar datos:",U),A("error"," Error al guardar los datos")}finally{c(!1)}},N=["Bancolombia","Banco de Bogot","Davivienda","BBVA Colombia","Banco de Occidente","Banco Popular","Banco Caja Social","Banco AV Villas","Banco Agrario","Bancama","Nequi","Daviplata","Otro"];return u.jsxs("div",{className:"configurar-datos-pago-container",children:[u.jsx("h2",{children:" Configurar Datos de Pago"}),u.jsx("p",{className:"subtitle",children:"Completa tu informacin bancaria para recibir los pagos de tus comisiones"}),u.jsxs("form",{onSubmit:S,className:"form-datos-pago",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"banco",children:"Banco / Entidad Financiera *"}),u.jsxs("select",{id:"banco",name:"banco",value:n.banco,onChange:b,required:!0,disabled:o,children:[u.jsx("option",{value:"",children:"Selecciona un banco"}),N.map(L=>u.jsx("option",{value:L,children:L},L))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"tipoCuenta",children:"Tipo de Cuenta *"}),u.jsxs("select",{id:"tipoCuenta",name:"tipoCuenta",value:n.tipoCuenta,onChange:b,required:!0,disabled:o,children:[u.jsx("option",{value:"",children:"Selecciona tipo de cuenta"}),u.jsx("option",{value:"Ahorros",children:"Ahorros"}),u.jsx("option",{value:"Corriente",children:"Corriente"}),u.jsx("option",{value:"Nequi",children:"Nequi"}),u.jsx("option",{value:"Daviplata",children:"Daviplata"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"numeroCuenta",children:"Nmero de Cuenta *"}),u.jsx("input",{type:"text",id:"numeroCuenta",name:"numeroCuenta",value:n.numeroCuenta,onChange:b,placeholder:"1234567890",required:!0,disabled:o,maxLength:"20"}),u.jsx("small",{className:"input-hint",children:"Ingresa solo nmeros, sin espacios ni guiones"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"titular",children:"Nombre del Titular *"}),u.jsx("input",{type:"text",id:"titular",name:"titular",value:n.titular,onChange:b,placeholder:"Nombre completo como aparece en la cuenta",required:!0,disabled:o}),u.jsx("small",{className:"input-hint",children:"Debe coincidir exactamente con el nombre registrado en el banco"})]}),u.jsxs("div",{className:"datos-resumen",children:[u.jsx("h4",{children:" Resumen de tus datos"}),u.jsxs("div",{className:"resumen-grid",children:[u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"label",children:"Banco:"}),u.jsx("span",{className:"value",children:n.banco||""})]}),u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"label",children:"Tipo:"}),u.jsx("span",{className:"value",children:n.tipoCuenta||""})]}),u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"label",children:"Cuenta:"}),u.jsx("span",{className:"value",children:n.numeroCuenta||""})]}),u.jsxs("div",{className:"resumen-item",children:[u.jsx("span",{className:"label",children:"Titular:"}),u.jsx("span",{className:"value",children:n.titular||""})]})]})]}),u.jsx("button",{type:"submit",className:"btn-guardar-datos",disabled:o,children:o?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"spinner-small"}),"Guardando..."]}):u.jsx(u.Fragment,{children:" Guardar Datos de Pago"})}),u.jsxs("div",{className:"info-seguridad",children:[u.jsx("div",{className:"info-icon",children:""}),u.jsxs("div",{className:"info-texto",children:[u.jsx("strong",{children:"Tu informacin est segura"}),u.jsx("p",{children:"Tus datos bancarios se guardan de forma segura y solo se usan para procesar tus pagos."})]})]})]}),d&&u.jsxs("div",{className:`notification-toast notification-${g.type}`,children:[u.jsx("span",{className:"notification-icon",children:g.type==="success"?"":""}),u.jsx("span",{className:"notification-message",children:g.message}),u.jsx("button",{className:"notification-close",onClick:()=>p(!1),children:""})]})]})},nP=({distribuidorId:s,distribuidorEmail:e})=>{const[n,a]=O.useState(""),[o,c]=O.useState(""),[d,p]=O.useState(""),[g,y]=O.useState(!1),[A,b]=O.useState(!1),[S,N]=O.useState(!1),[L,U]=O.useState({type:"",message:""}),V=(q,W)=>{U({type:q,message:W}),N(!0),setTimeout(()=>{N(!1)},4e3)},H=q=>q.length<6?"La contrasea debe tener al menos 6 caracteres":null,Z=async q=>{if(q.preventDefault(),!n||!o||!d){V("error","Todos los campos son obligatorios");return}if(o!==d){V("error","Las contraseas nuevas no coinciden");return}const W=H(o);if(W){V("error",W);return}if(n===o){V("error","La nueva contrasea debe ser diferente a la actual");return}b(!0);try{const ee=ct(De,"distribuidores",s);await ds(ee,{password:o,ultimoCambioPassword:new Date().toISOString(),passwordCambiadaPorUsuario:!0}),V("success"," Contrasea actualizada correctamente"),a(""),c(""),p("")}catch(ee){console.error("Error al cambiar contrasea:",ee),V("error"," Error al cambiar la contrasea")}finally{b(!1)}};return u.jsxs("div",{className:"cambiar-password-container",children:[u.jsxs("div",{className:"cambiar-password-card",children:[u.jsxs("div",{className:"password-header",children:[u.jsx("h2",{children:" Cambiar Contrasea"}),u.jsx("p",{className:"password-subtitle",children:"Actualiza tu contrasea para mantener tu cuenta segura"})]}),u.jsxs("form",{onSubmit:Z,className:"password-form",children:[u.jsxs("div",{className:"form-group-password",children:[u.jsx("label",{children:"Contrasea actual *"}),u.jsx("div",{className:"password-input-wrapper",children:u.jsx("input",{type:g?"text":"password",value:n,onChange:q=>a(q.target.value),placeholder:"Ingresa tu contrasea actual",disabled:A})})]}),u.jsxs("div",{className:"form-group-password",children:[u.jsx("label",{children:"Nueva contrasea *"}),u.jsx("div",{className:"password-input-wrapper",children:u.jsx("input",{type:g?"text":"password",value:o,onChange:q=>c(q.target.value),placeholder:"Mnimo 6 caracteres",disabled:A})}),u.jsx("small",{className:"password-hint",children:"La contrasea debe tener al menos 6 caracteres"})]}),u.jsxs("div",{className:"form-group-password",children:[u.jsx("label",{children:"Confirmar nueva contrasea *"}),u.jsx("div",{className:"password-input-wrapper",children:u.jsx("input",{type:g?"text":"password",value:d,onChange:q=>p(q.target.value),placeholder:"Repite la nueva contrasea",disabled:A})})]}),u.jsx("div",{className:"mostrar-password-check",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:g,onChange:q=>y(q.target.checked)}),u.jsx("span",{children:"Mostrar contraseas"})]})}),u.jsx("div",{className:"password-actions",children:u.jsx("button",{type:"submit",className:"btn-cambiar-password",disabled:A,children:A?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"spinner-small"}),"Cambiando..."]}):" Cambiar Contrasea"})})]}),u.jsxs("div",{className:"password-info-box",children:[u.jsx("h4",{children:" Consejos de seguridad"}),u.jsxs("ul",{children:[u.jsx("li",{children:" Usa una contrasea nica que no uses en otros sitios"}),u.jsx("li",{children:" Combina letras, nmeros y caracteres especiales"}),u.jsx("li",{children:" No compartas tu contrasea con nadie"}),u.jsx("li",{children:" Cmbiala peridicamente"})]})]})]}),S&&u.jsxs("div",{className:`notification-toast notification-${L.type}`,children:[u.jsx("span",{className:"notification-icon",children:L.type==="success"?"":""}),u.jsx("span",{className:"notification-message",children:L.message}),u.jsx("button",{className:"notification-close",onClick:()=>N(!1),children:""})]})]})},sP=({message:s,onClose:e})=>u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-box",children:[u.jsx("p",{children:s}),u.jsx("button",{onClick:e,className:"popup-btn",children:"Cerrar"})]})}),iP=()=>{var L;const[s,e]=O.useState("resumen"),[n,a]=O.useState(null),[o,c]=O.useState({clicks:0,leads:0,conversiones:0,saldoDisponible:0,totalGanado:0,totalPagado:0}),[d,p]=O.useState(!0),[g,y]=O.useState(null),A=Oo();O.useEffect(()=>{b()},[]);const b=async()=>{var V,H,Z,q,W,ee;const U=Ft.currentUser;if(!U){console.log(" No hay usuario autenticado"),A("/distribuidor/login");return}try{console.log(" Cargando datos del distribuidor:",U.uid);const he=ct(De,"distribuidores",U.uid),x=await _i(he);if(!x.exists()){console.error(" Distribuidor no encontrado"),await ph(Ft),A("/distribuidor/login");return}const T={id:x.id,...x.data()};if(!T.activo){console.error(" Distribuidor inactivo"),await ph(Ft),A("/distribuidor/login");return}a(T),c({clicks:((V=T.estadisticas)==null?void 0:V.clicks)||0,leads:((H=T.estadisticas)==null?void 0:H.leads)||0,conversiones:((Z=T.estadisticas)==null?void 0:Z.conversiones)||0,saldoDisponible:((q=T.comisiones)==null?void 0:q.saldoDisponible)||0,totalGanado:((W=T.comisiones)==null?void 0:W.totalGanado)||0,totalPagado:((ee=T.comisiones)==null?void 0:ee.totalPagado)||0}),console.log(" Datos cargados correctamente")}catch(he){console.error(" Error al cargar datos:",he),A("/distribuidor/login")}finally{p(!1)}},S=async()=>{try{await ph(Ft),A("/distribuidor/login")}catch(U){console.error("Error al cerrar sesin:",U)}},N=U=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(U);return d?u.jsx("div",{className:"loading-container",children:u.jsx("p",{children:"Cargando panel..."})}):n?u.jsxs("div",{className:"distribuidor-dashboard",children:[g&&u.jsx(sP,{message:g,onClose:()=>y(null)}),u.jsxs("header",{className:"distribuidor-header",children:[u.jsxs("div",{className:"header-info",children:[u.jsx("h1",{children:" Panel Distribuidor"}),u.jsxs("p",{className:"distribuidor-nombre",children:["Hola, ",u.jsx("strong",{children:n==null?void 0:n.nombre})]})]}),u.jsx("button",{onClick:S,className:"btn-logout",children:"Cerrar Sesin"})]}),u.jsxs("div",{className:"stats-container",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Clicks"}),u.jsx("p",{className:"stat-number",children:o.clicks})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Leads"}),u.jsx("p",{className:"stat-number",children:o.leads})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Ventas"}),u.jsx("p",{className:"stat-number",children:o.conversiones})]})]}),u.jsxs("div",{className:"stat-card stat-card-success",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Saldo Disponible"}),u.jsx("p",{className:"stat-number",children:N(o.saldoDisponible)})]})]}),u.jsxs("div",{className:"stat-card stat-card-info",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Total Ganado"}),u.jsx("p",{className:"stat-number",children:N(o.totalGanado)})]})]}),u.jsxs("div",{className:"stat-card stat-card-gray",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("h3",{children:"Total Pagado"}),u.jsx("p",{className:"stat-number",children:N(o.totalPagado)})]})]})]}),u.jsxs("div",{className:"distribuidor-nav",children:[u.jsx("button",{className:s==="resumen"?"active":"",onClick:()=>e("resumen"),children:" Resumen"}),u.jsx("button",{className:s==="leads"?"active":"",onClick:()=>e("leads"),children:" Mis Leads"}),u.jsx("button",{className:s==="comisiones"?"active":"",onClick:()=>e("comisiones"),children:" Mis Comisiones"}),u.jsx("button",{className:s==="retiro"?"active":"",onClick:()=>e("retiro"),children:" Solicitar Retiro"}),u.jsx("button",{className:s==="datos"?"active":"",onClick:()=>e("datos"),children:" Datos de Pago"}),u.jsx("button",{className:s==="password"?"active":"",onClick:()=>e("password"),children:" Cambiar Contrasea"})]}),u.jsxs("div",{className:"distribuidor-content",children:[s==="resumen"&&u.jsxs("div",{className:"resumen-container",children:[u.jsx("h2",{children:" Resumen General"}),u.jsxs("div",{className:"resumen-grid",children:[u.jsxs("div",{className:"resumen-card",children:[u.jsx("h3",{children:" Tu Enlace de Distribuidor"}),u.jsxs("div",{className:"enlace-box",children:[u.jsxs("code",{children:["https://simpliacol.com/",n==null?void 0:n.id]}),u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`https://simpliacol.com/${n==null?void 0:n.id}`),y("Enlace copiado al portapapeles ")},className:"btn-copiar-enlace",children:" Copiar"})]})]}),u.jsxs("div",{className:"resumen-card",children:[u.jsx("h3",{children:" Cmo Funciona"}),u.jsxs("ul",{className:"lista-instrucciones",children:[u.jsx("li",{children:" Comparte tu enlace con clientes potenciales"}),u.jsx("li",{children:" Cuando compren, ganars comisin automticamente"}),u.jsx("li",{children:" Solicita retiro cuando tengas saldo disponible"}),u.jsx("li",{children:" Configura tus datos bancarios para recibir pagos"})]})]}),u.jsxs("div",{className:"resumen-card",children:[u.jsx("h3",{children:" Tus Nmeros"}),u.jsxs("div",{className:"numeros-grid",children:[u.jsxs("div",{className:"numero-item",children:[u.jsx("span",{className:"numero-label",children:"Clicks:"}),u.jsx("span",{className:"numero-value",children:o.clicks})]}),u.jsxs("div",{className:"numero-item",children:[u.jsx("span",{className:"numero-label",children:"Leads:"}),u.jsx("span",{className:"numero-value",children:o.leads})]}),u.jsxs("div",{className:"numero-item",children:[u.jsx("span",{className:"numero-label",children:"Ventas:"}),u.jsx("span",{className:"numero-value",children:o.conversiones})]}),u.jsxs("div",{className:"numero-item destacado",children:[u.jsx("span",{className:"numero-label",children:"Saldo:"}),u.jsx("span",{className:"numero-value",children:N(o.saldoDisponible)})]})]})]})]}),!((L=n==null?void 0:n.datosPago)!=null&&L.banco)&&u.jsxs("div",{className:"alerta-datos-pago",children:[" ",u.jsx("strong",{children:"Importante:"})," Configura tus datos de pago para poder recibir tus comisiones.",u.jsx("button",{onClick:()=>e("datos"),className:"btn-configurar-ahora",children:"Configurar Ahora"})]})]}),s==="leads"&&u.jsx(WO,{distribuidorId:n==null?void 0:n.id}),s==="comisiones"&&u.jsx($O,{distribuidorId:n==null?void 0:n.id}),s==="retiro"&&u.jsx(eP,{distribuidor:n,onRetiroSolicitado:b}),s==="datos"&&u.jsx(tP,{distribuidor:n,onDatosActualizados:b}),s==="password"&&u.jsx(nP,{distribuidorId:n==null?void 0:n.id,distribuidorEmail:n==null?void 0:n.email})]})]}):u.jsxs("div",{className:"error-container",children:[u.jsx("h2",{children:"Error al cargar datos"}),u.jsx("button",{onClick:()=>A("/distribuidor/login"),children:"Volver al login"})]})};function aP(){return u.jsx(vC,{children:u.jsxs(Yw,{children:[u.jsx(cr,{path:"/",element:u.jsx(Kw,{to:"/admin/login",replace:!0})}),u.jsx(cr,{path:"/admin/login",element:u.jsx(HO,{})}),u.jsx(cr,{path:"/admin/dashboard",element:u.jsx(XO,{})}),u.jsx(cr,{path:"/distribuidor/login",element:u.jsx(ZO,{})}),u.jsx(cr,{path:"/distribuidor/dashboard",element:u.jsx(iP,{})}),u.jsx(cr,{path:"/:distribuidorId",element:u.jsx(qO,{})})]})})}nw.createRoot(document.getElementById("root")).render(u.jsx(O.StrictMode,{children:u.jsx(aP,{})}));
